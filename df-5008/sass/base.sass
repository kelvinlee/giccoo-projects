@import sass/base

$debug : false
$cdn : "../"
@if not $debug
	$cdn : "http://image.giccoo.com/projects/corona/"

// animation, delay, duration
@for $i from 1 through 50
	.delay-#{$i}
		animation-delay: $i*100ms
	.duration-#{$i}
		animation-duration: $i*100ms

$fontColor: #ffffff;
$pageMainBGColor: #000000;


+keyframes(second)
	0%
		transform: rotate(0deg)
	100%
		transform: rotate(360deg)

+keyframes(littlemove)
	0%,50%
		transform: translate3d(0,0,0)
		opacity: 1
	100%
		transform: translate3d(-10px,0,0)
		opacity: 0.8

+keyframes(littlemoveright)
	0%,50%
		transform: translate3d(0,0,0) scale(-1,1)
		opacity: 1
	100%
		transform: translate3d(10px,0,0) scale(-1,1)
		opacity: 0.8

+keyframes(moveleft)
	0%,50%
		transform: translate3d(0,0,0)
		opacity: 1
	100%
		transform: translate3d(-50px,0,0)
		opacity: 0

+keyframes(showdarkandlight)
	0%
		opacity: 0.8
		color: #ffee90
	40%,60%
		opacity: 1
		color: #fff
	100%
		opacity: 0.8
		color: #ffee90

html,body
	+w
	+h
	max-width: 640px

body
	color: $fontColor
	+bc($pageMainBGColor)
video,canvas
	+w
	+h(auto)
body
	+overhide

.wechat-share-hide,.load-before
	+posa
	+tl(-1000px)
	+hide
	+w(1px)
	+h(1px)

.playsound
	+posa
	+tr(0.5rem,2%)
	+iw(58)
	z-index: 99
	font-size: 0
	.play
		+animation(second,4s,ease,infinite)

.hide
	display: none

.main
	+w
	+h
	+posr
	+overhide
	.logo-main
		+posa
		+tl
		+w
		z-index: 139
				
				
.page-animation-enter-active
	transition: all .6s ease
	opacity: 1

.page-animation-leave-active
	transition: all .3s linear
	opacity: 1
	transform: translate3d(0,0,0) scale(1,1)
.page-animation-enter
	opacity: 0
	transform: translate3d(0,100px,0) scale(0.8,0.8)
.page-animation-leave-to
	opacity: 0
	transform: translate3d(0,-100px,0) scale(1.2,1.2)

.page-fade-enter-active
	transition: all .6s ease
	opacity: 1
.page-fade-leave-active
	transition: all .3s linear
	opacity: 1
.page-fade-enter,.page-fade-leave-to
	opacity: 0


.player,.video
	$iconColor: #fff
	$iconBColor: rgba(0,0,0,0.0)
	+posr
	+w(auto)
	display: inline-block
	font-size: 0
	.ytp-svg-fill
		fill: $iconColor
	// .ytp-svg-shadow
	// 	stroke: #000
	// 	stroke-opacity: .15
	// 	stroke-width: 2px
	// 	fill: none
	.icon-play
		+posa
		+tl(50%,50%)
		+wh(40%,40%)
		+transform(translate3d(-50%,-50%,0))
		border: solid 2px $iconColor
		border-radius: 50%
		+bc($iconBColor)
		+overhide
.video
	.icon-play
		+tl(50%,50%)
		+h(auto)
		+bc(rgba(80,80,80,0.6))
		+w(20%)
		+transform(translate3d(-50%,-50%,0))
.f0
	font-size: 0
.form
	+w(80%)
	+m
	+p(1.4rem 0)
	$labelColor: #1a2840
	$borderColor: #1a2840
	$inputColor: #1a2840
	.form-grounp
		$h: 1.4rem
		vertical-align: top
		> label
			+wh(30%,$h)
			+show-inline
			+font-size(0.8rem)
			+m(0.2rem 0)
			line-height: $h
			vertical-align: top
			color: $labelColor
		> input
			+wh(68%,$h)
			+font-size(0.8rem)
			+bc(#fff)
			+show-inline
			+box
			+m(0.2rem 0)
			+p(0.2rem)
			line-height: $h
			vertical-align: top
			border: solid 1px $borderColor
			color: $inputColor
			outline: none
			border-radius: 0.4rem
		.comb
			+wh(68%,$h)
			+font-size(1rem)
			+show-inline
			+m(0.2rem 0)
			color: $inputColor
			white-space: nowrap
			label
				+wh(30%,$h)
				+show-inline
				+font-size(0.8rem)
				+text-center
				color: $labelColor
			input
				+show-inline
				+w(1rem)
			.select
				+w(48.5%)
				+m
		.select
			+posr
			+wh(68%,$h)
			+show-inline
			+bc(#fff)
			+m(0.2rem 0)
			+box
			+p(0 0.2rem)
			+font-size(0.8rem)
			color: $inputColor
			border: solid 1px $borderColor
			border-radius: 0.4rem
			&:after
				$size: 0.5rem
				content: " "
				+posa
				+tr(50%,$size)
				+transform(translate3d(0,-50%,0))
				z-index: 99
				border-left: $size/2 solid transparent
				border-right: $size/2 solid transparent
				border-top: $size solid $borderColor
			span
				text-overflow: ellipsis
				+show-inline
				+wh(100%,$h)
				+overhide
			select
				+posa
				+tl
				+br
				+w
				+h
				opacity: 0

	.form-btn
		+text-center
		margin-top: 0.8rem
		button
			+w(40%)
			+m
			+p(2px 0)
			+bc(transparent)
			border: none
.pages
	+w
	+h
	+posr
	+overhide
	perspective: 500
	-webkit-perspective: 500
			transform-style: preserve-3d
	-webkit-transform-style: preserve-3d
	.page
		+posa
		+tl
		+w
		+h
		+bc(#e3dbd5)
		+hide
		background-attachment: fixed
		z-index: 10
		.arrow
			+posf
			+bl(2%,50%)
			+transform(translateX(-50%))
			+w(20px)
			+h(20px)
			margin-left: -10px
			font-size: 0
			+b($cdn+"img/arrow-black.png",no-repeat,center,center, contain)
			+animation(arrow,2.5s,ease,infinite)
			z-index: 109
			&.right
				+bl(auto,auto)
				+tr(50%,2%)
				+animation(arrow-right,2.5s,ease,infinite)
			&.top
				+bl(auto,auto)
				+tr(2%,50%)
				margin-right: -20px
				+animation(arrow-top,2.5s,ease,infinite)
				// animation: none
			// +bc(#000)
		.bg
			+posa
			+tl
			+w
			+h
			z-index: -1
			img
				+w
				+h
		&.on
			z-index: 20
			+show
			& + .page
				+show
				& + .page
					+show
		&.overhide
			+overhide
		&.touch
			overflow: scroll
		@for $i from 1 through 30
			&.page-#{$i}
				z-index: 20-$i
.page
	+posa
	+tl
	+w
	+h
	+overhide

.page-home
	.bg
		+w
		+posa
		+bl
	.text
		+posa
		+tr(20%,10%)
	.text-list
		+posa
		+bl(50%,5%)
		+w(50%)
		p
			+m(0.1rem)
			+font-size(0.8rem)
	.start
		+w(80%)
		+posa
		+bl(5%,10%)
		+text-center
		.btn-start
			display: show-inline
			+wh(3rem,3rem)

.page-build
	.title
		+posa
		+tl(15%,50%)
		+wh(40px,40px)
		margin-left: -20px
	.input
		+posa
		+tl(25%,18.75%)
		+w(62.5%)
		&:before
			content: " "
			+posa
			+tl(-15px,0)
			+wh(30px,30px)
			+bc(#fff)
		&:after
			content: " "
			+posa
			+br(-15px,0)
			+wh(30px,30px)
			+bc(#fff)
		textarea
			+w(80%)
			+h
			border: none
			+bc(transparent)
			+text-center
			+font-size(1rem)
			text-shadow: 1px 1px 1px #000
			line-height: 1.4em
			outline: none
			margin-left: 10%;
	.music-list
		+posa
		+tl(45%,5%)
		+w(90%)
		padding: 10px 20px
		border: solid 1px #fff
		box-sizing: border-box
		+text-center
		.left,.right
			+posa
			+wh(30px,30px)
			+bc(#fff)
			margin-top: -15px
		.left
			+tl(50%,20px)

		.right
			+tr(50%,20px)
		.music-name
			+w(50%)
			display: show-inline
			+m
			+tran
			&.playing
				opacity: 0.7
			h3
				+m
				+font-size(1rem)
				text-shadow: 1px 1px 1px #000
			p
				+m
				+font-size(0.8rem)
				text-shadow: 1px 1px 1px #000
	.btn-next
		+posa
		+bl(20%,25%)
		+w(50%)
		+text-center
		+h(30px)
		+bc(#fff)

.page-build-2
	.message-list
		+posa
		+tl(15%,10%)
		+w(80%)
		.btn
			+w
			+h(30px)
			+bc(rgba(255,255,255,0.3))
			border: solid 1px #fff
			border-radius: 8px
			margin-bottom: 10px
			+overhide
			+tran
			&.index
				+bc(rgba(255,255,255,0.6))

	.btn-next
		+posa
		+bl(20%,25%)
		+w(50%)
		+text-center
		+h(30px)
		+bc(#fff)

.page-image
	.btn-share
		+posa
		+bl(3%,10%)
		+w(35%)
		+h(40px)
		+overhide
		z-index: 9
	.btn-save
		+posa
		+br(3%,10%)
		+w(35%)
		+h(40px)
		+overhide
		z-index: 9
		.longsave
			z-index: 99
	.longsave
		+posa
		+tl
		+w
		+h
		z-index: 8
		opacity: 0

.register-page
	+bc(rgba(0,0,0,0.8))
	.register
		+w(80%)
		margin-left: 10%
		padding-top: 30%
		.title
			+m
			+w(30%)
			+h(30px)
			+bc(#fff)
			margin-bottom: 10px
		.desc
			+m
			+text-center
			+font-size(0.8rem)
			line-height: 1.6em
			margin-bottom: 20px
		.form
			.form-grounp
				+bc(#fff)
				border-radius: 4px
				margin-bottom: 10px
				label
					+w(30%)
					display: show-inline
					color: #ccc
					+text-right
					+posr
				input
					border: none
					+w(65%)
			.label-icon-name,.label-icon-mobile
				&:before
					$size: 20px
					content: " "
					+posa
					+tl(50%,$size/2)
					+wh($size,$size)
					margin-top: -$size/2
					+bc(red)
			.form-btn
				margin-top: 20px
				.submit
					+w

.wechat-sharepage
	+bc(rgba(255,255,255,0.8))
	z-index: 109
