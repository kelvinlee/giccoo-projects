"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),$_GET,AnimatedSprite,Container,Graphics,IsPC,ParticleContainer,Sprite,Text,Texture,TextureCache,UGCTITLE,_CDN,_public,autoDetectRenderer,getId,getTe,images,imageurl,init,lastDate,lastName,lastTime,loadWechatConfig,loader,loading,main,neteaseShareImage,page1Images,resource,resources,sended,shareName,sulwhasoo,sulwhasooCache,sys,timeDouble,ugcCache;loadWechatConfig=function e(){var t,i,n;n=encodeURIComponent(window.location.href.split("#")[0]),t=document.createElement("script"),t.src="//api.giccoo.com/api/config?url="+n,i=document.getElementsByTagName("script")[0],i.parentNode.insertBefore(t,i)},IsPC=function e(){var t,i,n,a;for(n=navigator.userAgent,t=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),i=!0,a=0;a<t.length;){if(n.indexOf(t[a])>0){i=!1;break}a++}return i},$_GET=function(){var e,t,i,n,a,o,s;if(s=window.document.location.href.toString(),o=s.split("?"),"string"==typeof o[1]){for(o=o[1].split("&"),e={},console.log(o),n=0,a=o.length;n<a;n++)t=o[n],i=t.split("="),e[i[0]]=i[1];return e}return{}}(),Vue.component("player",{template:'<div class="player" :class="{play: playing, pause: !playing}" @click="change"> <div class="icon-play" :class="{play: playing, pause: !playing}"> <svg v-if="!icon" v-show="!playing" height="100%" version="1.1" viewBox="0 0 36 36" width="100%"><use class="ytp-svg-shadow" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ytp-id-39"></use><path class="ytp-svg-fill" d="M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z"></path></svg> <svg v-if="!icon" v-show="playing" height="100%" version="1.1" viewBox="0 0 36 36" width="100%"><use class="ytp-svg-shadow" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ytp-id-40"></use><path class="ytp-svg-fill" d="M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z"></path></svg> </div> <audio :src="src" :autoplay="autoplay" :preload="preload" :loop="loop"></audio> <img v-if="thumb" :src="thumb" /> </div>',data:function e(){return{playing:!1,stoped:!1}},props:{name:{default:!1},src:{default:"./mp3/bgm.mp3"},thumb:{default:!1},autoplay:{default:!1},preload:{default:!1},loop:{default:!1},callback:{default:!1},icon:{default:!1}},methods:{play:function e(){var t;return t=this.$emit("play",this),this.playing=!0},pause:function e(){var t;return t=this.$emit("pause",this),this.audio.pause(),this.playing=!1},ended:function e(){return this.playing=!1},change:function e(){return this.playing?(this.audio.pause(),this.stoped=!0):(this.audio.play(),this.stoped=!1,"undefined"!=typeof _hmt&&null!==_hmt&&_hmt.push(["_trackEvent","adidas-originals-eqt",this.name,"play","-"]))}},mounted:function e(t){return console.log(this.name),this.audio=this.$el.children[1],this.audio.addEventListener("pause",this.pause.bind(this)),this.audio.addEventListener("play",this.play.bind(this)),this.audio.addEventListener("ended",this.ended.bind(this))}}),Container=PIXI.Container,ParticleContainer=PIXI.ParticleContainer,autoDetectRenderer=PIXI.autoDetectRenderer,loader=PIXI.loader,resources=PIXI.loader.resources,TextureCache=PIXI.utils.TextureCache,Texture=PIXI.Texture,Sprite=PIXI.Sprite,Graphics=PIXI.Graphics,resource=PIXI.loader.resources,Text=PIXI.Text,AnimatedSprite=PIXI.extras.AnimatedSprite,getTe=function e(t){return resource[t].texture},getId=function e(t,i){return loader.resources[i].textures[t]},null==Number.isInteger&&(Number.isInteger=function(e){return e>=0}),_CDN="./",UGCTITLE=parseInt(5*Math.random()+1),images=[_CDN+"img/hand.png",_CDN+"img/that-girl.png",_CDN+"img/cloud-1.png",_CDN+"img/cloud-2.png",_CDN+"img/cloud-3.png",_CDN+"img/icon-symbol-1.png",_CDN+"img/icon-symbol-2.png",_CDN+"img/icon-symbol-3.png",_CDN+"img/icon-symbol-4.png",_CDN+"img/icon-symbol-5.png",_CDN+"img/point.png",_CDN+"img/product-border.png",_CDN+"img/product-item.png",_CDN+"img/product.png",_CDN+"img/product-light-1.png",_CDN+"img/product-light-2.png",_CDN+"img/product-bg.jpg",_CDN+"img/product-bg-end.jpg",_CDN+"img/page-1-title.png",_CDN+"img/page-1-title-null-new.png",_CDN+"img/page-2-title-null.png",_CDN+"img/page-2-title.png",_CDN+"img/page-3-title-null.png",_CDN+"img/page-3-title.png",_CDN+"img/page-4-title.png",_CDN+"img/page-4-title-null-new.png",_CDN+"img/page-5-title.png",_CDN+"img/page-6-title.png",_CDN+"img/moon.png",_CDN+"img/arrow.png",_CDN+"img/cd.png",_CDN+"img/cd-pointer.png",_CDN+"img/ball.png",_CDN+"img/phone.png",_CDN+"img/qrcode.png",_CDN+"img/star-1.png",_CDN+"img/star-2.png",_CDN+"img/light-1.png",_CDN+"img/light-2.png",_CDN+"img/light-3.png",_CDN+"img/ugc-1.png",_CDN+"img/ugc-2.png",_CDN+"img/ugc-2-1.png",_CDN+"img/ugc-3-1.png",_CDN+"img/ugc-4.png",_CDN+"img/ugc-4-1.png",_CDN+"img/ugc-4-2.png",_CDN+"img/ugc-5.png",_CDN+"img/ugc-5-1.png",_CDN+"img/ugc-5-2.png",_CDN+"img/ugc-5-3.png",_CDN+"img/ugc-text-"+UGCTITLE+".png"],page1Images=[_CDN+"img/hand.png",_CDN+"img/that-girl.png",_CDN+"img/point.png",_CDN+"img/product-border.png",_CDN+"img/product-item.png",_CDN+"img/page-1-title-null-new.png",_CDN+"img/cloud-1.png",_CDN+"img/cloud-2.png",_CDN+"img/cloud-3.png",_CDN+"img/star-1.png",_CDN+"img/star-2.png"],lastDate=null,lastTime=null,lastName=null,shareName=null,sulwhasoo=function(){var e=function(){function e(t){_classCallCheck(this,e);var i,n;i=document.documentElement.clientHeight,n=document.documentElement.clientWidth,this.truew=n,this.trueh=i,this.opts={el:"main",w:750,h:1333,speed:1,defaultShow:!0,class:"",fillColor:6737151},this.opts=Object.assign(this.opts,t),this.default.h=document.documentElement.clientHeight,this.default.w=document.documentElement.clientWidth,this.default.ratio=this.opts.w/this.default.w,this.app=new PIXI.Application({width:this.opts.w,height:this.opts.h,transparent:!0,preserveDrawingBuffer:!0}),null!=this.opts.class&&""!==this.opts.class&&(this.app.view.className=this.opts.class),this.stage=this.app.stage,document.getElementById(this.opts.el).appendChild(this.app.view),PIXI.loader.add([_CDN+"img/icon-loading.png",_CDN+"img/star.png"]).load(this.build.bind(this))}return _createClass(e,[{key:"loaded",value:function e(t){var i;return this.loadCount++,i=main.wy?images.length:page1Images.length,this.maxProgress=Math.ceil(this.loadCount/i*100),main.wy?this.starLoad?void 0:(this.starLoad=!0,this.loadProgress()):(this.loadText.text="Loading..."+this.maxProgress+"%",this.maxProgress>=100&&this.loadEnd(),!1)}},{key:"loadEnd",value:function e(){var t=this,i,n;return _public.note=!1,i=this.loading,i.scaleS=1,this.default.canvasH=n=document.getElementById(this.opts.el).clientHeight,n<this.default.h&&(main.biger=!0),TweenLite.to(i,1.5,{alpha:0,onComplete:function e(){return t.app.ticker.remove(t._loopLoading),t.page1()},onUpdateParams:[i]})}},{key:"loadProgress",value:function e(){var t=this,i;return i=setInterval(function(){if(t.progress+=3,t.progress>=t.maxProgress&&(t.progress=t.maxProgress),t.loadText.text="Loading..."+t.progress+"%",t.progress>=100)return clearInterval(i),setTimeout(function(){return t.loadEnd()},1e3)},100)}},{key:"build",value:function e(){var t,i,n,a,o,s,r;for(this.default.canvasH=i=document.getElementById(this.opts.el).clientHeight,i<this.default.h&&(main.biger=!0),t=new Graphics,t.beginFill(1977403),t.drawRect(0,0,750,1333),this.stage.addChild(t),this.loading=new Container,this.icon=a=new Sprite(getTe(_CDN+"img/icon-loading.png")),a.anchor.set(.5,.5),a.x=375,a.y=566.5,a.rotation=0,this.stars=[],n=o=0;o<18;n=++o)r=new Sprite(getTe(_CDN+"img/star.png")),r.anchor.set(.5,.5),r.x=375-a.width/2+Math.random()*a.width,r.y=566.5+200*Math.random(),r.alpha=.5*Math.random()+.2,r.speed=2*Math.random()+1,s=.5*Math.random()+.5,r.scale.set(s,s),this.loading.addChild(r),this.stars.push(r);return this.loading.addChild(a),this.stage.addChild(this.loading),this._loopLoading=this.loopLoading.bind(this),this.app.ticker.add(this._loopLoading),this.loadText=new Text("Loading...0",{fontFamily:"Arial",fontSize:24,fill:16777215,align:"center"}),this.loadText.x=375-this.loadText.width/2,this.loadText.y=1100,this.loading.addChild(this.loadText),null!=this.opts.callback&&this.opts.callback(),main.wy?PIXI.loader.add(images).use(this.loaded.bind(this)).load(this.build.bind(this)):PIXI.loader.add(page1Images).use(this.loaded.bind(this)).load(this.build.bind(this)),this.animation=!0}},{key:"page1",value:function e(){var t=this,i,n,a,o,s,r,l,h,u,g,p,d,c,m,C,w,f,y;for(this.Index=1,this.stage.removeChild(this.loading),this.cloud=new Container,this.cloud.alpha=0,this.page=new Container,this.page2=new Container,this.page2.alpha=this.page.alpha=0,this.page2.x=this.page.x=20,this.page2.y=this.page.y=20,this.clouds=[],y=[{x:275,y:200},{x:475,y:420},{x:275,y:780},{x:475,y:1150},{x:275,y:1200}],s=r=0;r<5;s=++r)n=new Sprite(getTe(_CDN+"img/cloud-"+(s%3+1)+".png")),n.anchor.set(.5,.5),n.x=n.dex=y[s].x,n.y=n.dey=y[s].y,n.direction=Math.random()>.5,3===s&&n.scale.set(1.3,1.3),2===s&&n.scale.set(.8,.8),this.cloud.addChild(n),this.clouds.push(n);for(f=new Sprite(getTe(_CDN+"img/that-girl.png")),this.page.addChild(f),a=new Container,a.y=80,u=new Sprite(getTe(_CDN+"img/point.png")),u.x=350,u.y=800,u.alpha=0,a.addChild(u),p=new Sprite(getTe(_CDN+"img/product-border.png")),p.scale.set(.7,.7),p.x=420,p.y=760,p.alpha=0,a.addChild(p),g=new Sprite(getTe(_CDN+"img/product-item.png")),g.scale.set(.7,.7),g.x=420,g.y=756,g.alpha=0,g.buttonMode=!0,g.interactive=!0,g.touchstart=g.click=function(){return console.log("click product"),!t.animation&&(main.wy?t.page1Out():null!=window.navigator.userAgent.match(/Android/gi)?alert("活动需要在网易云音乐中进行 建议先在应用商店下载网易云音乐"):window.location.href="https://m.music.163.com/m/applink/?scheme=orpheus%3A%2F%2Fopenurl%3Furl%3Dhttps%3A%2F%2Factivity.music.163.com%2Fsulwhasoo%2F%26thirdfrom%3Dwx")},a.addChild(g),w=new Sprite(main.wy?getTe(_CDN+"img/page-1-title.png"):getTe(_CDN+"img/page-1-title-null-new.png")),w.y=320,w.alpha=0,a.addChild(w),o=new Sprite(getTe(_CDN+"img/hand.png")),o.anchor.set(.5,.5),o.x=420+g.width/2,o.y=760+g.height+100,o.alpha=0,a.addChild(o),this.page.addChild(a),this.bg=i=new Container,s=l=0;l<50;s=++l)C=new Sprite(getTe(_CDN+"img/star-"+(s%2+1)+".png")),C.x=Math.random()*(750-C.width),C.y=Math.random()*(1333-C.height),C.scale.set(.2,.2),C.alpha=.5+.5*Math.random(),this.bg.addChild(C);for(s=h=0;h<20;s=++h)C=new Sprite(getTe(_CDN+"img/star-"+(s%2+1)+".png")),C.x=Math.random()*(750-C.width),C.y=Math.random()*(1333-C.height),C.scale.set(.3,.3),C.alpha=.5+.5*Math.random(),this.bg.addChild(C);for(this.largeStars=[],s=d=0;d<10;s=++d)C=new Sprite(getTe(_CDN+"img/star-"+(s%2+1)+".png")),C.x=Math.random()*(750-C.width),C.y=Math.random()*(1333-C.height),m=.2*Math.random(),C.scale.set(.4+m,.4+m),C.direction=!0,C.speed=.2+.8*Math.random(),C.wait=1+1*Math.random(),this.bg.addChild(C),this.largeStars.push(C);return this.stage.addChild(this.bg),this.stage.addChild(this.page),this.stage.addChild(this.page2),this.stage.addChild(this.cloud),c=function e(){return o.y=760+g.height-15,o.scale.set(1,1),TweenLite.to(o,.5,{alpha:1,onComplete:function e(){return setTimeout(function(){return o.scale.set(.9,.9),setTimeout(function(){return o.scale.set(1,1),setTimeout(function(){return o.scale.set(.9,.9),setTimeout(function(){return o.scale.set(1,1),TweenLite.to(o,1,{delay:1,alpha:0,onComplete:function e(){return c()}})},200)},200)},200)},200)}})},TweenLite.to(this.cloud,.5,{alpha:1,onComplete:function e(){return TweenLite.to(t.page,2.5,{x:0,y:0,alpha:1,ease:Cubic.linear,onComplete:function e(){var i;return t.app.ticker.add(t.loopCloud.bind(t)),i=.5,TweenLite.to(u,i,{x:475,ease:Circ.easeIn,onComplete:function e(){return TweenLite.to(u,i,{x:590,ease:Circ.easeOut})}}),TweenLite.to(u,i,{y:680,ease:Circ.easeOut,onComplete:function e(){return TweenLite.to(u,i,{y:750,ease:Circ.easeIn,onComplete:function e(){return TweenLite.to(u,i,{y:800,alpha:0,ease:Circ.easeOut,onComplete:function e(){return TweenLite.to(p,3*i,{alpha:.8}),t.animation=!1,TweenLite.to(g,3*i,{alpha:1,onComplete:function e(){return t.productLight(p)}}),TweenLite.to(w,3*i,{alpha:1,y:666.5-w.height/2-80,onComplete:function e(){return c()}})}})}})}})}}),TweenLite.to(u,1,{alpha:1,delay:1}),t.showCloud()}}),this.app.ticker.add(this.loopBgStar.bind(this))}},{key:"productLight",value:function e(t){var i=this;return!!this.page.visible&&TweenLite.to(t,.3,{alpha:.2,onComplete:function e(){return TweenLite.to(t,.6,{alpha:1,onComplete:function e(){return i.productLight(t)}})}})}},{key:"page1Out",value:function e(){var t=this;return this.hideCloud(),this.page2build(),TweenLite.to(this.page,.7,{alpha:0,x:20,y:20,onComplete:function e(){return t.page.visible=!1}})}},{key:"page2build",value:function e(){var t=this,i,n,a,o,s,r,l,h;return this.Index=2,this.animation=!0,o=new Sprite(getTe(_CDN+"img/moon.png")),o.anchor.set(.5,.01),o.x=375,o.scale.set(1.01,1.01),this.page2.addChild(o),l=new Container,l.alpha=0,null==lastDate||""===lastDate?h=new Sprite(getTe(_CDN+"img/page-2-title-null.png")):(h=new Sprite(getTe(_CDN+"img/page-2-title.png")),a=new Text(lastDate,{fontFamily:"Arial",fontSize:44,fill:2791517,align:"left"}),a.y=142,r=new Text(lastTime,{fontFamily:"Arial",fontSize:44,fill:2791517,align:"left"}),r.y=195,l.addChild(r),l.addChild(a)),l.x=190,l.y=750,l.addChild(h),this.page2.addChild(l),i=this.nextBtn(),this.page2.addChild(i),this.page2.buttonMode=!0,this.page2.interactive=!0,this.page2.touchstart=this.page2.click=function(e){return!t.animation&&t.page2Out()},TweenLite.to(this.page2,this.cloudTime,{x:0,y:0,alpha:1,delay:.7,onComplete:function e(){return t.showCloud(),t.moonswing(o),TweenLite.to(l,1.6,{alpha:1}),t.animation=!1,n()}}),s=this,n=function e(){var t;return!!s.page2.visible&&(t=i.y,TweenLite.to(i,1.8,{y:t+10,alpha:0,onComplete:function e(){return i.alpha=1,i.y=t,n()}}))}}},{key:"moonswing",value:function e(t){var i=this;return!!this.page2.visible&&TweenLite.to(t,1.5,{rotation:.005,onComplete:function e(){return TweenLite.to(t,1.5,{rotation:-.005,onComplete:function e(){return i.moonswing(t)}})}})}},{key:"page2Out",value:function e(){var t=this;return this.hideCloud(),this.page3build(),TweenLite.to(this.page2,.7,{alpha:0,x:20,y:20,onComplete:function e(){return t.page2.removeChildren(),t.page2.visible=!1}})}},{key:"page3build",value:function e(){var t=this,i,n,a,o,s,r,l,h,u,g;return this.Index=3,this.animation=!0,this.page3=new Container,this.page3.alpha=0,this.page3.x=20,this.page3.y=20,a=new Sprite(getTe(_CDN+"img/cd.png")),a.anchor.set(.5,.5),a.x=375,a.y=a.height-120,this.page3.addChild(a),o=new Sprite(getTe(_CDN+"img/cd-pointer.png")),o.anchor.set(1,0),o.x=650,o.y=0,o.rotation=.7,this.page3.addChild(o),u=new Container,null==lastName||""===lastName?g=new Sprite(getTe(_CDN+"img/page-3-title-null.png")):(g=new Sprite(getTe(_CDN+"img/page-3-title.png")),h=10,s=new Text("《"+lastName+"》",{fontFamily:"Arial",fontSize:44-h,fill:2791517,align:"center"}),s.y=138+h/2,s.x=g.width/2-s.width/2,u.addChild(s)),u.x=375-g.width/2,u.y=a.height+230,u.addChild(g),this.page3.addChild(u),i=this.nextBtn(),this.page3.addChild(i),this.stage.addChildAt(this.page3,2),this.page3.buttonMode=!0,this.page3.interactive=!0,this.page3.touchstart=this.page3.click=function(e){return!t.animation&&t.page3Out()},TweenLite.to(this.page3,this.cloudTime,{x:0,y:0,alpha:1,delay:.7,onComplete:function e(){return t.showCloud(),n(),t.animation=!1,TweenLite.to(o,1.7,{rotation:0,onComplete:function e(){return r()}})}}),l=this,r=function e(){return!!l.page3.visible&&(a.rotation=0,TweenLite.to(a,6,{rotation:2*Math.PI,onComplete:function e(){return r()}}))},n=function e(){var t;return!!l.page3.visible&&(t=i.y,TweenLite.to(i,1.8,{y:t+10,alpha:0,onComplete:function e(){return i.alpha=1,i.y=t,n()}}))}}},{key:"page3Out",value:function e(){var t=this;return this.hideCloud(),this.page4build(),TweenLite.to(this.page3,.7,{alpha:0,x:20,y:20,onComplete:function e(){return t.page3.removeChildren(),t.page3.visible=!1}})}},{key:"page4build",value:function e(){var t=this,i,n,a,o,s,r,l,h,u,g,p;return this.Index=4,this.animation=!0,this.page4=new Container,this.page4.alpha=0,this.page4.x=20,this.page4.y=20,i=new Container,o=new Sprite(getTe(_CDN+"img/ball.png")),r=new Sprite(getTe(_CDN+"img/phone.png")),o.x=r.x=0,o.y=r.y=0,i.x=270,i.y=750,i.width=o.width,i.height=o.height,i.addChild(r),i.addChild(o),this.page4.addChild(i),g=new Container,null==shareName||""===shareName?p=new Sprite(getTe(_CDN+"img/page-4-title-null-new.png")):(p=new Sprite(getTe(_CDN+"img/page-4-title.png")),u=10,s=new Text("《"+shareName+"》",{fontFamily:"Arial",fontSize:42-u,fill:2791517,align:"left"}),s.y=238+u/2,s.x=58,g.addChild(s)),g.x=30,g.y=630,g.alpha=0,g.addChild(p),this.page4.addChild(g),n=this.nextBtn(),this.page4.addChild(n),this.stage.addChildAt(this.page4,2),this.page4.buttonMode=!0,this.page4.interactive=!0,this.page4.touchstart=this.page4.click=function(e){return console.log("page 4"),!t.animation&&t.page4Out()},TweenLite.to(this.page4,this.cloudTime,{x:0,y:0,alpha:1,delay:.7,onComplete:function e(){return t.showCloud(),a(),t.animation=!1,TweenLite.to(g,.7,{alpha:1,delay:2.7}),TweenLite.to(i,3,{x:300,ease:Cubic.easeIn,onComplete:function e(){}}),TweenLite.to(i,3,{y:100,ease:Cubic.easeOut,onComplete:function e(){return TweenLite.to(o,12,{y:-o.height-100})}})}}),h=this,a=function e(){var t;return!!h.page4.visible&&(t=n.y,TweenLite.to(n,1.8,{y:t+10,alpha:0,onComplete:function e(){return n.alpha=1,n.y=t,a()}}))},l=function e(){return TweenLite.to(i,2,{y:280,ease:Cubic.easeIn}),TweenLite.to(i,2,{x:290,ease:Cubic.easeOut,onComplete:function e(){return TweenLite.to(i,1.5,{y:300,ease:Cubic.easeOut}),TweenLite.to(i,1.5,{x:300,ease:Cubic.easeIn,onComplete:function e(){return l()}})}})}}},{key:"page4Out",value:function e(){var t=this;return this.hideCloud(),this.page5build(),TweenLite.to(this.page4,.7,{alpha:0,x:20,y:20,onComplete:function e(){return t.page4.removeChildren(),t.page4.visible=!1}})}},{key:"page5build",value:function e(){var t=this,i,n,a,o,s,r,l,h,u,g,p,d,c,m,C,w,f,y,T,x,v,N,_;for(this.Index=5,this.animation=!0,this.page5=new Container,this.page5.alpha=0,this.page5.x=0,this.page5.y=0,v=0,this.stage.addChildAt(this.page5,2),this.page5.buttonMode=!0,this.page5.interactive=!0,this.page5.touchstart=this.page5.click=function(e){return console.log("page 5 click"),1===v&&c(),!t.animation&&t.page5Out()},TweenLite.to(this.page5,this.cloudTime,{x:0,y:0,alpha:1,delay:.7,onComplete:function e(){return t.showCloud(),d()}}),x=this,N=new Sprite(getTe(_CDN+"img/page-5-title.png")),N.anchor.set(.5,.5),N.x=375,N.y=766.5,N.alpha=0,this.page5.addChild(N),s=[],n=r=0;r<5;n=++r)a=new Sprite(getTe(_CDN+"img/icon-symbol-"+(n+1)+".png")),a.anchor.set(.5,.5),a.x=445+n%2*-100,a.y=-100*(n+1),s.push(a),this.page5.addChild(a);return p=new Sprite(getTe(_CDN+"img/product-light-1.png")),p.anchor.set(.5,1),g=new Sprite(getTe(_CDN+"img/product-light-2.png")),g.anchor.set(.5,1),g.alpha=p.alpha=0,p.x=g.x=375,p.y=g.y=590.5,p.scaleX=1,g.scaleX=.8,g.scale.set(.8,.8),this.page5.addChild(p,g),w=new Sprite(getTe(_CDN+"img/product-bg.jpg")),w.alpha=0,this.page5.addChild(w),l=new Sprite(getTe(_CDN+"img/light-1.png")),l.anchor.set(.5,.5),l.x=375,l.y=l.height/2,l.scale.set(0,0),h=new Sprite(getTe(_CDN+"img/light-2.png")),h.anchor.set(.5,0),h.x=375,h.scale.set(1,0),u=new Sprite(getTe(_CDN+"img/light-3.png")),u.anchor.set(.5,0),u.x=375,u.y=496.5,u.scale.set(0,0),l.alpha=h.alpha=u.alpha=0,this.page5.addChild(l,h,u),C=new Sprite(getTe(_CDN+"img/product.png")),C.alpha=0,this.page5.addChild(C),f=new Sprite(getTe(_CDN+"img/product-bg-end.jpg")),f.alpha=0,this.page5.addChild(f),_=new Sprite(getTe(_CDN+"img/page-6-title.png")),_.anchor.set(.5,1),_.alpha=0,_.y=100+_.height,_.x=375,T=1-(1333-2*this.trueh)/1333,T<1&&_.scale.set(T,T),this.page5.addChild(_),i=this.nextBtn(),i.alpha=0,this.page5.addChild(i),o=0,d=function e(){return TweenLite.to(N,.7,{alpha:1,delay:.7,y:666.5,onComplete:function e(){return i.alpha=1,v=1}})},c=function e(){var r,l,h,u;for(v=2,y(),i.alpha=0,u=t.clouds,l=0,h=u.length;l<h;l++)r=u[l],TweenLite.to(r,.5,{alpha:0});return TweenLite.to(N,.7,{alpha:0,y:566.5,onComplete:function e(){return TweenLite.to(g,1.2,{alpha:1,delay:1.7}),TweenLite.to(p,1.2,{alpha:1,delay:1.7}),TweenLite.to(C,.7,{alpha:1,onComplete:function e(){var t,i;for(i=[],n=t=0;t<5;n=++t)a=s[n],a.y=-100*(n+1),TweenLite.to(a,3,{y:626.5,onComplete:function e(){return o++,m()}}),i.push(TweenLite.to(a,.7,{alpha:0,delay:2.3}));return i}})}})},m=function e(){var n,r;if(o<5)return!1;for(v=3,console.log("run"),n=0,r=s.length;n<r;n++)a=s[n],a.visible=!1;return TweenLite.to(w,1,{alpha:1,delay:.2}),TweenLite.to(h,1,{alpha:1,onUpdate:function e(){return h.scale.set(1,h.alpha)}}),TweenLite.to(l,.7,{alpha:1,delay:.4,onUpdate:function e(){return l.scale.set(l.alpha,l.alpha)}}),TweenLite.to(u,.5,{alpha:1,delay:.8,onUpdate:function e(){return u.scale.set(u.alpha,u.alpha)}}),TweenLite.to(C,1,{alpha:0,delay:.2}),TweenLite.to(f,.6,{alpha:1,delay:1.2,onComplete:function e(){return TweenLite.to(i,.6,{alpha:1}),TweenLite.to(_,.6,{alpha:1,onComplete:function e(){return t.animation=!1}})}})},y=function e(){return TweenLite.to(p,.7,{scaleX:.8,onUpdate:function e(){return p.scale.set(p.scaleX,p.scaleX)},onComplete:function e(){return TweenLite.to(p,.7,{scaleX:1,onUpdate:function e(){return p.scale.set(p.scaleX,p.scaleX)}})}}),TweenLite.to(g,.7,{scaleX:1,onUpdate:function e(){return g.scale.set(g.scaleX,g.scaleX)},onComplete:function e(){return TweenLite.to(g,.7,{scaleX:.8,onUpdate:function e(){return g.scale.set(g.scaleX,g.scaleX)},onComplete:function e(){return y()}})}})}}},{key:"page5Out",value:function e(){var t=this;return this.hideCloud(),this.page6build(),TweenLite.to(this.page5,.7,{alpha:0,x:20,y:20,onComplete:function e(){return t.page5.removeChildren(),t.page5.visible=!1}})}},{key:"page6build",value:function e(){var t=this,i,n,a,o,s,r,l,h,u,g,p,d,c,m,C,w,f,y,T,x,v,N,_,D,b,L,S,I,M,k,X,P,B,E,U,A,G,O;for(this.Index=6,this.animation=!0,this.page6=new Container,this.page6.alpha=0,this.page6.x=0,this.page6.y=0,this.stage.addChildAt(this.page6,2),setTimeout(function(){return t.showCloud()},1700),TweenLite.to(this.page6,this.cloudTime,{x:0,y:0,alpha:1,delay:1.7,onComplete:function e(){return t.animation=!1,setTimeout(function(){return main.ugcBtn=!0},1e3)}}),i=70,this.ugc1=x=new Container,v=new Sprite(getTe(_CDN+"img/ugc-1.png")),v.anchor.set(.5,.5),v.x=375,v.y=666.5+i,v.rotation=0,x.addChild(v),x.alpha=1,N=[],n=o=0;o<3;n=++o)a=new Sprite(getTe(_CDN+"img/icon-symbol-"+(n+1)+".png")),a.anchor.set(.5,.5),a.x=a.dx=525+n%2*a.width/(n%2+1),a.y=a.dy=766.5-100*Math.random()+i,a.speed=1/3+2*Math.random(),a.direction=!0,a.alpha=.5*Math.random(),x.addChild(a),N.push(a);for(c=function e(){return TweenLite.to(v,4,{rotation:.05,onComplete:function e(){return TweenLite.to(v,4,{rotation:-.05,onComplete:function e(){return c()}})}})},c(),this.app.ticker.add(this.symbolRun.bind(this,N)),this.page6.addChild(x),this.ugc2=_=new Container,D=new Sprite(getTe(_CDN+"img/ugc-2.png")),D.y=(1333-v.height)/2+150+i,_.addChild(D),b=new Sprite(getTe(_CDN+"img/ugc-2-1.png")),b.anchor.set(.5,1),b.x=295,b.y=936.5+i,b.direction=!0,_.addChild(b),_.alpha=0,m=function e(){return TweenLite.to(b,.5,{alpha:0,delay:2,onComplete:function e(){return b.y=666.5,b.x=295,b.rotation=.4,TweenLite.to(b,1.5,{alpha:1,x:375,rotation:-.2,y:786.5+i,onComplete:function e(){return TweenLite.to(b,1.5,{x:295,rotation:0,y:936.5+i,onComplete:function e(){return m()}})}})}})},m(),this.page6.addChild(_),this.ugc3=L=new Container,S=new Sprite(getTe(_CDN+"img/cd.png")),S.anchor.set(.5,.5),S.x=375,S.y=666.5+2*i,S.scale.set(.9,.9),L.addChild(S),M=new Sprite(getTe(_CDN+"img/ugc-3-1.png")),M.anchor.set(1,.5),M.x=800,M.y=586.5+2*i,L.addChild(M),L.alpha=0,C=function e(){return S.rotation=0,TweenLite.to(S,6,{rotation:2*Math.PI,onComplete:function e(){return C()}})},C(),I=[],n=s=0;s<3;n=++s)a=new Sprite(getTe(_CDN+"img/icon-symbol-"+(n+1)+".png")),a.anchor.set(.5,.5),a.x=a.dx=125+n*a.width/3,a.y=a.dy=966.5-100*Math.random(),a.speed=1/3+2*Math.random(),a.direction=!0,a.alpha=.5*Math.random(),L.addChild(a),I.push(a);for(this.app.ticker.add(this.symbolRun.bind(this,I)),this.page6.addChild(L),this.ugc4=k=new Container,X=new Sprite(getTe(_CDN+"img/ugc-4.png")),X.anchor.set(.5,.5),X.x=375,X.y=566.5+2*i,P=new Sprite(getTe(_CDN+"img/ugc-4-2.png")),P.anchor.set(.5,.5),P.x=375,P.y=566.5+2*i,k.addChild(X,P),B=[],n=h=0;h<5;n=++h)T=new Sprite(getTe(_CDN+"img/ugc-4-1.png")),T.anchor.set(.5,.5),T.x=T.dx=800+T.width*n,T.y=T.dy=-50-T.height*n,T.toX=-T.width,T.toY=666.5,B.push(T),k.addChild(T);return f=function e(){var t,i;for(n=t=0;t<3;n=++t)T=B[n],T.x=T.dx,T.y=T.dy,T.alpha=1,i=.3+.5*Math.random(),T.scale.set(i,i),TweenLite.to(T,1.4,{x:T.toX-100*Math.random(),y:T.toY+100*Math.random(),rotation:4*Math.PI,alpha:0,delay:1*n});return setTimeout(function(){return f()},6500)},f(),w=function e(){return TweenLite.to(P,2,{x:385,onComplete:function e(){return TweenLite.to(P,2,{x:365,onComplete:function e(){return TweenLite.to(P,1,{x:375,onComplete:function e(){return w()}})}})}})},w(),k.alpha=0,this.page6.addChild(k),this.ugc5=E=new Container,U=new Sprite(getTe(_CDN+"img/ugc-5.png")),A=new Sprite(getTe(_CDN+"img/ugc-5-1.png")),G=new Sprite(getTe(_CDN+"img/ugc-5-2.png")),O=new Sprite(getTe(_CDN+"img/ugc-5-3.png")),A.alpha=G.alpha=O.alpha=0,E.addChild(A,G,O,U),y=function e(){return TweenLite.to(A,1,{alpha:.4,onComplete:function e(){return TweenLite.to(A,2,{alpha:1})}}),TweenLite.to(G,1,{alpha:.4,delay:1,onComplete:function e(){return TweenLite.to(G,2,{alpha:1})}}),TweenLite.to(O,1,{alpha:.4,delay:2,onComplete:function e(){return TweenLite.to(O,2,{alpha:1})}}),setTimeout(function(){return y()},5500)},y(),E.alpha=0,this.page6.addChild(E),this.title=new Sprite(getTe(_CDN+"img/ugc-text-"+UGCTITLE+".png")),this.page6.addChild(this.title),this.ugcleftBtn=r=this.leftBtn(),this.ugcrightBtn=g=this.rightBtn(),this.page6.addChild(r,g),l=this.leftBtn(),l.scale.set(2,2),l.alpha=0,p=this.rightBtn(),p.scale.set(2,2),p.alpha=0,l.buttonMode=!0,l.interactive=!0,l.touchstart=l.click=function(e){return t.selectUGC(!0)},p.buttonMode=!0,p.interactive=!0,p.touchstart=p.click=function(e){return t.selectUGC(!1)},this.page6.addChild(l,p),d=function e(){return r.x=r.dx,r.alpha=1,g.x=g.dx,g.alpha=1,TweenLite.to(r,2,{alpha:0,x:main.biger?75:0,delay:1}),TweenLite.to(g,2,{alpha:0,x:main.biger?675:750,delay:1,onComplete:function e(){return d()}})},d(),this.qrcode=u=new Sprite(getTe(_CDN+"img/qrcode.png")),u.y=1333-u.height,u.visible=!1,this.page6.addChild(u)}},{key:"selectUGC",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments[1],n,a,o,s;if(!(null!=this.page6&&this.page6.alpha>=1))return!1;for(t?this.ugcIndex++:this.ugcIndex--,this.ugcIndex>5&&(this.ugcIndex=1),this.ugcIndex<1&&(this.ugcIndex=5),s=[],n=o=1;o<=5;n=++o)a=this["ugc"+n],n===this.ugcIndex?s.push(TweenLite.to(a,.5,{alpha:1,delay:.1,onComplete:function e(){return i&&i()}})):s.push(TweenLite.to(a,.5,{alpha:0}));return s}},{key:"get",value:function e(){return this.qrcode.visible=!0,this.ugcleftBtn.visible=!1,this.ugcrightBtn.visible=!1,this.app.renderer.render(this.app.stage),this.qrcode.visible=!1,this.ugcleftBtn.visible=!0,this.ugcrightBtn.visible=!0,this.app.view.toDataURL()}},{key:"nextBtn",value:function e(){var t,i,n;return n=new Container,t=new Sprite(getTe(_CDN+"img/arrow.png")),t.x=0,t.y=0,i=new Sprite(getTe(_CDN+"img/arrow.png")),i.x=0,i.y=i.height-20,n.addChild(t),n.addChild(i),n.x=375-t.width/2,n.y=(1333-2*this.trueh)/2+2*this.trueh-3*t.height-20,n}},{key:"leftBtn",value:function e(){var t,i;return i=new Container,t=new Sprite(getTe(_CDN+"img/arrow.png")),t.rotation=Math.PI/2,i.addChild(t),i.x=t.width,main.biger&&(i.x+=37.5),i.dx=i.x,console.log("leftBtn",i.x),i.y=666.5-t.height/2,i}},{key:"rightBtn",value:function e(){var t,i;return i=new Container,t=new Sprite(getTe(_CDN+"img/arrow.png")),t.rotation=-Math.PI/2,i.addChild(t),i.x=750-t.width,main.biger&&(i.x-=37.5),i.dx=i.x,console.log("rightBtn",i.x),i.y=666.5+t.height,i}},{key:"symbolRun",value:function e(t,i){var n,a,o,s;for(s=[],a=0,o=t.length;a<o;a++)n=t[a],n.y-=n.speed,n.direction?(n.alpha+=.01,n.alpha>=1?s.push(n.direction=!1):s.push(void 0)):(n.alpha-=.01,n.alpha<=-.1?(n.direction=!0,s.push(n.y=n.dy)):s.push(void 0));return s}},{key:"hideCloud",value:function e(){var t,i,n,a,o,s;for(o=[],i=n=0,a=this.clouds.length;0<=a?n<a:n>a;i=0<=a?++n:--n)t=this.clouds[i],s=t.y+100*Math.random()-50,o.push(TweenLite.to(t,3.5,{x:t.dex+100*Math.random()-50,alpha:1,y:s,delay:.1*i}));return o}},{key:"showCloud",value:function e(){var t,i,n,a,o,s,r,l,h;for(a=Math.random()>.5,r=100,s=[],i=n=0,o=this.clouds.length;0<=o?n<o:n>o;i=0<=o?++n:--n)t=this.clouds[i],Math.random()>.5?t.dx=l=900+Math.random()*r:t.dx=l=-150-Math.random()*r,h=t.dey+Math.random()*(2*r*2)-2*r,s.push(TweenLite.to(t,3.5,{x:l,y:h,alpha:.6,delay:.1*i}));return s}},{key:"loopBgStar",value:function e(t){var i,n,a,o,s;for(a=this.largeStars,o=[],i=0,n=a.length;i<n;i++)s=a[i],s.direction?(s.alpha-=.06*s.speed*t,s.alpha<=0?o.push(s.direction=!s.direction):o.push(void 0)):(s.alpha+=.02*s.speed*t,s.alpha>=s.wait?o.push(s.direction=!s.direction):o.push(void 0));return o}},{key:"loopLoading",value:function e(t){var i,n,a,o,s;if(!this.default.running)return!1;for(this.icon.rotation+=.02*t,a=this.stars,o=[],i=0,n=a.length;i<n;i++)s=a[i],s.y+=s.speed*t,s.alpha-=.002*s.speed*t,s.alpha<=0?(s.y=566.5,o.push(s.alpha=1)):o.push(void 0);return o}},{key:"loopCloud",value:function e(t){var i,n,a,o,s;if(!this.default.running)return!1;for(o=this.clouds,s=[],n=0,a=o.length;n<a;n++)i=o[n],i.direction?(i.x+=(.1+.4*Math.random())*t,i.x>i.dx+20?s.push(i.direction=!1):s.push(void 0)):(i.x-=(.1+.2*Math.random())*t,i.x+20<i.dx?s.push(i.direction=!0):s.push(void 0));return s}}]),e}();return e.prototype.list=[],e.prototype.loadCount=0,e.prototype.animation=!1,e.prototype.Index=0,e.prototype.ugcIndex=1,e.prototype.progress=0,e.prototype.maxProgress=0,e.prototype.starLoad=!1,e.prototype.cloudTime=1.2,e.prototype.default={w:750,h:1333,canvasH:510,running:!0},e}.call(void 0),axios.defaults.withCredentials=!0,String.prototype.gblen=function(){var e,t,i,n;for(i=0,e=t=0,n=this.length;0<=n?t<n:t>n;e=0<=n?++t:--t)this.charCodeAt(e)>127||94===this.charCodeAt(e)?i+=2:i++;return i},imageurl="//api.giccoo.com/api/upload/image64/",main={},_public={},loading={},sulwhasooCache=null,sys="",ugcCache=null,sended=[!1,!1],_CDN="./",neteaseShareImage=function e(){var t,i,n;return n="点击获取你的治愈音乐瓶",t="https://image.giccoo.com/upload/sulwhasoo/"+main.shareImageLink+"@!large",i="https://m.giccoo.com/sulwhasoo/",window.location.href="orpheus://sharepic?picUrl="+encodeURIComponent(t)+"&shareUrl="+encodeURIComponent(i)+"&wbDesc="+encodeURIComponent(n)+"&qqDesc="+encodeURIComponent(n)},window.onload=function(){return $_GET.debug&&alert("onload"),IsPC()?(document.getElementById("qrcode").className+=" show",!1):(window.navigator.userAgent.indexOf("NeteaseMusic")>-1?sys="NeteaseMusic":(loadWechatConfig(),wx.ready(function(){var e;return e={title:"点击获取你的治愈音乐瓶",desc:"探索治愈音乐瓶，获取专属于你的小惊喜",link:"https://activity.music.163.com/sulwhasoo/",imgUrl:"https://activity.music.163.com/sulwhasoo/img/ico.jpg",success:function e(){},cancel:function e(){}},wx.onMenuShareTimeline(e),wx.onMenuShareAppMessage(e),wx.onMenuShareQQ(e),wx.onMenuShareWeibo(e)})),$_GET.debug&&alert("sys:"+sys),_public=new Vue({el:"#public",data:{note:!0}}),$_GET.debug&&alert("vue load"),init())},init=function e(){var t,i,n,a,o;return t=document.documentElement.clientHeight,i=document.documentElement.clientWidth,i>=640&&(i=640),t>=1138&&(t=1138),a=Math.ceil(i/640*94/t*100),n=document.getElementById("canvas").clientHeight,n<t&&(o=!0),main=new Vue({el:"#main",data:{biger:!1,wy:!1,
mounted:!1,ugc:null,ugcSave:null,loading:!1,shareImageLink:null,ugcBtn:!1,pushed:!1,default:{x:0,animated:!1},XY:"pageX",startX:0,startY:0,touching:!0,touchmoving:!1},watch:{ugcBtn:function e(t,i){if(console.log(t,i),t!==i&&!this.wy)return this.ugcSave=sulwhasooCache.get()}},methods:{selectUGC:function e(t){var i=this;if(null!=sulwhasooCache&&6===sulwhasooCache.Index)return sulwhasooCache.selectUGC(t,function(){}),setTimeout(function(){if(!i.wy)return i.ugcSave=sulwhasooCache.get()},600)},start:function e(t){var i;return i=t.touches,this.startX=i[0].clientX,this.startY=i[0].clientY,this.touching=!0,this.touchmoving=0},move:function e(t){var i,n;if(!this.touching)return!1;if(this.touchmoving+=1,i=t.touches[0].clientX,n=t.touches[0].clientY,(i-this.startX)*(i-this.startX)>(n-this.startY)*(n-this.startY)*2){if(i-this.startX>80&&0!==this.pagenow)return this.selectUGC(!0),this.touching=!1,console.log("uuuu");if(i-this.startX<-80)return this.selectUGC(!1),this.touching=!1,console.log("nnnn")}},end:function e(t){return!(this.touchmoving<=2)&&(this.touching=!1,this.touchmoving=0)},share:function e(){var t,i;return i=sulwhasooCache.get(),t={image:i,folder:"sulwhasoo"},null==i?this.faild():!this.loading&&(this.loading=!0,axios.post(imageurl,t).then(function(e){return 200===e.data.recode?main.success(e.data):main.faild()}).catch(function(e){return main.faild()}))},success:function e(t){return console.log("post success"),this.loading=!1,this.shareImageLink=t.info,neteaseShareImage()},faild:function e(){return this.loading=!1}},mounted:function e(){return"NeteaseMusic"===sys&&(this.wy=!0),sulwhasooCache=new sulwhasoo({el:"canvas"}),this.mounted=!0,n=document.getElementById("canvas").clientHeight,console.log("mounted")}}),$_GET.debug&&alert("main load"),axios.get("//music.163.com/api/activity/sulwhasoo/userInfo?type=1").then(function(e){var t,i;if(t=e.data,200===t.code&&(null!=t.data.latestSongName&&""!==t.data.latestSongName&&(lastName=t.data.latestSongName),null!=t.data.latestShareSongName&&""!==t.data.latestShareSongName&&(shareName=t.data.latestShareSongName),null!=t.data.latestTime&&t.data.latestTime>100))return i=new Date(t.data.latestTime),lastDate=i.getFullYear()+"年"+(i.getMonth()+1)+"月"+i.getDate()+"日",lastTime=timeDouble(i.getHours())+":"+timeDouble(i.getMinutes())}).catch(function(e){if($_GET.debug)return alert("ajax load faild")})},timeDouble=function e(t){return t>10?t:"0"+t};