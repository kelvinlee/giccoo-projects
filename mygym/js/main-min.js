function initAll(){stageW=640,stageH=screenH/screenW*640,document.body.appendChild(renderer.view),renderer.render(pStage),renderer.resize(640,stageH),renderer.view.style.position="absolute",renderer.view.style.width=renderer.view.style.height="100%",renderer.backgroundColor=16777215,pageLoop(),page1start()}function pageLoop(){requestAnimationFrame(pageLoop),renderer.render(pStage)}function page1start(){pStage.addChild(stage1),pStage.addChild(logo),stage1.addChild(p1bg),stage1.addChild(p1bgc),p1bgc.blendMode=_MULTIPLY;for(var t=0;t<p1picA.length;t++)stage1.addChild(p1picA[t]),p1picA[t].x=320,p1picA[t].y=.538*stageH,p1picA[t].pivot.set(320,147.5);stage1.addChild(title4),stage1.addChild(title3),stage1.addChild(title2),stage1.addChild(title1),stage1.addChild(title),stage1.addChild(titleMask),stage1.addChild(titleLight),titleLight.mask=titleMask,titleLight.x=titleMask.x=title.x=title1.x=title2.x=title3.x=title4.x=320,titleLight.y=titleMask.y=title.y=title1.y=title2.y=title3.y=title4.y=235,titleLight.pivot.y=titleMask.pivot.y=title.pivot.y=title1.pivot.y=title2.pivot.y=title3.pivot.y=title4.pivot.y=119,titleLight.pivot.x=titleMask.pivot.x=title.pivot.x=title1.pivot.x=title2.pivot.x=title3.pivot.x=title4.pivot.x=320,titleLight.x=-320,titleLight.blendMode=_SCREEN,stage1.addChild(circle1),stage1.addChild(circle2),stage1.addChild(p1btnBG1),stage1.addChild(p1btnBG2),stage1.addChild(p1btnT),stage1.addChild(p1btn),p1btn.pivot.set(85.5,85.5),p1btn.position.set(320,stageH-109),p1btnBG2.pivot.x=p1btnBG1.pivot.x=p1btnT.pivot.x=320,p1btnBG2.pivot.y=p1btnBG1.pivot.y=p1btnT.pivot.y=72.5,p1btnBG2.x=p1btnBG1.x=p1btnT.x=320,p1btnBG2.y=p1btnBG1.y=p1btnT.y=stageH-128,ani1(),p1btn.interactive=!0,p1btn.buttonMode=!0,p1btn.touchstart=onButtonDown,p1btn.touchend=onButtonUp}function onButtonDown(){p1aniDown()}function onButtonUp(){p1aniUp()}function page2Start(){pStage.addChildAt(stage2,1),stage2.addChild(whitebg),whitebg.beginFill(16777215,1),whitebg.drawRect(0,0,640,stageH),TweenLite.from(stage2,.5,{alpha:0,onComplete:function(){pStage.removeChild(stage1)}}),grids=new PIXI.extras.TilingSprite(grid,640,stageH-220),grids.y=110,stage2.addChild(grids),sq1.beginFill(0,0),sq1.lineStyle(2,0,1,1),sq1.drawRect(0,0,640,stageH-220),stage2.addChild(sq1),sq2.beginFill(0,0),sq2.lineStyle(1.5,0,.5,1),sq2.drawRect(0,0,640,stageH-220),stage2.addChild(sq2),sq1.pivot.set(320,stageH/2-110),sq1.position.set(320,stageH/2),sq2.pivot.set(320,stageH/2-110),sq2.position.set(320,stageH/2),grids.mask=sq1,TweenLite.from(sq1.scale,1,{y:.5,ease:Back.easeOut}),TweenLite.from(sq2.scale,1,{y:.5,ease:Back.easeOut}),stage2.addChild(p2title3),stage2.addChild(p2title2),stage2.addChild(p2title1),p2title1.x=p2title2.x=p2title3.x=320,p2title1.y=p2title2.y=p2title3.y=stageH/2-208*stageH/1e3,p2title1.pivot.x=p2title2.pivot.x=p2title3.pivot.x=320,p2title1.pivot.y=p2title2.pivot.y=p2title3.pivot.y=80.5,stage2.interactive=!0,p2btn1.interactive=!0,p2btn2.interactive=!0,p2btn1.touchstart=function(){this.texture=p2btn1t2},p2btn2.touchstart=function(){this.texture=p2btn2t2},stage2.touchend=function(){p2btn1.texture=p2btn1t1,p2btn2.texture=p2btn2t1},p2btn1.touchend=onp2btn1Up,p2btn2.touchend=onp2btn2Up,stage2.addChild(p2btn1),stage2.addChild(p2btn2),p2btn1.pivot.x=p2btn2.pivot.x=147,p2btn1.pivot.y=p2btn2.pivot.y=85.5,p2btn1.position.set(169,stageH-236*stageH/1e3),p2btn2.position.set(471,stageH-236*stageH/1e3),PIXI.loader.add("img/boy.png","img/boy.json").add("img/girl.png","img/girl.json").load(setBoyGirl)}function setBoyGirl(){var t=[],e;for(e=1;e<=50;e++){var i=PIXI.Texture.fromFrame("boy00"+e+".png");t.push(i)}for(e=0;e<50;e++)boyMove=new PIXI.extras.AnimatedSprite(t);stage2.addChild(boyMove),boyMove.animationSpeed=.5,boyMove.play();var p=[];for(e=1;e<=50;e++){var i=PIXI.Texture.fromFrame("girl00"+e+".png");p.push(i)}for(e=0;e<50;e++)girlMove=new PIXI.extras.AnimatedSprite(p);stage2.addChild(girlMove),girlMove.animationSpeed=.4,girlMove.play(),girlMove.x=320,boyMove.y=girlMove.y=parseInt(p2btn1.y)-297-80,ani2()}function onp2btn1Up(){console.log("男"),this.texture=p2btn1t1}function onp2btn2Up(){console.log("女"),this.texture=p2btn2t1}$(document).ready(function t(){loadWechatConfig(),initAll(),wx.ready(function(){var t;return t={title:"智·混动 MAX秀",desc:"人人都是隐藏的跨界高手",link:"http://m.giccoo.com/maxshow/",imgUrl:"http://m.giccoo.com/maxshow/img/ico.jpg",success:function(){},cancel:function(){}},wx.onMenuShareTimeline(t),wx.onMenuShareAppMessage(t),wx.onMenuShareQQ(t),wx.onMenuShareWeibo(t)})}),$("body")[0].addEventListener("touchmove",function(t){t.preventDefault()},!1);var screenW,screenH;screenW=document.body.offsetWidth,screenH=document.body.offsetHeight;var stageW=640,stageH,loadWechatConfig=function(){var t,e,i;i=encodeURIComponent(window.location.href.split("#")[0]),t=document.createElement("script"),t.src="http://api.giccoo.com/api/config?url="+i,e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)},renderer=PIXI.autoDetectRenderer(256,256),pStage=new PIXI.Container,pSprite=PIXI.Sprite.fromImage,pTexture=PIXI.Texture.fromImage,_NORMAL=PIXI.BLEND_MODES.NORMAL,_ADD=PIXI.BLEND_MODES.ADD,_MULTIPLY=PIXI.BLEND_MODES.MULTIPLY,_SCREEN=PIXI.BLEND_MODES.SCREEN,logo=pSprite("img/logo.png"),title=pSprite("img/p1title.png"),titleMask=pSprite("img/p1titlemask.png"),titleLight=pSprite("img/p1title_light.png"),title1=pSprite("img/p1title1.png"),title2=pSprite("img/p1title2.png"),title3=pSprite("img/p1title3.png"),title4=pSprite("img/p1title4.png"),p1bg=pSprite("img/p1bg1.jpg"),p1bgc=pSprite("img/p1bgc.png"),p1car=pSprite("img/p1pic1.png"),p1pic2=pSprite("img/p1pic2.png"),p1pic3=pSprite("img/p1pic3.png"),p1pic4=pSprite("img/p1pic4.png"),p1pic5=pSprite("img/p1pic5.png"),p1pic6=pSprite("img/p1pic6.png"),p1picA=[p1car,p1pic6,p1pic5,p1pic4,p1pic3,p1pic2],p1btn=pSprite("img/p1btn.png"),p1btnT=pSprite("img/p1btn_t.png"),p1btnBG1=pSprite("img/p1btn_t_bg1.png"),p1btnBG2=pSprite("img/p1btn_t_bg2.png"),circle1=new PIXI.Graphics,circle2=new PIXI.Graphics,stage1=new PIXI.Container,stage2=new PIXI.Container,whitebg=new PIXI.Graphics,sq1=new PIXI.Graphics,sq2=new PIXI.Graphics,grid=pTexture("img/grid.png"),grids,p2title1=pSprite("img/p2title1.png"),p2title2=pSprite("img/p2title2.png"),p2title3=pSprite("img/p2title3.png"),p2btn1t1=PIXI.Texture.fromImage("img/p2btn1.png"),p2btn2t1=PIXI.Texture.fromImage("img/p2btn2.png"),p2btn1t2=PIXI.Texture.fromImage("img/p2btn1down.png"),p2btn2t2=PIXI.Texture.fromImage("img/p2btn2down.png"),p2btn1=new PIXI.Sprite(p2btn1t1),p2btn2=new PIXI.Sprite(p2btn2t1),p2boy=pSprite("img/p2boy.png"),p2girl=pSprite("img/p2girl.png"),boyMove,girlMove;