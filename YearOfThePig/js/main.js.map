{
  "version": 3,
  "file": "main-ck-source-map-reference.js",
  "sourceRoot": "",
  "sources": [
    "main-ck-source-map-reference.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "VENDORS = [\"Moz\",'webkit','ms','O']\nTRANSITION_END_NAMES =\n\t\"Moz\" : \"transitionend\"\n\t\"webkit\" : \"webkitTransitionEnd\"\n\t\"ms\" : \"MSTransitionEnd\"\n\t\"O\" : \"oTransitionEnd\"\nANIMATION_END_NAMES =\n\t\"Moz\" : \"animationend\"\n\t\"webkit\" : \"webkitAnimationEnd\"\n\t\"ms\" : \"MSAnimationEnd\"\n\t\"O\" : \"oAnimationEnd\"\n\nmTestElement = document.createElement(\"div\")\n\nfor i in VENDORS\n\tcss3Prefix = i\n\tbreak if (css3Prefix+\"Transition\") of mTestElement.style\n\tcss3Prefix = false\n\nif css3Prefix\n\tTRANSITION_END_NAME = TRANSITION_END_NAMES[css3Prefix]\n\tANIMATION_END_NAME = ANIMATION_END_NAMES[css3Prefix]\n\nloadWechatConfig = ->\n  url = encodeURIComponent window.location.href.split(\"#\")[0]\n  hm = document.createElement('script')\n  hm.src = \"//api.giccoo.com/api/config?url=\"+url\n  s = document.getElementsByTagName('script')[0]\n  s.parentNode.insertBefore hm, s\n  return\n\nIsPC = ->\n  userAgentInfo = navigator.userAgent\n  Agents = new Array('Android', 'iPhone', 'SymbianOS', 'Windows Phone', 'iPad', 'iPod')\n  flag = true\n  v = 0\n  while v < Agents.length\n    if userAgentInfo.indexOf(Agents[v]) > 0\n      flag = false\n      break\n    v++\n  flag  \n\nisAndroid = navigator.userAgent.indexOf('Android') > -1 or navigator.userAgent.indexOf('Adr') > -1\n#android终端\nVue.directive 'resetInput', inserted: (el) ->\n\tif isAndroid\n\t\treturn\n\tel.addEventListener 'blur', ->\n\t\tinput = document.getElementById('reset-input')\n\t\tif !input\n\t\t\tinput = document.createElement('INPUT')\n\t\t\tinput.type = 'text'\n\t\t\tinput.style.height = '0px'\n\t\t\tinput.style.width = '0px'\n\t\t\tinput.style.position = 'absolute'\n\t\t\tinput.id = 'reset-input'\n\t\t\tdocument.body.prepend input\n\t\tinput.focus()\n\t\tinput.blur()\n\t\treturn\n\treturn\n\n# @codekit-prepend \"../../libs/vue/vue-resetinput\"\n\nVue.component \"form-grounp\",\n  template:'\n    <div class=\"form\">\n      <div v-for=\"item,index in form\" class=\"form-group\" :class=\"\\'type-\\'+type[item.type]+(item.class?\\' \\'+item.class:\\'\\')\">\n        <label :for=\"item.id\" v-if=\"item.label\">{{item.label}}</label>\n        <input v-reset-input :id=\"item.id\" :placeholder=\"item.placeholder\" v-if=\"type[item.type] == \\'input\\'\" v-model=\"item.value\" type=\"text\">\n        <input v-reset-input :id=\"item.id\" :placeholder=\"item.placeholder\" v-if=\"type[item.type] == \\'number\\'\" v-model=\"item.value\" type=\"number\">\n        <div v-if=\"type[item.type] == \\'select\\'\" class=\"select\">\n          <span>{{getOptionsName(item)}}</span>\n          <select :id=\"item.id\" v-model=\"item.value\" v-if=\"!item.array\">\n            <option v-for=\"(item, key) in item.options\" :disabled=\"!item\" :value=\"key\">{{key}}</option>\n          </select>\n          <select :id=\"item.id\" v-model=\"item.value\" v-if=\"item.array\">\n            <option v-for=\"(item, index) in item.options\" :disabled=\"item.disabled\" :value=\"item.val\">{{item.name}}</option>\n          </select>\n        </div>\n      </div>\n      <slot></slot>\n      <div @click=\"submit\" class=\"btn-submit\"><img src=\"./img/btn-submit.png\" /></div>\n    </div>\n    '\n  data: ->\n    return\n      submiting: false\n      type:\n        input: 'input'\n        number: 'number'\n        select: 'select'\n        checkbox: 'checkbox'\n\n  props:\n    form:\n      default: {}\n    \n  watch:\n    form: {\n      handler: (v)->\n        console.log \"form:\",v\n      , \n      deep: true\n    }\n  methods:\n    getOptionsName: (item)->\n      if !item.array\n        if item.value is \"\"\n          return Object.keys(item.options)[0]\n        return item.value\n      else\n        for it in item.options\n          if it.val is item.value\n            return it.name\n        return item.options[0].name\n    submit: (evt)->\n      data = {}\n      console.log \"first Time..\"\n      for k,v of @.form\n        data[k] = v.value\n      # console.log \"submit:\",data\n      @.$emit \"submit\", data\n\n\n  mounted: (el)->\n    # console.log \"el:\",this,this.form\n    self = this\n    for k,v of @.form\n      if v.type is \"select\"\n        console.log \"form.#{k}.options\"\n        @.$watch \"form.#{k}.options\", (val)->\n          console.log \"changed:\",val\n        ,{deep: true}\n      if v.link? and v.type is \"select\"\n        @.$watch \"form.#{k}\", (n,o)->\n          return false unless self.form[n.link]?\n          self.form[n.link].options = n.options[n.value]\n          if self.form[n.link].array\n            console.log n.link,self.form[n.link].value,n.options[n.value][0].val\n            self.form[n.link].value = n.options[n.value][0].val\n          else\n            for i in [0...Object.keys(n.options[n.value]).length]\n              if n.options[n.value][Object.keys(n.options[n.value])[i]]\n                self.form[n.link].value = Object.keys(n.options[n.value])[i]\n                break\n        ,{deep: true}\n\n\n\nVue.component \"player\",\n\ttemplate:'\n\t\t<div class=\"player\" :class=\"{play: playing, pause: !playing}\" @click=\"change\">\n\t\t\t<div class=\"icon-play\" :class=\"{play: playing, pause: !playing}\">\n\t\t\t\t<svg v-if=\"!icon\" v-show=\"!playing\" height=\"100%\" version=\"1.1\" viewBox=\"0 0 36 36\" width=\"100%\"><use class=\"ytp-svg-shadow\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#ytp-id-39\"></use><path :fill=\"fill\" class=\"ytp-svg-fill\" d=\"M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z\"></path></svg>\n\t\t\t\t<svg v-if=\"!icon\" v-show=\"playing\" height=\"100%\" version=\"1.1\" viewBox=\"0 0 36 36\" width=\"100%\"><use class=\"ytp-svg-shadow\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#ytp-id-40\"></use><path :fill=\"fill\" class=\"ytp-svg-fill\" d=\"M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z\"></path></svg>\n\t\t\t</div>\n\t\t\t<audio :src=\"src\" :autoplay=\"autoplay\" :preload=\"preload\" :loop=\"loop\"></audio>\n\t\t\t<img v-if=\"thumb\" :src=\"thumb\" />\n\t\t\t<slot></slot>\n\t\t</div>\n\t\t'\n\tdata: ->\n\t\treturn\n\t\t\tplaying: false\n\t\t\tstoped: false\n\n\tprops:\n\t\tfill:\n\t\t\tdefault: \"black\"\n\t\tname:\n\t\t\tdefault: false\n\t\tsrc:\n\t\t\tdefault: \"./mp3/bgm.mp3\"\n\t\tthumb:\n\t\t\tdefault: false\n\t\tautoplay:\n\t\t\tdefault: false\n\t\tpreload:\n\t\t\tdefault: false\n\t\tloop:\n\t\t\tdefault: false\n\t\tcallback:\n\t\t\tdefault: false\n\t\ticon:\n\t\t\tdefault: false\n\tmethods:\n\t\tplay: ->\n\t\t\ttemp = @$emit 'play', @\n\t\t\t@playing = true\n\t\t\t# @audio.load()\n\t\t\t@audio.play()\n\t\tpause: ->\n\t\t\ttemp = @$emit 'pause', @\n\t\t\t@audio.pause()\n\t\t\t@playing = false\n\t\tended: ->\n\t\t\t@playing = false\n\t\tchange: ->\n\t\t\tif @playing\n\t\t\t\t@audio.pause()\n\t\t\t\t@stoped = true\n\t\t\telse\n\t\t\t\t@audio.play()\n\t\t\t\t@stoped = false\n\n\t# computed:\n\tmounted: (el)->\n\t\t# console.log @name\n\t\t@audio = @$el.children[1]\n\t\t# console.log @audio\n\t\t# @audioOther = @$el.children[2]\n\t\t@audio.addEventListener \"pause\", @pause.bind @\n\t\t@audio.addEventListener \"play\", @play.bind @\n\t\t@audio.addEventListener \"ended\", @ended.bind @\n\t\t# @audio.play()\n\t\t# console.log @audio,@audioOther,@playing\n\n\nString.prototype.gblen = -> \n\tlen = 0;\t\n\tfor i in [0...this.length]\n\t\tif this.charCodeAt(i)>127 or this.charCodeAt(i)==94\n\t\t\tlen += 2\n\t\telse\n\t\t\tlen++\n\treturn len\n\nContainer = PIXI.Container\nParticleContainer = PIXI.ParticleContainer\nautoDetectRenderer = PIXI.autoDetectRenderer\nloader = PIXI.loader\nresources = PIXI.loader.resources\nTextureCache = PIXI.utils.TextureCache\nTexture = PIXI.Texture\nSprite = PIXI.Sprite\nGraphics = PIXI.Graphics\nresource = PIXI.loader.resources\nText = PIXI.Text\nAnimatedSprite = PIXI.extras.AnimatedSprite\n\nSpr = (id)->\n\treturn new Sprite getTe id\ngetTe = (id)->\n  return resource[id].texture\ngetId = (id,link)->\n  return loader.resources[link].textures[id]\n\n# for fix ios 8 less\nunless Number.isInteger?\n\tNumber.isInteger = (int)->\n\t\treturn int >= 0\n\nrandom = 1+parseInt Math.random()*5\n# imageList = []\n\nclass UGC\n\tbuilded: false\n\tdefault:\n\t\tw: 320\n\t\th: 160\n\t\trunning: true\n\tstarted: false\n\tover: false\n\tonline: false\n\tblocks: []\n\tbottles: []\n\tenemys: []\n\tlights: []\n\tdom: {}\n\t_progress: 0\n\tlineMoving: false\n\tstartTime: null\n\tloadNumber: 0\n\tconstructor: (arg)->\n\t\t@.opts =\n\t\t\tel: \"main\"\n\t\t\tw: 750\n\t\t\th: 1314\n\t\t\ttrueH: 1314\n\t\t\tcount: 6\n\t\t\tspeed: 1\n\t\t\talpha: 0.8\n\t\t\tdefaultShow: true\n\t\t\tclass: \"\"\n\t\t\tfillColor: 0x66CCFF\n\t\t\tcallback: ->\n\t\t@.opts = Object.assign @.opts,arg\n\t\t@.default.h = document.documentElement.clientHeight\n\t\t@.default.w = document.documentElement.clientWidth\n\t\t@.default.ratio = @.opts.w / @.default.w\n\t\t@app = new PIXI.Application\n\t\t\twidth: @.opts.w\n\t\t\theight: @.opts.h\n\t\t\ttransparent: true\n\t\t\tpreserveDrawingBuffer: true\n\t\t\t# forceCanvas: false\n\t\t@.app.view.className = @.opts.class if @.opts.class? and @.opts.class isnt \"\"\n\t\t@.stage = @.app.stage\n\t\tdocument.getElementById(@.opts.el).appendChild @.app.view\n\t\t# console.log \"imageList:\",imageList.length\n\t\tPIXI.loader.add(imageList)\n\t\t.use(@.loaditem.bind(@))\n\t\t.load(@.build.bind(@))\n\t\t@.default.MH = @.opts.h * 0.65\n\tloaditem: ->\n\t\t@.loadNumber++\n\t\tloading.progressOn = parseInt @.loadNumber/(imageList.length)*100\n\t\t# console.log \"load:\",@.loadNumber,loading.progressOn,@.loadNumber is imageList.length\n\n\t\tif @.loadNumber is imageList.length\n\t\t\tbuildUGC.bind(@).call()\n\t\t\t@.opts.callback()\n\t\t\t# @.init()\n\t\t\t# console.log \"aa\"\n\t\t\t# @.stage.addChild Spr(_CDN+\"img/texture.jpg\")\n\tbuild: ->\n\t\tconsole.log \"builded\"\n\t\tbuildUGC.bind(@).call()\n\t\t@.opts.callback()\n\t\t# @.init()\n\t\n\t\n\n_CDN = \".\"\nSOUND = {}\nthudIndex = 0\nSOUND.runRandomHit = ->\n\treturn false if not main.canPlay\n\tSOUND[\"hit#{thudIndex+1}\"].play()\n\tthudIndex = (thudIndex + 1) % 4\n\nSOUND.hit1 = new Howl\n\tsrc: [\"#{_CDN}/mp3/pig-1.mp3\"]\nSOUND.hit2 = new Howl\n\tsrc: [\"#{_CDN}/mp3/pig-2.mp3\"]\nSOUND.hit3 = new Howl\n\tsrc: [\"#{_CDN}/mp3/pig-3.mp3\"]\nSOUND.hit4 = new Howl\n\tsrc: [\"#{_CDN}/mp3/pig-4.mp3\"]\n\nSOUND.g = new Howl\n\tsrc: [\"#{_CDN}/mp3/gift.mp3\"]\n\nSOUND.giftEnd = new Howl\n\tsrc: [\"#{_CDN}/mp3/han.mp3\"]\n\t# volume: 0.5\n\nSOUND.gift = {\n\tplay: ->\n\t\treturn false if not main.canPlay\n\t\tSOUND.g.play()\n}\n\nSOUND.end = ->\n\treturn false if not main.canPlay\n\tSOUND.giftEnd.play()\n\t# setTimeout ->\n\t# \tSOUND.bgm.play()\n\t# ,500\n\n\n\nloadWechatConfig = ->\n  url = encodeURIComponent window.location.href.split(\"#\")[0]\n  hm = document.createElement('script')\n  hm.src = \"//api.giccoo.com/api/config?url=\"+url\n  s = document.getElementsByTagName('script')[0]\n  s.parentNode.insertBefore hm, s\n  return\n\nVue.component \"player\",\n\ttemplate:'\n\t\t<div class=\"player\" :class=\"{play: playing, pause: !playing}\" @click=\"change\">\n\t\t\t<div class=\"icon-play\" :class=\"{play: playing, pause: !playing}\">\n\t\t\t\t<svg v-if=\"!icon\" v-show=\"!playing\" height=\"100%\" version=\"1.1\" viewBox=\"0 0 36 36\" width=\"100%\"><use class=\"ytp-svg-shadow\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#ytp-id-39\"></use><path :fill=\"fill\" class=\"ytp-svg-fill\" d=\"M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z\"></path></svg>\n\t\t\t\t<svg v-if=\"!icon\" v-show=\"playing\" height=\"100%\" version=\"1.1\" viewBox=\"0 0 36 36\" width=\"100%\"><use class=\"ytp-svg-shadow\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#ytp-id-40\"></use><path :fill=\"fill\" class=\"ytp-svg-fill\" d=\"M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z\"></path></svg>\n\t\t\t</div>\n\t\t\t<audio :src=\"src\" :autoplay=\"autoplay\" :preload=\"preload\" :loop=\"loop\"></audio>\n\t\t\t<img v-if=\"thumb\" :src=\"thumb\" />\n\t\t\t<slot></slot>\n\t\t</div>\n\t\t'\n\tdata: ->\n\t\treturn\n\t\t\tplaying: false\n\t\t\tstoped: false\n\n\tprops:\n\t\tfill:\n\t\t\tdefault: \"black\"\n\t\tname:\n\t\t\tdefault: false\n\t\tsrc:\n\t\t\tdefault: \"./mp3/bgm.mp3\"\n\t\tthumb:\n\t\t\tdefault: false\n\t\tautoplay:\n\t\t\tdefault: false\n\t\tpreload:\n\t\t\tdefault: false\n\t\tloop:\n\t\t\tdefault: false\n\t\tcallback:\n\t\t\tdefault: false\n\t\ticon:\n\t\t\tdefault: false\n\tmethods:\n\t\tplay: ->\n\t\t\ttemp = @$emit 'play', @\n\t\t\t@playing = true\n\t\t\t# @audio.load()\n\t\t\t@audio.play()\n\t\tpause: ->\n\t\t\ttemp = @$emit 'pause', @\n\t\t\t@audio.pause()\n\t\t\t@playing = false\n\t\tended: ->\n\t\t\t@playing = false\n\t\tchange: ->\n\t\t\tif @playing\n\t\t\t\t@audio.pause()\n\t\t\t\t@stoped = true\n\t\t\telse\n\t\t\t\t@audio.play()\n\t\t\t\t@stoped = false\n\n\t# computed:\n\tmounted: (el)->\n\t\t# console.log @name\n\t\t@audio = @$el.children[1]\n\t\t# console.log @audio\n\t\t# @audioOther = @$el.children[2]\n\t\t@audio.addEventListener \"pause\", @pause.bind @\n\t\t@audio.addEventListener \"play\", @play.bind @\n\t\t@audio.addEventListener \"ended\", @ended.bind @\n\t\t# @audio.play()\n\t\t# console.log @audio,@audioOther,@playing\n\n\nContainer = PIXI.Container\nParticleContainer = PIXI.ParticleContainer\nautoDetectRenderer = PIXI.autoDetectRenderer\nloader = PIXI.loader\nresources = PIXI.loader.resources\nTextureCache = PIXI.utils.TextureCache\nTexture = PIXI.Texture\nSprite = PIXI.Sprite\nGraphics = PIXI.Graphics\nresource = PIXI.loader.resources\nText = PIXI.Text\nAnimatedSprite = PIXI.extras.AnimatedSprite\n\nSpr = (id)->\n\treturn new Sprite getTe id\ngetTe = (id)->\n  return resource[id].texture\ngetId = (id,link)->\n  return loader.resources[link].textures[id]\n\n# for fix ios 8 less\nunless Number.isInteger?\n\tNumber.isInteger = (int)->\n\t\treturn int >= 0\n\nIsPC = ->\n  userAgentInfo = navigator.userAgent\n  Agents = new Array('Android', 'iPhone', 'SymbianOS', 'Windows Phone', 'iPad', 'iPod')\n  flag = true\n  v = 0\n  while v < Agents.length\n    if userAgentInfo.indexOf(Agents[v]) > 0\n      flag = false\n      break\n    v++\n  flag  \n\nVue.component \"player\",\n\ttemplate:'\n\t\t<div class=\"player\" :class=\"{play: playing, pause: !playing}\" @click=\"change\">\n\t\t\t<div class=\"icon-play\" :class=\"{play: playing, pause: !playing}\">\n\t\t\t\t<svg v-if=\"!icon\" v-show=\"!playing\" height=\"100%\" version=\"1.1\" viewBox=\"0 0 36 36\" width=\"100%\"><use class=\"ytp-svg-shadow\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#ytp-id-39\"></use><path :fill=\"fill\" class=\"ytp-svg-fill\" d=\"M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z\"></path></svg>\n\t\t\t\t<svg v-if=\"!icon\" v-show=\"playing\" height=\"100%\" version=\"1.1\" viewBox=\"0 0 36 36\" width=\"100%\"><use class=\"ytp-svg-shadow\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#ytp-id-40\"></use><path :fill=\"fill\" class=\"ytp-svg-fill\" d=\"M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z\"></path></svg>\n\t\t\t</div>\n\t\t\t<audio :src=\"src\" :autoplay=\"autoplay\" :preload=\"preload\" :loop=\"loop\"></audio>\n\t\t\t<img v-if=\"thumb\" :src=\"thumb\" />\n\t\t\t<slot></slot>\n\t\t</div>\n\t\t'\n\tdata: ->\n\t\treturn\n\t\t\tplaying: false\n\t\t\tstoped: false\n\n\tprops:\n\t\tfill:\n\t\t\tdefault: \"black\"\n\t\tname:\n\t\t\tdefault: false\n\t\tsrc:\n\t\t\tdefault: \"./mp3/bgm.mp3\"\n\t\tthumb:\n\t\t\tdefault: false\n\t\tautoplay:\n\t\t\tdefault: false\n\t\tpreload:\n\t\t\tdefault: false\n\t\tloop:\n\t\t\tdefault: false\n\t\tcallback:\n\t\t\tdefault: false\n\t\ticon:\n\t\t\tdefault: false\n\tmethods:\n\t\tplay: ->\n\t\t\ttemp = @$emit 'play', @\n\t\t\t@playing = true\n\t\t\t# @audio.load()\n\t\t\t@audio.play()\n\t\tpause: ->\n\t\t\ttemp = @$emit 'pause', @\n\t\t\t@audio.pause()\n\t\t\t@playing = false\n\t\tended: ->\n\t\t\t@playing = false\n\t\tchange: ->\n\t\t\tif @playing\n\t\t\t\t@audio.pause()\n\t\t\t\t@stoped = true\n\t\t\telse\n\t\t\t\t@audio.play()\n\t\t\t\t@stoped = false\n\n\t# computed:\n\tmounted: (el)->\n\t\t# console.log @name\n\t\t@audio = @$el.children[1]\n\t\t# console.log @audio\n\t\t# @audioOther = @$el.children[2]\n\t\t@audio.addEventListener \"pause\", @pause.bind @\n\t\t@audio.addEventListener \"play\", @play.bind @\n\t\t@audio.addEventListener \"ended\", @ended.bind @\n\t\t# @audio.play()\n\t\t# console.log @audio,@audioOther,@playing\n\n\nContainer = PIXI.Container\nParticleContainer = PIXI.ParticleContainer\nautoDetectRenderer = PIXI.autoDetectRenderer\nloader = PIXI.loader\nresources = PIXI.loader.resources\nTextureCache = PIXI.utils.TextureCache\nTexture = PIXI.Texture\nSprite = PIXI.Sprite\nGraphics = PIXI.Graphics\nresource = PIXI.loader.resources\nText = PIXI.Text\nAnimatedSprite = PIXI.extras.AnimatedSprite\n\nSpr = (id)->\n\treturn new Sprite getTe id\ngetTe = (id)->\n  return resource[id].texture\ngetId = (id,link)->\n  return loader.resources[link].textures[id]\n\n# for fix ios 8 less\nunless Number.isInteger?\n\tNumber.isInteger = (int)->\n\t\treturn int >= 0\n\nloadWechatConfig = ->\n  url = encodeURIComponent window.location.href.split(\"#\")[0]\n  hm = document.createElement('script')\n  hm.src = \"//api.giccoo.com/api/config?url=\"+url\n  s = document.getElementsByTagName('script')[0]\n  s.parentNode.insertBefore hm, s\n  return\n\nContainer = PIXI.Container\nParticleContainer = PIXI.ParticleContainer\nautoDetectRenderer = PIXI.autoDetectRenderer\nloader = PIXI.loader\nresources = PIXI.loader.resources\nTextureCache = PIXI.utils.TextureCache\nTexture = PIXI.Texture\nSprite = PIXI.Sprite\nGraphics = PIXI.Graphics\nresource = PIXI.loader.resources\nText = PIXI.Text\nAnimatedSprite = PIXI.extras.AnimatedSprite\n\nSpr = (id)->\n\treturn new Sprite getTe id\ngetTe = (id)->\n  return resource[id].texture\ngetId = (id,link)->\n  return loader.resources[link].textures[id]\n\n# for fix ios 8 less\nunless Number.isInteger?\n\tNumber.isInteger = (int)->\n\t\treturn int >= 0\n\nVue.component \"player\",\n\ttemplate:'\n\t\t<div class=\"player\" :class=\"{play: playing, pause: !playing}\" @click=\"change\">\n\t\t\t<div class=\"icon-play\" :class=\"{play: playing, pause: !playing}\">\n\t\t\t\t<svg v-if=\"!icon\" v-show=\"!playing\" height=\"100%\" version=\"1.1\" viewBox=\"0 0 36 36\" width=\"100%\"><use class=\"ytp-svg-shadow\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#ytp-id-39\"></use><path :fill=\"fill\" class=\"ytp-svg-fill\" d=\"M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z\"></path></svg>\n\t\t\t\t<svg v-if=\"!icon\" v-show=\"playing\" height=\"100%\" version=\"1.1\" viewBox=\"0 0 36 36\" width=\"100%\"><use class=\"ytp-svg-shadow\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#ytp-id-40\"></use><path :fill=\"fill\" class=\"ytp-svg-fill\" d=\"M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z\"></path></svg>\n\t\t\t</div>\n\t\t\t<audio :src=\"src\" :autoplay=\"autoplay\" :preload=\"preload\" :loop=\"loop\"></audio>\n\t\t\t<img v-if=\"thumb\" :src=\"thumb\" />\n\t\t\t<slot></slot>\n\t\t</div>\n\t\t'\n\tdata: ->\n\t\treturn\n\t\t\tplaying: false\n\t\t\tstoped: false\n\n\tprops:\n\t\tfill:\n\t\t\tdefault: \"black\"\n\t\tname:\n\t\t\tdefault: false\n\t\tsrc:\n\t\t\tdefault: \"./mp3/bgm.mp3\"\n\t\tthumb:\n\t\t\tdefault: false\n\t\tautoplay:\n\t\t\tdefault: false\n\t\tpreload:\n\t\t\tdefault: false\n\t\tloop:\n\t\t\tdefault: false\n\t\tcallback:\n\t\t\tdefault: false\n\t\ticon:\n\t\t\tdefault: false\n\tmethods:\n\t\tplay: ->\n\t\t\ttemp = @$emit 'play', @\n\t\t\t@playing = true\n\t\t\t# @audio.load()\n\t\t\t@audio.play()\n\t\tpause: ->\n\t\t\ttemp = @$emit 'pause', @\n\t\t\t@audio.pause()\n\t\t\t@playing = false\n\t\tended: ->\n\t\t\t@playing = false\n\t\tchange: ->\n\t\t\tif @playing\n\t\t\t\t@audio.pause()\n\t\t\t\t@stoped = true\n\t\t\telse\n\t\t\t\t@audio.play()\n\t\t\t\t@stoped = false\n\n\t# computed:\n\tmounted: (el)->\n\t\t# console.log @name\n\t\t@audio = @$el.children[1]\n\t\t# console.log @audio\n\t\t# @audioOther = @$el.children[2]\n\t\t@audio.addEventListener \"pause\", @pause.bind @\n\t\t@audio.addEventListener \"play\", @play.bind @\n\t\t@audio.addEventListener \"ended\", @ended.bind @\n\t\t# @audio.play()\n\t\t# console.log @audio,@audioOther,@playing\n\n\nloadWechatConfig = ->\n  url = encodeURIComponent window.location.href.split(\"#\")[0]\n  hm = document.createElement('script')\n  hm.src = \"//api.giccoo.com/api/config?url=\"+url\n  s = document.getElementsByTagName('script')[0]\n  s.parentNode.insertBefore hm, s\n  return\n\nContainer = PIXI.Container\nParticleContainer = PIXI.ParticleContainer\nautoDetectRenderer = PIXI.autoDetectRenderer\nloader = PIXI.loader\nresources = PIXI.loader.resources\nTextureCache = PIXI.utils.TextureCache\nTexture = PIXI.Texture\nSprite = PIXI.Sprite\nGraphics = PIXI.Graphics\nresource = PIXI.loader.resources\nText = PIXI.Text\nAnimatedSprite = PIXI.extras.AnimatedSprite\n\nSpr = (id)->\n\treturn new Sprite getTe id\ngetTe = (id)->\n  return resource[id].texture\ngetId = (id,link)->\n  return loader.resources[link].textures[id]\n\n# for fix ios 8 less\nunless Number.isInteger?\n\tNumber.isInteger = (int)->\n\t\treturn int >= 0\n\nContainer = PIXI.Container\nParticleContainer = PIXI.ParticleContainer\nautoDetectRenderer = PIXI.autoDetectRenderer\nloader = PIXI.loader\nresources = PIXI.loader.resources\nTextureCache = PIXI.utils.TextureCache\nTexture = PIXI.Texture\nSprite = PIXI.Sprite\nGraphics = PIXI.Graphics\nresource = PIXI.loader.resources\nText = PIXI.Text\nAnimatedSprite = PIXI.extras.AnimatedSprite\n\nSpr = (id)->\n\treturn new Sprite getTe id\ngetTe = (id)->\n  return resource[id].texture\ngetId = (id,link)->\n  return loader.resources[link].textures[id]\n\n# for fix ios 8 less\nunless Number.isInteger?\n\tNumber.isInteger = (int)->\n\t\treturn int >= 0\n\nIsPC = ->\n  userAgentInfo = navigator.userAgent\n  Agents = new Array('Android', 'iPhone', 'SymbianOS', 'Windows Phone', 'iPad', 'iPod')\n  flag = true\n  v = 0\n  while v < Agents.length\n    if userAgentInfo.indexOf(Agents[v]) > 0\n      flag = false\n      break\n    v++\n  flag  \n\nIsPC = ->\n  userAgentInfo = navigator.userAgent\n  Agents = new Array('Android', 'iPhone', 'SymbianOS', 'Windows Phone', 'iPad', 'iPod')\n  flag = true\n  v = 0\n  while v < Agents.length\n    if userAgentInfo.indexOf(Agents[v]) > 0\n      flag = false\n      break\n    v++\n  flag  \n\n# @codekit-prepend \"coffee/css3Prefix\"\n# @codekit-prepend \"../../libs/coffee/loadWechatConfig\"\n# @codekit-prepend \"../../libs/coffee/IsPC\"\n# @codekit-prepend \"../../libs/vue/vue-register\"\n# @codekit-prepend \"../../libs/vue/vue-player\"\n# @codekit-prepend \"../../libs/coffee/String\"\n# @codekit-prepend \"../../libs/coffee/pixi-base\"\n# @codekit-prepend \"UGC\"\n# @codekit-prepend \"sound\"\n\naxios.defaults.withCredentials = true\n\nTrueW = 640\nTrueH = 1138\nimageurl = \"//api.giccoo.com/api/upload/image64/\"\napiUrl = \"//api.giccoo.com/YearOfThePig\"\n# apiLink = \"//localhost:3000/\"\napiLink = \"//g.giccoo.com/\"\n# apiLink = \"http://192.168.3.53:3000/\"\n# apiUrl = \"http://localhost:8881/Levi\"\nmain = {}\nugc = null\n_public = {}\nloading = {}\nmusicLineCache = null\nmusicIconCache = null\nsys = \"\"\nugcCache = null\nsended = [false,false]\n_cache = null\n_startCache = null\n_runTime = null\n_second = 0\n_testTime = 0\n\n\nneteaseShareImage = ->\n\ttitle1 = \"画山成岳\"\n\tpicUrl = \"https://image.giccoo.com/upload/#{main.folder}/\"+main.shareImageLink+\"@!large\"\n\tredirectUrl = \"https://activity.music.163.com/YearOfThePig/\"\n\t# console.log picUrl,\"orpheus://sharepic?picUrl=\"+encodeURIComponent(picUrl)+\"&shareUrl=\"+encodeURIComponent(redirectUrl)+\"&wbDesc=\"+encodeURIComponent(title1)+\"&qqDesc=\"+encodeURIComponent(title1)\n\t# window.location.href = \"orpheus://sharepic?picUrl=\"+encodeURIComponent(picUrl)+\"&shareUrl=\"+encodeURIComponent(redirectUrl)+\"&wbDesc=\"+encodeURIComponent(title1)+\"&qqDesc=\"+encodeURIComponent(title1)\n\tconsole.log \"share href:\",picUrl\n\tCloudMusic.sharePic({\n\t\tpicUrl: picUrl,\n\t\ttext: title1,\n\t\tlink: redirectUrl\n\t})\n\nwindow.onload = ->\n\tTrueH = document.documentElement.clientHeight\n\tTrueW = document.documentElement.clientWidth\n\n\tlastY = 0\n\n\tif window.navigator.userAgent.indexOf(\"NeteaseMusic\") > -1\n\t\tsys = \"NeteaseMusic\"\n\t\tshareData = \n\t\t\tname: 'YearOfThePig'\n\t\t\ttitle: '新年福袋被偷走了，你的福贴还在里面呢! 快点抢回来吧~'\n\t\t\tsubTitle: \"可恶的小猪你别跑,把我的福袋还回来!!!\"\n\t\t\ttext: ''\n\t\t\tpicUrl: 'http://m.giccoo.com/YearOfThePig/img/ico.jpg'\n\t\t\tlink: 'http://m.giccoo.com/YearOfThePig/'\n\t\tCloudMusic.setShareData shareData\n\telse\n\t\tloadWechatConfig()\n\t\twx.ready ->\n\t\t\tshareContent =\n\t\t\t\ttitle: \"新年福袋被偷走了，你的福贴还在里面呢! 快点抢回来吧~\"\n\t\t\t\tdesc: \"可恶的小猪你别跑,把我的福袋还回来!!!\"\n\t\t\t\tlink: \"http://m.giccoo.com/YearOfThePig/\"\n\t\t\t\timgUrl: \"http://m.giccoo.com/YearOfThePig/img/ico.jpg\"\n\t\t\t\tsuccess: ->\n\t\t\t\t\t# alert \"success\"\n\t\t\t\tcancel: ->\n\t\t\t\t\t# alert \"cancel\"\n\t\t\twx.onMenuShareTimeline shareContent\n\t\t\twx.onMenuShareAppMessage shareContent\n\t\t\twx.onMenuShareQQ shareContent\n\t\t\twx.onMenuShareWeibo shareContent\n\n\t# _public = new Vue\n\t# \tel: \"#public\"\n\t# \tdata:\n\t# \t\tnote: true\n\t# \t\tplaying: false\n\t# \tmounted: ->\n\t# \t\tdocument.addEventListener \"WeixinJSBridgeReady\", ->\n\t# \t\t\t_public.$children[0].change()\n\n\tloading = new Vue\n\t\tel: \"#loading\"\n\t\tdata:\n\t\t\tprogress: 0\n\t\t\tmounted: false\n\t\t\tprogressOn: 10\n\t\t\tisrun: false\n\t\tcomputed:\n\t\t\tprogressText: ->\n\t\t\t\treturn NumberToChinese @.progress\n\t\tmethods:\n\t\t\tupdateMax: (i)->\n\t\t\t\t@.progressOn = Math.floor(i/6)*100\n\t\t\trunHand: ->\n\t\t\t\treturn false if @.isrun\n\t\t\t\tmaxH = document.documentElement.clientHeight\n\t\t\t\t@.isrun = true\n\t\t\t\thandLeft = document.getElementsByClassName(\"hand-left\")[0]\n\t\t\t\thandRight = document.getElementsByClassName(\"hand-right\")[0]\n\t\t\t\tbag = document.getElementsByClassName(\"lucky-bag\")[0]\n\t\t\t\tshadow = document.getElementsByClassName(\"bag-shadow\")[0]\n\n\t\t\t\tdownTime = 1.2\n\t\t\t\tupTime = 0.5\n\t\t\t\tTweenMax.to handRight,downTime,{\"y\": maxH/2-maxH*0.1}\n\t\t\t\tTweenMax.to handLeft,downTime,{\"y\": maxH/2-maxH*0.1}\n\n\t\t\t\tTweenMax.to handRight,downTime,{\"rotation\": 10}\n\t\t\t\tTweenMax.to handLeft,downTime,{\"rotation\": -10}\n\n\t\t\t\tTweenMax.to handRight,upTime,{\"y\": -maxH*0.1,delay: downTime*1.5}\n\t\t\t\tTweenMax.to handLeft,upTime,{\"y\": -maxH*0.1,delay: downTime*1.5}\n\t\t\t\tTweenMax.to shadow,upTime*2/3,{\"scale\": 0,delay: downTime*1.5}\n\t\t\t\tTweenMax.to bag,upTime,{\n\t\t\t\t\t\"y\": -(maxH/2),\n\t\t\t\t\tdelay: downTime*1.5, \n\t\t\t\t\tonComplete: =>\n\t\t\t\t\t\t@.next()\n\t\t\t\t}\n\t\t\tnext: ->\n\t\t\t\tdocument.getElementById('load').className += \" fadeOut animated\"\n\t\t\t\t_public.note = false\n\t\t\t\tmain.mounted = true\n\t\t\t\tsetTimeout ->\n\t\t\t\t\tdocument.getElementById('load').style.display = \"none\"\n\t\t\t\t\tmain.pageIndex = 1\n\t\t\t\t\tsetTimeout ->\n\t\t\t\t\t\tmain.runHand()\n\t\t\t\t\t,520\n\t\t\t\t,520\n\t\tmounted: ->\n\t\t\t@.mounted = true\n\t\t\tTrueH = document.documentElement.clientHeight\n\t\t\tTrueW = document.documentElement.clientWidth\n\n\t\t\t# @.next() # for test\n\n\t\t\ttimein = setInterval =>\n\t\t\t\t@.progress += 3\n\t\t\t\t@.progress = @.progressOn if @.progress >= @.progressOn\n\t\t\t\tif @.progress >= 70\n\t\t\t\t\t@.runHand()\n\t\t\t\tif @.progress >= 100\n\t\t\t\t\t@.progress = 100\n\t\t\t\t\tclearInterval timein\n\t\t\t,1000/20\n\t\n\tinit()\n\ninit = ->\n\tTrueW = 640 if TrueW >= 640\n\tTrueH = 1138 if TrueH >= 1138\n\tsmaller = TrueH*2 < 1200\n\tnavH = Math.ceil TrueW / 640 * 94 / TrueH * 100\n\tTrueH = document.documentElement.clientHeight\n\tTrueW = document.documentElement.clientWidth\n\tconsole.log TrueW,TrueH\n\n\tmain = new Vue\n\t\tel: \"#main\"\n\t\tdata:\n\t\t\tw: TrueW\n\t\t\th: TrueH\n\t\t\tbiger: TrueW/TrueH < 0.55\n\t\t\tsmaller: smaller\n\t\t\tafterH: if smaller then TrueH*1.15-1029*(TrueW/750) else TrueH-1029*(TrueW/750)\n\t\t\twy: false\n\t\t\tmounted: true\n\t\t\tloading: false\n\t\t\tplaying: false\n\t\t\tcanPlay: true\n\t\t\tnoteText: \"\"\n\t\t\tnoteTime: null\n\t\t\tnoteShow: false\n\t\t\tnoteType: true\n\t\t\tpageInfoShow: false\n\t\t\tpageIndex: 0\n\t\t\tstep: 1\n\t\t\tsingerIndex: 1\n\t\t\tbgmPlay: false\n\t\t\tstartgame: false\n\t\t\tfolder: \"\"\n\t\t\tBGColor: \"#ffffff\"\n\t\t\tXY: \"pageY\"\n\t\t\tugc: null\n\t\t\tugcsave: null\n\t\t\tugcold: null\n\t\t\tpushed: false\n\t\t\tshareImageLink: null\n\t\t\tcache: null\n\t\t\taudioId: null\n\t\t\tv: null\n\t\t\trecordStarting: false\n\t\t\tauthorization: false\n\t\t\tnorecord: true\n\t\t\tuploaded: false\n\t\t\timageUpdate: false\n\t\t\tallowPopShow: false\n\t\t\tcount: 0\n\t\t\tvideoIndex: 0\n\t\t\tvideoIndexOld: 0\n\t\t\tlr: true\n\t\t\tform:\n\t\t\t\tsex: {id:\"sex\", type: \"select\", link: \"city\", array: true, value: 0, options: [{name:\"请选择称谓(男士/女士)\",val:0},{name:\"男士\",val:1},{name:\"女士\",val:2}] }\n\t\t\t\tfirstname: {id:\"firstname\", type: \"input\", placeholder: \"请填写姓\",value: \"\"}\n\t\t\t\tusername: {id:\"username\", type: \"input\", placeholder: \"请填写名\",value: \"\"}\n\t\t\t\tmobile: {id:\"mobile\", type: \"number\", placeholder: \"请填写电话号码\",value: \"\"}\n\t\t\t# \tcity: {id:\"city\", type: \"select\", label: \"城市\", link: \"dealer\",value: Object.keys(_citys[\"请选择省份\"])[0], options: _citys[\"请选择省份\"] }\n\t\t\tmask: 1\n\t\t\ttext: \"\"\n\t\t\tnickname: \"\"\n\t\t\tmobile: \"\"\n\t\t\tmusicLink: \"\"\n\t\t\tlogId: \"\"\n\t\t\topenBtnShow: true\n\t\t\tdefault:\n\t\t\t\tx: 0\n\t\t\tvideoPop: false\n\t\t\tcanUpload: true\n\t\t\thandCover: false\n\t\t\tlast_update: 0\n\t\t\tlastX: 0\n\t\t\tlastY: 0\n\t\t\tlastZ: 0\n\t\t\tspeed: 4000\n\t\t\tmaxSpeed: 0\n\t\t\tswing: false\n\t\t\tmessageShow: false\n\t\t\tregisterShow: false\n\t\t\tlotteryShow: false\n\t\t\tlotteryEndShow: false\n\t\t\tlotteryInfo: \n\t\t\t\tid: null\n\t\t\t\trandom: null\n\t\t\tregSubmited: false\n\t\t\tgiveUp: false\n\t\t\tgameEnd: false\n\t\t\tnoreg: false\n\t\t\tugcShow: false\n\t\t\tregH: 100\n\t\t\tugcType: 1\n\t\t\tnickname: \"\"\n\t\t\tmessage: \"\"\n\t\t\tmessageIndex: 1\n\t\t\tmessageInput: false\n\t\t\tmusicName: \"\"\n\t\t\twhite: false\n\t\t\tformShow: true\n\t\t\tformBoxShow: false\n\t\t\tgameEndBtns: false\n\t\t\tmsgIndex: 1\n\t\t\tallow: true\n\t\t\tshaked: false\n\t\t\tbgImg: null\n\t\tmethods:\n\t\t\trunHand: ->\n\t\t\t\treturn false unless @.allow \n\t\t\t\tbag = document.getElementsByClassName(\"home-handbag\")[0]\n\t\t\t\tlr = Math.random() > 0.5\n\t\t\t\tbag.className = \"home-handbag #{if lr then 'right' else 'left'}\"\n\t\t\t\ttimes = 2+Math.floor Math.random()*8\n\t\t\t\toutTime = 1\n\t\t\t\tTweenMax.set bag, {y: Math.random()*TrueH*0.3}\n\t\t\t\tTweenMax.to bag,outTime,{\n\t\t\t\t\tx: if lr then -TrueW/3 else TrueW/3\n\t\t\t\t}\n\t\t\t\tTweenMax.to bag,outTime/5,{\n\t\t\t\t\tyoyo: true\n\t\t\t\t\trotation: 5\n\t\t\t\t\trepeat: times\n\t\t\t\t\ttransformOrigin: if lr then \"right bottom\" else \"left bottom\"\n\t\t\t\t\tdelay: outTime\n\t\t\t\t\tonComplete: =>\n\t\t\t\t\t\tTweenMax.to bag,outTime/2,{\n\t\t\t\t\t\t\trotation: 0\n\t\t\t\t\t\t}\n\t\t\t\t\t\tTweenMax.to bag,outTime/2,{\n\t\t\t\t\t\t\tx: 0\n\t\t\t\t\t\t\tonComplete: =>\n\t\t\t\t\t\t\t\tsetTimeout =>\n\t\t\t\t\t\t\t\t\t@.runHand()\n\t\t\t\t\t\t\t\t,200+1000*Math.random()\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\tsend: (text,type = true)->\n\t\t\t\t@.noteShow = true\n\t\t\t\t@.noteText = text\n\t\t\t\t@.noteType = type\n\t\t\t\tclearTimeout @.noteTime\n\t\t\t\t@.noteTime = setTimeout =>\n\t\t\t\t\t@.noteShow = false\n\t\t\t\t,2000\n\t\t\tover: ->\n\t\t\t\t@.questionShow = false\n\t\t\t\tugc.init()\n\t\t\tregame: ->\n\t\t\t\twindow.location.reload()\n\t\t\tdateText: (date)->\n\t\t\t\tconsole.log date.replace(/-/g,\"/\")\n\t\t\t\td = new Date date.replace(/-/g,\"/\")\n\t\t\t\treturn d.getFullYear()+\"年\"+(d.getMonth()+1)+\"月\"+d.getDate()+\"日\"\n\t\t\tgoUGC: ->\n\t\t\t\t@.lotteryShow = true\n\t\t\tsharePost: (base64)->\n\t\t\t\tugc.app.renderer.render ugc.app.stage\n\t\t\t\t# @.ugc = ugc.app.view.toDataURL()\n\t\t\t\t@.ugc = base64\n\t\t\trestart: ->\n\t\t\t\twindow.location.reload()\n\t\t\tgoshare: ->\n\t\t\t\t# goShare()\n\t\t\t\t@.share()\n\t\t\tshare: ->\n\t\t\t\tgoFinal2() if goFinal2?\n\t\t\t\tshowQR() if showQR?\n\t\t\t\t@.formBoxShow = false\n\t\t\t\t@.registerShow = false\n\t\t\t\t@.lotteryShow = false\n\t\t\t\tconsole.log \"run share\"\n\t\t\t\tif @.bgImg?\n\t\t\t\t\t@.callshare()\n\t\t\t\telse\n\t\t\t\t\tbgImg = renderer.domElement.toDataURL()\n\t\t\t\t\t@.bgImg = new Sprite.fromImage(bgImg)\n\n\t\t\t\t\t# ugc.qrcode.visible = true\n\t\t\t\t\tugc.app.stage.addChildAt @.bgImg,0\n\t\t\t\t\t@.bgImg.texture.baseTexture.on 'loaded', =>\n\t\t\t\t\t# @.ugc = bgImg\n\t\t\t\t\t\t@.bgImg.scale.set(750/@.bgImg.width)\n\t\t\t\t\t\t@.callshare()\n\t\t\tcallshare: ->\n\t\t\t\tugc.app.renderer.render ugc.app.stage\n\t\t\t\t@.ugc = ugc.app.view.toDataURL()\n\t\t\t\t# ugc.buildUGC(ugc.app.view.toDataURL())\n\n\t\t\t\tif @.wy\n\t\t\t\t\tfolder = \"pig\"\n\t\t\t\t\tdata = {\n\t\t\t\t\t\timage: image\n\t\t\t\t\t\tfolder: folder\n\t\t\t\t\t}\n\t\t\t\t\t@.folder = folder\n\t\t\t\t\treturn @.faild() unless image?\n\t\t\t\t\treturn false if @.pushed\n\t\t\t\t\tif @.shareImageLink?\n\t\t\t\t\t\t@.pushed = false\n\t\t\t\t\t\t@.loading = false\n\t\t\t\t\t\t# ugc.back()\n\t\t\t\t\t\tneteaseShareImage()\n\t\t\t\t\t\tshareDone() if shareDone?\n\t\t\t\t\t\t# ugc.app.stage.removeChild @.bgImg\n\t\t\t\t\t\treturn true\n\t\t\t\t\taxios.post imageurl,data\n\t\t\t\t\t.then (msg)=>\n\t\t\t\t\t\tif msg.data.code is 200\n\t\t\t\t\t\t\tmain.success(msg.data)\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tmain.faild(msg)\n\t\t\t\t\t.catch (e)=>\n\t\t\t\t\t\t# alert e\n\t\t\t\t\t\tmain.faild(e)\t\t\n\t\t\t\telse\n\t\t\t\t\t@.ugcShow = true\n\t\t\t\t\t# ugc.back()\n\t\t\t\t# ugc.qrcode.visible = false\n\t\t\tsuccess: (data)->\n\t\t\t\t@.shareImageLink = data.info\n\t\t\t\t@.pushed = false\n\t\t\t\t@.loading = false\n\t\t\t\t# ugc.back()\n\t\t\t\tneteaseShareImage()\n\t\t\t\tshareDone() if shareDone?\n\t\t\t\t# ugc.app.stage.removeChild @.bgImg\n\t\t\t\t# 抽奖\n\t\t\t\t# unless @.giveUp\n\t\t\t\t# \tsetTimeout =>\n\t\t\t\t# \t\t@.getLottery()\n\t\t\t\t# \t,5000\n\t\t\tcloseUGC: ->\n\t\t\t\t@.ugcShow = false\n\t\t\t\tshareDone() if shareDone?\n\t\t\t\t# ugc.app.stage.removeChild @.bgImg\n\t\t\tfaild: (err)->\n\t\t\t\t@.pushed = false\n\t\t\t\t@.loading = false\n\t\t\topenSong: ->\n\t\t\t\tid = [169794,166317,112678,144143,64497,163639,28853351,153476,5271858,186980,170749,5276250,27591641,32922491,144380,5250828,28785688,186272,210866,555984413]\n\t\t\t\t# CloudMusic.song(id[resultNum])\n\t\t\t\twindow.location.href = \"https://music.163.com/#/song?id=#{id[resultNum]}\"\n\t\t\topenInApp: ->\n\t\t\t\tCloudMusic.open(\"https://m.giccoo.com/draw-board/\")\n\t\t\tgoNext: ->\n\t\t\t\tsetTest()\n\t\t\t\tModLoaded()\n\t\t\t\t@.pageIndex = 2\n\t\t\t\tsetTimeout =>\n\t\t\t\t\t@.runShakeHand()\n\t\t\t\t,1000\n\t\t\trunShakeHand: ->\n\t\t\t\treturn false if @.shaked\n\t\t\t\thand = document.getElementById \"shakeHand\"\n\t\t\t\tdt = 0.3\n\t\t\t\trepeatTime = 14\n\t\t\t\thand.className = \"hand hold\"\n\t\t\t\tTweenMax.to hand,dt,{x: 10, rotation: 13, transformOrigin: \"center bottom\",}\n\t\t\t\tTweenMax.to hand,dt*2,{x: -10, rotation: -13, transformOrigin: \"center bottom\", delay: dt}\n\t\t\t\tTweenMax.to hand,dt*2,{x: 10, rotation: 13, transformOrigin: \"center bottom\", delay: dt*3}\n\t\t\t\tTweenMax.to hand,dt/2,{x: -10, rotation: -13, yoyo: true,repeat: repeatTime, transformOrigin: \"center bottom\", delay: dt*5}\n\t\t\t\tTweenMax.to hand,dt/2,{\n\t\t\t\t\tx: 0\n\t\t\t\t\trotation: 0\n\t\t\t\t\ttransformOrigin: \"center bottom\"\n\t\t\t\t\tdelay: dt*5+dt/2*repeatTime\n\t\t\t\t\tonComplete: =>\n\t\t\t\t\t\thand.className = \"hand\"\n\t\t\t\t\t\tsetTimeout =>\n\t\t\t\t\t\t\t@.runShakeHand()\n\t\t\t\t\t\t,1000\n\t\t\t\t}\n\t\t\trunGift: ->\n\t\t\t\t@.messageShow = true\n\t\t\t\tmsgs = [\n\t\t\t\t\t\"有对象吗?\",\n\t\t\t\t\t\"结婚了吗?\",\n\t\t\t\t\t\"朋友们都结婚了吧?\",\n\t\t\t\t\t\"年终奖多少啊?\",\n\t\t\t\t\t\"买房了吗?\",\n\t\t\t\t\t\"你看你又胖啦!\",\n\t\t\t\t\t\"这么大岁数了要努力呀!\"\n\t\t\t\t]\n\t\t\t\t# @.message = msgs[Math.floor(Math.random() * msgs.length)]\n\t\t\t\tdocument.getElementById(\"subtitles\").innerHTML = \"<div data-splitting>#{msgs[@.msgIndex]}</div>\"\n\t\t\t\tSplitting()\n\t\t\t\t@.msgIndex = (@.msgIndex+1)%msgs.length\n\t\t\t\tSOUND.runRandomHit()\n\t\t\tgameOver: ->\n\t\t\t\tconsole.log \"Start\"\n\t\t\t\t@.gameEnd = true\n\t\t\topenNote: ->\n\t\t\t\t# clearTimeout _cache\n\t\t\t\t@.registerShow = true\n\t\t\t\t# _cache = setTimeout =>\n\t\t\t\tdocument.getElementById(\"note-text\").innerHTML = \"<div data-splitting>“对，点这里！”</div><div data-splitting>“咦，咱们俩的手好像啊~”</div>\"\n\t\t\t\tSplitting()\n\t\t\t\t# ,400\n\n\t\t\tmute: ->\n\t\t\t\t@.canPlay = !@.canPlay\n\t\t\t\tunless @.canPlay\n\t\t\t\t\tSOUND.giftEnd.pause()\n\t\t\t\t\tSOUND.g.pause()\n\t\t\t\t\tSOUND.hit1.pause()\n\t\t\t\t\tSOUND.hit2.pause()\n\t\t\t\t\tSOUND.hit3.pause()\n\t\t\t\t\tSOUND.hit4.pause()\n\n\t\tmounted: ->\n\t\t\tTrueH = document.documentElement.clientHeight\n\t\t\tTrueW = document.documentElement.clientWidth\n\t\t\tif sys is \"NeteaseMusic\"\n\t\t\t\t@.wy = true\n\t\t\th = TrueH*2*(2-TrueW*2/750+0.01)\n\t\t\t@.wy = CloudMusic.isInApp()\n\t\t\tversion = CloudMusic.getClientVersion().split(\".\")\n\t\t\tugc = new UGC({el: \"ugc\", w: 750, h: 750/TrueW*TrueH,callback: => })\n\t\t\tdocument.getElementById(\"sence\").appendChild initAll()\n\nchnNumChar = [\"零\",\"一\",\"二\",\"三\",\"四\",\"五\",\"六\",\"七\",\"八\",\"九\"]\nchnUnitSection = [\"\",\"万\",\"亿\",\"万亿\",\"亿亿\"]\nchnUnitChar = [\"\",\"十\",\"百\",\"千\"]\nSectionToChinese = (section) ->\n\tstrIns = ''\n\tchnStr = ''\n\tunitPos = 0\n\toldSection = section\n\tzero = true\n\twhile section > 0\n\t\tv = section % 10\n\t\tif v == 0\n\t\t\tif !zero\n\t\t\t\tzero = true\n\t\t\t\tchnStr = chnNumChar[v] + chnStr\n\t\telse\n\t\t\tzero = false\n\t\t\tstrIns = chnNumChar[v]\n\t\t\tstrIns += chnUnitChar[unitPos]\n\t\t\tchnStr = strIns + chnStr\n\t\tunitPos++\n\t\tsection = Math.floor(section / 10)\n\treturn chnStr.substr(1) if oldSection >= 10 and oldSection < 20\n\treturn chnStr\nNumberToChinese = (num) ->\n\tunitPos = 0\n\tstrIns = ''\n\tchnStr = ''\n\tneedZero = false\n\tif num == 0\n\t\treturn chnNumChar[0]\n\twhile num > 0\n\t\tsection = num % 10000\n\t\tif needZero\n\t\t\tchnStr = chnNumChar[0] + chnStr\n\t\tstrIns = SectionToChinese(section)\n\t\tstrIns += if section != 0 then chnUnitSection[unitPos] else chnUnitSection[0]\n\t\tchnStr = strIns + chnStr\n\t\tneedZero = section < 1000 and section > 0\n\t\tnum = Math.floor(num / 10000)\n\t\tunitPos++\n\tchnStr\n\ntryThis = (msg)->\n\tconsole.log \"msg:\",msg\n\n\n# @codekit-append \"../js/phy.js\"\n# @codekit-append \"../js/Fog.js\"\n# @codekit-append \"../js/gift.js\"\n# @codekit-append \"../js/ani.js\"\n# @codekit-append \"../js/pig.js\"\n# @codekit-append \"../js/build.js\"\n\n\n```\nfunction setMeshPhy(_mesh,_body,_scale){\n\t//console.log(_mesh.geometry.attributes)\n\t\tif(!_scale){_scale=1}\n\n\t\tvar rawVerts = _mesh.geometry.attributes.position.array;\n    var verts=[]\n    var j\n    for (j=0; j < _mesh.geometry.attributes.position.array.length; j+=3) {\n    \tverts.push(new CANNON.Vec3(\trawVerts[j]*_scale\t,\trawVerts[j+1]*_scale\t,\trawVerts[j+2]*_scale));\n    };\n\n    //var _meshShape = new CANNON.ConvexPolyhedron(verts);\n    var _faces=new THREE.Geometry()\n    _faces.fromBufferGeometry(_mesh.geometry)\n    var _meshShape = new CANNON.ConvexPolyhedron(verts,_faces.face);\n\t _body.addShape(_meshShape)\n\n}\n\nfunction vec3toVector3(_vec3){\n\tvar _vector3=new THREE.Vector3(_vec3.x,_vec3.y,_vec3.z)\n\treturn(_vector3)\n}```\n\n```// import { Color } from '../math/Color.js';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Fog( color, near, far ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\n\tthis.near = ( near !== undefined ) ? near : 1;\n\tthis.far = ( far !== undefined ) ? far : 1000;\n\n}\n\nFog.prototype.isFog = true;\n\nFog.prototype.clone = function () {\n\n\treturn new Fog( this.color, this.near, this.far );\n\n};\n\nFog.prototype.toJSON = function ( /* meta */ ) {\n\n\treturn {\n\t\ttype: 'Fog',\n\t\tcolor: this.color.getHex(),\n\t\tnear: this.near,\n\t\tfar: this.far\n\t};\n\n}```\n\n```var gifts=[]\nvar giftsNum=[1,3,5,7,9,16,20,50]//[1,2,3,4,5,6,7]\nvar gift1,gift2,gift3,gift4\n\nfunction setGifts(){\n\t//=====硬币\n\tgift1=objs.gift1.clone()\n\tvar gift1map=objs.gift1.material.map\n\t//console.log(pig.material.map)\n\t//var pigMat=new THREE.MeshToonMaterial({map:pigmap,envMap:environment,reflectivity:0.2})\n\t//var pigMat=new THREE.MeshToonMaterial({map:pigmap,shininess:10,specular:0xff3388})//normalMap:pigmap,normalMapType:THREE.ObjectSpaceNormalMap\n\tvar gift1Mat=new THREE.MeshToonMaterial({color:0xeeb041,emissive:0xeeb041,emissiveIntensity:.1})\n\t//var pigMat=new THREE.MeshStandardMaterial({map:pigmap,emissive:0xffffff,envMap:environment,emissiveIntensity:0.5,roughness:0.4,metalness:.5})\n\tgift1.material=gift1Mat\n\t//TweenMax.to(gift1.material,.5,{emissiveIntensity:0.05,repeat:1000000,yoyo:true})\n\n\n\t//=====金条\n\tgift2=objs.gift2.clone()\n\tvar gift2map=objs.gift2.material.map\n\t//console.log(pig.material.map)\n\t//var pigMat=new THREE.MeshToonMaterial({map:pigmap,envMap:environment,reflectivity:0.2})\n\t//var pigMat=new THREE.MeshToonMaterial({map:pigmap,shininess:10,specular:0xff3388})//normalMap:pigmap,normalMapType:THREE.ObjectSpaceNormalMap\n\tvar gift2Mat=new THREE.MeshToonMaterial({color:0xf2c64d,emissive:0xf2c64d,emissiveIntensity:.1})\n\t//var pigMat=new THREE.MeshStandardMaterial({map:pigmap,emissive:0xffffff,envMap:environment,emissiveIntensity:0.5,roughness:0.4,metalness:.5})\n\tgift2.material=gift2Mat\n\t//TweenMax.to(gift2.material,.5,{emissiveIntensity:0.05,repeat:1000000,yoyo:true})\n\n\n\t//=====元宝\n\tgift3=objs.gift3.clone()\n\tvar gift3map=objs.gift3.material.map\n\t//console.log(pig.material.map)\n\t//var pigMat=new THREE.MeshToonMaterial({map:pigmap,envMap:environment,reflectivity:0.2})\n\t//var pigMat=new THREE.MeshToonMaterial({map:pigmap,shininess:10,specular:0xff3388})//normalMap:pigmap,normalMapType:THREE.ObjectSpaceNormalMap\n\tvar gift3Mat=new THREE.MeshToonMaterial({color:0xf2c64d,emissive:0xf2c64d,emissiveIntensity:.1})\n\t//var pigMat=new THREE.MeshStandardMaterial({map:pigmap,emissive:0xffffff,envMap:environment,emissiveIntensity:0.5,roughness:0.4,metalness:.5})\n\tgift3.material=gift3Mat\n\t//TweenMax.to(gift3.material,.5,{emissiveIntensity:0.05,repeat:1000000,yoyo:true})\n\n\n\t//=====红包\n\tgift4=objs.gift4.clone()\n\tvar gift4map=objs.gift4.material.map\n\t//console.log(pig.material.map)\n\t//var pigMat=new THREE.MeshToonMaterial({map:pigmap,envMap:environment,reflectivity:0.2})\n\t//var pigMat=new THREE.MeshToonMaterial({map:pigmap,shininess:10,specular:0xff3388})//normalMap:pigmap,normalMapType:THREE.ObjectSpaceNormalMap\n\tvar gift4Mat=new THREE.MeshBasicMaterial({map:gift4map,reflectivity:0})\n\t//var pigMat=new THREE.MeshStandardMaterial({map:pigmap,emissive:0xffffff,envMap:environment,emissiveIntensity:0.5,roughness:0.4,metalness:.5})\n\tgift4.material=gift4Mat\n}\n\nvar nowGiftType=parseInt(Math.random()*4)\nvar giftScale=1\nfunction addGift(){\n\tconsole.log(\"加个礼物\")\n\t\n\tif(level==7){\n\t\tfor (var i = 0; i < giftsNum[level]; i++) {\n\t\t\t\tsetTimeout(addAGift,30*i)\n\t\t};\n\t\tremoveJointConstraint();\n\t\trenderer.domElement.removeEventListener(\"touchstart\",onDocumentTouchStart,false)\n\t\trenderer.domElement.removeEventListener(\"touchmove\",onDocumentTouchMove,{passive: false})\n\t\trenderer.domElement.removeEventListener(\"touchend\",onDocumentTouchEnd,false)\n\t\tTweenMax.to(rootPointBody.position,2.5,{y:120,onComplete:moveCamera})\n\t\tSOUND.end()\n\t\tmain.gameOver()\n\t}else{\n\t\tfor (var i = 0; i < giftsNum[level]; i++) {\n\t\t\t\tsetTimeout(addAGift,60*i)\n\t\t};\n\t\tmain.runGift()\n\t}\n\tremoveJointConstraint();\n}\n\nfunction moveCamera(){\n\t\n\tsetTimeout(pixiStart,1000)\n\tTweenMax.to(camera.position, 3, {\n      y: 25,\n      ease: Power2.easeInOut,\n      onUpdate: function onUpdate(v) {\n          camera.updateProjectionMatrix();\n      }\n  });\n  TweenMax.to(camera, 3, {\n      zoom: 0.8,\n      ease: Power2.easeInOut,\n      onUpdate: function onUpdate(v) {\n          camera.updateProjectionMatrix();\n      },\n      onComplete:endThree\n\n  });\n}\n\nfunction endThree(){\n\tifThreePlay=false\n}\n\nfunction addAGift(){\n\t\t// if(sound.isPlaying){\n\t\t// \tsound.stop();\n\t\t// }\n\t\t// sound.play();\n\t\tvar giftType=nowGiftType\n\t\t\n\t\tnowGiftType++\n\t\tif (nowGiftType==4) {nowGiftType=0};\n\n\t\tvar giftA=[gift1,gift2,gift3,gift4]\n\t\tvar _agift=giftA[giftType].clone()//Math.random()*4\n\t\t_agift.scale.set(.1*giftScale,.1*giftScale,.1*giftScale)\n\t\t_agift.castShadow=true\n\n\t\t//_agift.receiveShadow=true\n\t\tscene.add(_agift)\n\t\tmeshes.push(_agift)\n\t\tTweenMax.from(_agift.scale,2,{x:0.01,y:0.01,z:0.01,ease:Elastic.easeOut})\n\n\n\n\n\t\tswitch(giftType){\n\t\t\tcase 0:\n\t\t\t\tvar\t_giftShape=new CANNON.Cylinder(3*giftScale,3*giftScale,.5*giftScale,12)//硬币\n\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tvar\t_giftShape=new CANNON.Sphere(2.5*giftScale)//元宝\n\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tvar\t_giftShape=new CANNON.Box(new CANNON.Vec3(4.5*giftScale,1.3*giftScale,1.5*giftScale))//金条\n\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tvar\t_giftShape=new CANNON.Box(new CANNON.Vec3(3*giftScale,4.5*giftScale,.5*giftScale))//红包\n\t\t\tbreak;\n\t\t}\n\n\t\t\n\t\tvar _giftBody=new CANNON.Body({mass:10,position:new CANNON.Vec3(0,0,0)})//type:CANNON.Body.KINEMATIC\n\t\t_giftBody.addShape(_giftShape)\n\n\t\t_agift.userData.body=_giftBody\n\t\t_agift.userData.isGift=true\n\n\t\t_giftBody.position.set(pigBody.position.x,pigBody.position.y-20,pigBody.position.z)\n\n\t\t_giftBody.angularVelocity=new CANNON.Vec3(Math.random()*4-2,Math.random()*4-2,Math.random()*4-2)//随机旋转\n\t\t_giftBody.velocity=new CANNON.Vec3(Math.random()*4-2,Math.random()*4-2,Math.random()*4-2)//随机速度\n\n\t\tworld.add(_giftBody)\n\t\tbodies.push(_giftBody)\n\n\t\tSOUND.gift.play()\n\t\tmain.shaked = true\n\n}\n\nfunction aniDone(){\n\tconsole.log(\"完成\")\n}\n\n\n\n```\n\n```\nvar pigScale=0.1\nvar footLinearDamping=0.2\nvar handLinearDamping=0.2\nvar footAngularDamping=0.2\nvar handAngularDamping=0.2\n//====================================左脚\nvar leftFoot\nfunction setLeftFoot(){\n\tleftFoot=objs.foot.clone()\n\tscene.add(leftFoot)\n\tleftFoot.scale.set(pigScale,pigScale,pigScale)\n\tleftFoot.position.set(0,0,0)\n\tleftFoot.castShadow=true\n\tvar footmap=objs.foot.material.map\n\tvar footMat=new THREE.MeshBasicMaterial({map:footmap})\n\n\tleftFoot.material=footMat\n\n\n\tvar leftFootJointGeo=new THREE.BoxGeometry(1,1,1)\n\tvar leftFootJointMaterial=new THREE.MeshBasicMaterial({color:0xffff00})\n\tleftFootJoint=new THREE.Mesh(leftFootJointGeo,leftFootJointMaterial)\n\t//scene.add(leftFootJoint)\n\tsetLeftFootPhy()\n}\nvar leftFootBody,leftFootJointBody,leftLegGeo,leftLegMat,leftLeg//leftFootCurve\nfunction setLeftFootPhy(){\n\t//=====左脚\n\tleftFootShap=new CANNON.Sphere(20*pigScale)//=====加物理外形\n\tleftFootBody=new CANNON.Body({\n\t\tmass:5,\n\t\tposition:new CANNON.Vec3(20*pigScale,0,0),\n\t\tshape:leftFootShap,\n\t\tlinearDamping:footLinearDamping,\n\t\tangularDamping:footAngularDamping\n\t})\n\tworld.add(leftFootBody)\n\tmeshes.push(leftFoot)\n\tbodies.push(leftFootBody)\n\tleftFoot.userData.body=leftFootBody\n\n\t//=====左膝盖\n\tleftFootJointBody=new CANNON.Body({\n\t\tmass:1,\n\t\tposition:new CANNON.Vec3(20*pigScale,50*pigScale,10*pigScale),\n\t\tlinearDamping:footLinearDamping,\n\t\tangularDamping:footAngularDamping\n\t})\n\tworld.add(leftFootJointBody)\n\tmeshes.push(leftFootJoint)\n\tbodies.push(leftFootJointBody)\n\t//=====膝盖链接身子\n\t//var leftFootJoint_bodyConstraint = new CANNON.PointToPointConstraint(leftFootJointBody, new CANNON.Vec3(0,0,0), pigBody, new CANNON.Vec3(20*pigScale,-114.6146*pigScale/1.2,30*pigScale),100);\n\tvar leftFootJoint_bodyConstraint = new CANNON.ConeTwistConstraint(leftFootJointBody, pigBody,{\n\t\tpivotA:\tnew CANNON.Vec3(0,0,0),\n\t\tpivotB: new CANNON.Vec3(20*pigScale,-114.6146*pigScale/1.2,30*pigScale),\n\t\taxisA: CANNON.Vec3.UNIT_Y,\n\t\taxisB: CANNON.Vec3.UNIT_Y,\n    angle: Math.PI / 100,\n    twistAngle: 0,\n\t\tmaxForce:1e100\n\t});\n\n\tworld.addConstraint(leftFootJoint_bodyConstraint);\n\n\t//=====脚链接膝盖\n\t//var foot_leftFootJointConstraint = new CANNON.PointToPointConstraint(leftFootBody, new CANNON.Vec3(0,50*pigScale/1.2,0), leftFootJointBody, new CANNON.Vec3(0,0,0),100);\n\tvar foot_leftFootJointConstraint = new CANNON.ConeTwistConstraint(leftFootBody, leftFootJointBody,{\n\t\tpivotA:\tnew CANNON.Vec3(0,50*pigScale/1.2,0),\n\t\tpivotB: new CANNON.Vec3(0,0,0),\n\t\taxisA: CANNON.Vec3.UNIT_Y,\n\t\taxisB: CANNON.Vec3.UNIT_Y,\n    angle: Math.PI / 100,\n    twistAngle: 0,\n\t\tmaxForce:1e100\n\t});\n\tworld.addConstraint(foot_leftFootJointConstraint);\n\n\t//=====画线\n\tleftFootCurve= new THREE.CatmullRomCurve3([new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,0)])\n\tleftLegGeo = new THREE.TubeBufferGeometry( leftFootCurve, 20, 3*pigScale, 8, false );\n\tleftLegGeo.attributes.position.needsUpdate = true\n\tleftLegMat = new THREE.MeshBasicMaterial( { color: 0xf0b6bb } );\n\tleftLeg = new THREE.Mesh( leftLegGeo, leftLegMat );\n\tscene.add( leftLeg );\n\t\n}\n//====================================右脚\nvar rightFoot\nfunction setRightFoot(){\n\trightFoot=objs.foot.clone()\n\tscene.add(rightFoot)\n\trightFoot.scale.set(pigScale,pigScale,pigScale)\n\trightFoot.position.set(0,0,0)\n\trightFoot.castShadow=true\n\tvar footmap=rightFoot.material.map\n\tvar footMat=new THREE.MeshBasicMaterial({map:footmap})\n\n\trightFoot.material=footMat\n\n\n\tvar rightFootJointGeo=new THREE.BoxGeometry(1,1,1)\n\tvar rightFootJointMaterial=new THREE.MeshBasicMaterial({color:0xffff00})\n\trightFootJoint=new THREE.Mesh(rightFootJointGeo,rightFootJointMaterial)\n\t//scene.add(rightFootJoint)\n\tsetRightFootPhy()\n}\nvar rightFootBody,rightFootJointBody,rightLegGeo,rightLegMat,rightLeg//rightFootCurve\nfunction setRightFootPhy(){\n\t//=====右脚\n\trightFootShap=new CANNON.Sphere(20*pigScale)//=====加物理外形\n\trightFootBody=new CANNON.Body({\n\t\tmass:5,\n\t\tposition:new CANNON.Vec3(-20*pigScale,0,0),\n\t\tshape:rightFootShap,\n\t\tlinearDamping:footLinearDamping,\n\t\tangularDamping:footAngularDamping\n\t})\n\tconsole.log(rightFootBody.linearDamping)\n\tworld.add(rightFootBody)\n\tmeshes.push(rightFoot)\n\tbodies.push(rightFootBody)\n\trightFoot.userData.body=rightFootBody\n\n\t//=====右膝盖\n\trightFootJointBody=new CANNON.Body({\n\t\tmass:1,\n\t\tposition:new CANNON.Vec3(-20*pigScale,50*pigScale,30*pigScale),\n\t\tlinearDamping:footLinearDamping,\n\t\tangularDamping:footAngularDamping\n\t})\n\tworld.add(rightFootJointBody)\n\tmeshes.push(rightFootJoint)\n\tbodies.push(rightFootJointBody)\n\n\t//=====膝盖链接身子\n\tvar rightFootJoint_bodyConstraint = new CANNON.ConeTwistConstraint(rightFootJointBody, pigBody,{\n\t\tpivotA:\tnew CANNON.Vec3(0,0,0),\n\t\tpivotB:new CANNON.Vec3(-20*pigScale,-114.6146*pigScale/1.2,30*pigScale),\n\t\taxisA: CANNON.Vec3.UNIT_Y,\n\t\taxisB: CANNON.Vec3.UNIT_Y,\n    angle: Math.PI / 100,\n    twistAngle: 0,\n\t\tmaxForce:1e100\n\t});\n\tworld.addConstraint(rightFootJoint_bodyConstraint);\n\n\t//=====脚链接膝盖\n\tvar foot_rightFootJointConstraint = new CANNON.ConeTwistConstraint(rightFootBody, rightFootJointBody,{\n\t\tpivotA:\tnew CANNON.Vec3(0,50*pigScale/1.2,0),\n\t\tpivotB: new CANNON.Vec3(0,0,0),\n\t\taxisA: CANNON.Vec3.UNIT_Y,\n\t\taxisB: CANNON.Vec3.UNIT_Y,\n    angle: Math.PI / 100,\n    twistAngle: 0,\n\t\tmaxForce:1e100\n\t});\n\tworld.addConstraint(foot_rightFootJointConstraint);\n\n\t//=====画线\n\trightFootCurve= new THREE.CatmullRomCurve3([new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,0)])\n\trightLegGeo = new THREE.TubeBufferGeometry( rightFootCurve, 20, 3*pigScale, 8, false );\n\trightLegGeo.attributes.position.needsUpdate = true\n\trightLegMat = new THREE.MeshBasicMaterial( { color: 0xf0b6bb } );\n\trightLeg = new THREE.Mesh( rightLegGeo, rightLegMat );\n\tscene.add( rightLeg );\n\t\n}\n\n//====================================右手\nvar rightHand\nfunction setRightHand(){\n\trightHand=objs.foot.clone()\n\tscene.add(rightHand)\n\trightHand.scale.set(pigScale,pigScale,pigScale)\n\trightHand.position.set(0,0,0)\n\trightHand.castShadow=true\n\tvar handmap=rightHand.material.map\n\tvar handMat=new THREE.MeshBasicMaterial({map:handmap})\n\n\trightHand.material=handMat\n\n\n\tvar rightHandJointGeo=new THREE.BoxGeometry(1,1,1)\n\tvar rightHandJointMaterial=new THREE.MeshBasicMaterial({color:0xffff00})\n\trightHandJoint=new THREE.Mesh(rightHandJointGeo,rightHandJointMaterial)\n\t//scene.add(rightHandJoint)\n\tsetRightHandPhy()\n}\nvar rightHandBody,rightHandJointBody,rightArmGeo,rightArmMat,rightArm//rightHandCurve\nfunction setRightHandPhy(){\n\t//=====右手\n\trightHandShap=new CANNON.Sphere(20*pigScale)//=====加物理外形\n\trightHandBody=new CANNON.Body({\n\t\tmass:5,\n\t\tposition:new CANNON.Vec3(-20*pigScale,0,0),\n\t\tshape:rightHandShap,\n\t\tlinearDamping:handLinearDamping,\n\t\tangularDamping:handAngularDamping\n\t})\n\tworld.add(rightHandBody)\n\tmeshes.push(rightHand)\n\tbodies.push(rightHandBody)\n\trightHand.userData.body=rightHandBody\n\n\t//=====右肘\n\trightHandJointBody=new CANNON.Body({\n\t\tmass:1,\n\t\tposition:new CANNON.Vec3(-20*pigScale,50*pigScale,30*pigScale),\n\t\tlinearDamping:handLinearDamping,\n\t\tangularDamping:handAngularDamping\n\t})\n\tworld.add(rightHandJointBody)\n\tmeshes.push(rightHandJoint)\n\tbodies.push(rightHandJointBody)\n\n\t//=====肘链接身子\n\tvar rightHandJoint_bodyConstraint = new CANNON.ConeTwistConstraint(rightHandJointBody, pigBody,{\n\t\tpivotA:\tnew CANNON.Vec3(0,0,0),\n\t\tpivotB:new CANNON.Vec3(-60*pigScale,-60*pigScale/1.5,10*pigScale),\n\t\taxisA: CANNON.Vec3.UNIT_Y,\n\t\taxisB: CANNON.Vec3.UNIT_Y,\n    angle: Math.PI / 100,\n    twistAngle: 0,\n\t\tmaxForce:1e100\n\t});\n\tworld.addConstraint(rightHandJoint_bodyConstraint);\n\n\t//=====手链接肘\n\tvar hand_rightHandJointConstraint = new CANNON.ConeTwistConstraint(rightHandBody, rightHandJointBody,{\n\t\tpivotA:\tnew CANNON.Vec3(0,50*pigScale/1.5,0),\n\t\tpivotB: new CANNON.Vec3(0,0,0),\n\t\taxisA: CANNON.Vec3.UNIT_Y,\n\t\taxisB: CANNON.Vec3.UNIT_Y,\n    angle: Math.PI / 100,\n    twistAngle: 0,\n\t\tmaxForce:1e100\n\t});\n\tworld.addConstraint(hand_rightHandJointConstraint);\n\n\t//=====画线\n\trightHandCurve= new THREE.CatmullRomCurve3([new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,0)])\n\trightArmGeo = new THREE.TubeBufferGeometry( rightHandCurve, 20, 3*pigScale, 8, false );\n\trightArmGeo.attributes.position.needsUpdate = true\n\trightArmMat = new THREE.MeshBasicMaterial( { color: 0xf0b6bb } );\n\trightArm = new THREE.Mesh( rightArmGeo, rightArmMat );\n\tscene.add( rightArm );\n\t\n}\n\n//====================================左手\nvar leftHand\nfunction setLeftHand(){\n\tleftHand=objs.foot.clone()\n\tscene.add(leftHand)\n\tleftHand.scale.set(pigScale,pigScale,pigScale)\n\tleftHand.position.set(0,0,0)\n\tleftHand.castShandow=true\n\tvar handmap=leftHand.material.map\n\tvar handMat=new THREE.MeshBasicMaterial({map:handmap})\n\n\tleftHand.material=handMat\n\n\n\tvar leftHandJointGeo=new THREE.BoxGeometry(1,1,1)\n\tvar leftHandJointMaterial=new THREE.MeshBasicMaterial({color:0xffff00})\n\tleftHandJoint=new THREE.Mesh(leftHandJointGeo,leftHandJointMaterial)\n\t//scene.add(leftHandJoint)\n\tsetLeftHandPhy()\n}\nvar leftHandBody,leftHandJointBody,leftArmGeo,leftArmMat,leftArm//leftHandCurve\nfunction setLeftHandPhy(){\n\t//=====左手\n\tleftHandShap=new CANNON.Sphere(20*pigScale)//=====加物理外形\n\tleftHandBody=new CANNON.Body({\n\t\tmass:5,\n\t\tposition:new CANNON.Vec3(20*pigScale,0,0),\n\t\tshape:leftHandShap,\n\t\tlinearDamping:handLinearDamping,\n\t\tangularDamping:handAngularDamping\n\t})\n\tleftHand.castShadow=true\n\tworld.add(leftHandBody)\n\tmeshes.push(leftHand)\n\tbodies.push(leftHandBody)\n\tleftHand.userData.body=leftHandBody\n\n\t//=====左肘\n\tleftHandJointBody=new CANNON.Body({\n\t\tmass:1,\n\t\tposition:new CANNON.Vec3(20*pigScale,50*pigScale,30*pigScale),\n\t\tlinearDamping:handLinearDamping,\n\t\tangularDamping:handAngularDamping\n\t})\n\tworld.add(leftHandJointBody)\n\tmeshes.push(leftHandJoint)\n\tbodies.push(leftHandJointBody)\n\n\t//=====肘链接身子\n\tvar leftHandJoint_bodyConstraint = new CANNON.ConeTwistConstraint(leftHandJointBody, pigBody,{\n\t\tpivotA:\tnew CANNON.Vec3(0,0,0),\n\t\tpivotB:new CANNON.Vec3(60*pigScale,-60*pigScale/1.5,10*pigScale),\n\t\taxisA: CANNON.Vec3.UNIT_Y,\n\t\taxisB: CANNON.Vec3.UNIT_Y,\n    angle: Math.PI / 100,\n    twistAngle: 0,\n\t\tmaxForce:1e100\n\t});\n\tworld.addConstraint(leftHandJoint_bodyConstraint);\n\n\t//=====手链接肘\n\tvar hand_leftHandJointConstraint = new CANNON.ConeTwistConstraint(leftHandBody, leftHandJointBody,{\n\t\tpivotA:\tnew CANNON.Vec3(0,50*pigScale/1.5,0),\n\t\tpivotB: new CANNON.Vec3(0,0,0),\n\t\taxisA: CANNON.Vec3.UNIT_Y,\n\t\taxisB: CANNON.Vec3.UNIT_Y,\n    angle: Math.PI / 100,\n    twistAngle: 0,\n\t\tmaxForce:1e100\n\t});\n\tworld.addConstraint(hand_leftHandJointConstraint);\n\n\t//=====画线\n\tleftHandCurve= new THREE.CatmullRomCurve3([new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,0)])\n\tleftArmGeo = new THREE.TubeBufferGeometry( leftHandCurve, 20, 3*pigScale, 8, false );\n\tleftArmGeo.attributes.position.needsUpdate = true\n\tleftArmMat = new THREE.MeshBasicMaterial( { color: 0xf0b6bb } );//\n\tleftArm = new THREE.Mesh( leftArmGeo, leftArmMat );\n\t//leftArm.castShadow=true\n\tscene.add( leftArm );\n\t\n}\n\n//====================================头顶线\nvar hanger,headLine,headLineGeo,headLineMat,line= new Float32Array();\nvar lines=[]\nfunction setHeadLine(){\n\t//hanger=new THREE.Vector3(0,100,0)\n\t\n\t//headLineGeo.verticesNeedUpdate=true\n\t//headLineGeo.vertices.push(hanger)\n\t//headLineGeo.vertices.push(objs.pig.position)//=[hanger,objs.pig.position]\n\t//line = new Float32Array();\n\t//line=[0,100,0,objs.pig.position.x,objs.pig.position.y,objs.pig.position.z]\n\t//makeLine( line, 0xff0000 );\n\t//lines.push()\n}\n\n\n//==========手脚连线渲染\n\nfunction updateArmLegs(){\n\n\t//pigBody.quaternion.vmult(pigBody.position.vsub(new CANNON.Vec3(0,100,0)))\n\tpigBody.quaternion.inverse()\t\n\n\t//=====左脚\n\tvar leftLegStart=pigBody.quaternion.vmult(new CANNON.Vec3(20*pigScale,-90*pigScale,30*pigScale)).vadd(pigBody.position)\n\tleftFootCurve = new THREE.CatmullRomCurve3( [\t\tvec3toVector3(leftLegStart),vec3toVector3(leftFootJointBody.position),vec3toVector3(leftFootBody.position)\t] );\n\tleftLegGeo.copy( new THREE.TubeBufferGeometry( leftFootCurve, 20, 15*pigScale, 8, false ))\n\n\t//=====右脚\n\tvar rightLegStart=pigBody.quaternion.vmult(new CANNON.Vec3(-20*pigScale,-90*pigScale,30*pigScale)).vadd(pigBody.position)\n\trightFootCurve = new THREE.CatmullRomCurve3( [\t\tvec3toVector3(rightLegStart),vec3toVector3(rightFootJointBody.position),vec3toVector3(rightFootBody.position)\t] );\n\trightLegGeo.copy( new THREE.TubeBufferGeometry( rightFootCurve, 20, 15*pigScale, 8, false ))\n\n\t//=====右手\n\tvar rightArmStart=pigBody.quaternion.vmult(new CANNON.Vec3(-30*pigScale,-30*pigScale,30*pigScale)).vadd(pigBody.position)\n\trightHandCurve = new THREE.CatmullRomCurve3( [\t\tvec3toVector3(rightArmStart),vec3toVector3(rightHandJointBody.position),vec3toVector3(rightHandBody.position)\t] );\n\trightArmGeo.copy( new THREE.TubeBufferGeometry( rightHandCurve, 20, 15*pigScale, 8, false ))\n\n\t//=====左手\n\tvar leftArmStart=pigBody.quaternion.vmult(new CANNON.Vec3(30*pigScale,-30*pigScale,30*pigScale)).vadd(pigBody.position)\n\tleftHandCurve = new THREE.CatmullRomCurve3( [\t\tvec3toVector3(leftArmStart),vec3toVector3(leftHandJointBody.position),vec3toVector3(leftHandBody.position)\t] );\n\tleftArmGeo.copy( new THREE.TubeBufferGeometry( leftHandCurve, 20, 15*pigScale, 8, false ))\n\n\t//=====头顶线\n\tvar pigTop=new THREE.Vector3(0,9,0.4)\n\tpigTop.applyQuaternion(objs.pig.quaternion)\n\tpigTop=pigTop.addVectors(pigTop,objs.pig.position)\n\tscene.remove(lines[0])\n\tlines=[]\n\tline=[0,100,0,pigTop.x,pigTop.y,pigTop.z]\n\tmakeLine( line, 0xfac750 );\n\n\t//=====眼镜跟随\n\teyeGroup.position.copy(objs.pig.position)\n\teyeGroup.quaternion.copy(objs.pig.quaternion)\n\n}\nvar lineMesh\nfunction makeLine( geo, c ) {\n\n\tvar g = new MeshLine();\n\tg.setGeometry( geo );\n\n\tvar material = new MeshLineMaterial( {\n\t\tuseMap: false,\n\t\tcolor: c,\n\t\topacity: 1,\n\t\tsizeAttenuation: !false,\n\t\tlineWidth: .005,\n\t\tnear: camera.near,\n\t\tfar: camera.far\n\t});\n\tlineMesh = new THREE.Mesh( g.geometry, material );\n\tscene.add( lineMesh );\n\tlines.push(lineMesh)\n\n}\n\n```\n\n```\n//============================初始化\n\nvar scene=new THREE.Scene();\n//var camera= new THREE.PerspectiveCamera(90,window.innerWidth/window.innerHeight,0.1,200);//OrthographicCamera\nvar camera= new THREE.OrthographicCamera(window.innerWidth/window.innerHeight*80/-2,window.innerWidth/window.innerHeight*80/2,40,-40,0.1,200);\n//视角，宽高比，近剪切面，远剪切面\nvar renderer = new THREE.WebGLRenderer({antialias:true,alpha:false,preserveDrawingBuffer:true})//抗锯齿\nvar modNum=0 // 总数\nvar modLoadedNum=0 // 已加载输\nvar objs = {} // 模型\nvar stats = null\nvar world = new CANNON.World()\n\nvar rootPoint,rootPointBody//总固定点\nvar pigShape,pigBody\n\nvar ifFirsTime=true\n\nfunction initAll () {\n\tif(ifFirsTime==true){\n\t\tifFirsTime=false\n\t\tconsole.log(\"啦啦啦啦啦1111\")\n\t\trenderer.setClearColor(0xfff5d0)//设置背景颜色\n\t\trenderer.setSize(window.innerWidth,window.innerHeight)//设置宽高\n\t\trenderer.shadowMap.type=THREE.BasicShadowMap//.BasicShadowMap.PCFShadowMap.PCFSoftShadowMap\n\t\trenderer.setPixelRatio(2)\n\t\trenderer.shadowMapEnabled=true\n\t\t//renderer.shadowMapSoft=true\n\t\t// document.body.appendChild()\n\t\tloadingMods('mod/pig4.glb',[\"pig\"],\"addScene\")//模型加载\n\t\tloadingMods('mod/foot.glb',[\"foot\"])//模型加载\n\t\tloadingMods('mod/gift1.glb',[\"gift1\"])\n\t\tloadingMods('mod/gift2.glb',[\"gift2\"])\n\t\tloadingMods('mod/gift3.glb',[\"gift3\"])\n\t\tloadingMods('mod/gift4.glb',[\"gift4\"])\n\t\t//render()\n\t\t//animate()//===动画\n\t\tclickFunc()\n\t\t//set_envMap()\n\n\t\treturn renderer.domElement\n\t}\n\n\t\n\n}\n//============================每帧渲染：更新物理+画面\n\nvar cannonDebugRenderer=new THREE.CannonDebugRenderer(scene,world)//===物理引擎辅助\nvar meshes=[],bodies=[]\nvar ifThreePlay=true\nfunction animate() {\n\t//stats.begin()\n\tif(ifThreePlay){\n\t\trequestAnimationFrame( animate );\n  \tupdatePhysics();\n  \trender();\n\t}\n  \n  //stats.end()\n}\n\nfunction updatePhysics(){\n  world.step(3/60);\n  for(var i=0; i !== meshes.length; i++){\n    meshes[i].position.copy(bodies[i].position);//========meshes[]里放THREE模型，bodies[]里放物理CANNON的 body模型\n    meshes[i].quaternion.copy(bodies[i].quaternion);\n  }\n  //cannonDebugRenderer.update()//======物理线框Gird\n}\n\nfunction render() {\n\tupdateArmLegs()\n  renderer.render(scene, camera);\n}\n\n\n\n//============================环境贴图\n\n// var environment\n// function set_envMap(){\n// \tenvironment = new THREE.CubeTextureLoader()\n// \t.setPath( 'img/' )\n// \t.load( [\n// \t\t'px.jpg',\n// \t\t'nx.jpg',\n// \t\t'py.jpg',\n// \t\t'ny.jpg',\n// \t\t'pz.jpg',\n// \t\t'nz.jpg'\n// \t] );\n// }\n\n\n\n//============================OrbitControls/datGUI 测试设置\n\nvar controls,guiControls,datGUI\nfunction setTest(){\n\t//====OrbitControls\n\tcontrols=new THREE.OrbitControls(camera,renderer.domElement)\t\n\tcontrols.enabled=false;\n\t// //====stats.js 性能测试\n\t// stats = new Stats()\n\t// stats.showPanel(1)// 0: fps, 1: ms, 2: mb, 3+: custom\n\t// // console.log(stats);\n\t// document.body.appendChild(stats.domElement)\n\t// stats.domElement.className = \"fps\"\n\n\t//====datGUI\n\tguiControls\t=\tnew function(){//存放有所有需要改变的属性的对象\n\t\tthis.X\t=\t0\n\t\tthis.Y\t=\t150\n\t\tthis.Z\t=\t0\n\t\tthis.ifTrue = true\n\t\tthis.func=function(){console.log(\"一个函数\")}\n\t\tthis.target\t=\trootPointBody\n\t}\n\n\t// datGUI=new dat.GUI()//创建dat.GUI，传递并设置属性\n\t// // datGUI.add(guiControls,\"rotationX\",0.1)//输入框\n\t// // datGUI.add(guiControls,\"rotationX\",0,Math.PI*2).step(Math.PI/180)//滑杆，步长\n\t// // datGUI.add(guiControls,\"rotationX\").min(0).max(19)//大小\n\t// // datGUI.add(guiControls,\"rotationX\",{aaa:0,bbb:90,ccc:180})//选项\n\t// // datGUI.add(guiControls,\"ifTrue\",true)\n\t// // datGUI.add(guiControls,\"func\")\n\t// //http://www.hangge.com/blog/cache/detail_1785.html 其他使用方法\n\n\t// datGUI.add(guiControls,\"X\",-100,100).step(1).onChange(function(value){\t\trootPointBody.position.x=value\t})\n\t// datGUI.add(guiControls,\"Y\",\t\t0,200).step(1).onChange(function(value){\t\trootPointBody.position.y=value\t})\n\t// datGUI.add(guiControls,\"Z\",-100,100).step(1).onChange(function(value){\t\trootPointBody.position.z=value\t})\n}\n\n\n\n//============================互动 点击\n\nvar raycaster=new THREE.Raycaster()\nvar mouse=new THREE.Vector2()\nvar intersects=[]\nvar mouseConstraint = void 0;\nfunction clickFunc(){\n\trenderer.domElement.addEventListener(\"touchstart\",onDocumentTouchStart,false)\n\trenderer.domElement.addEventListener(\"touchmove\",onDocumentTouchMove,{passive: false})\n\trenderer.domElement.addEventListener(\"touchend\",onDocumentTouchEnd,false)\n}\nvar lastX,lastY,lastDirX,lastDirY,entropy=0\nvar MIN_DISTANCE_PER_SHAKE=20\nvar ENTROPY_PER_SHAKE=1\nvar MAX_ENTROPY=[1,2,3,4,6,8,16,16]\nvar level=0\nfunction onDocumentTouchStart(_e){\n\t_e.preventDefault()\n\t\n\n\tmouse.x=(_e.touches[0].clientX/window.innerWidth)*2-1\n\tmouse.y=-(_e.touches[0].clientY/window.innerHeight)*2+1//donElement\n\n\traycaster.setFromCamera(mouse,camera)\n\tintersects = []\n\t//intersects = raycaster.intersectObjects( scene.children )\n\traycaster.intersectObjects( meshes ,false,intersects)\n\n\tif(intersects.length>0){\n\t\t//console.log(intersects[0])\n\t\t//console.log(intersects[0].object)\n\t\t// if(intersects[0].object==objs.pig){\n\t\t// \t// TweenMax.set(objs.pig.rotation,{x:Math.PI/180*Math.random()*360,y:Math.PI/180*Math.random()*360,z:Math.PI/180*Math.random()*360})\n\t\t// \t// TweenMax.set(objs.pig.position,{y:20})\n\t\t// \t// TweenMax.to(objs.pig.rotation,2,{x:Math.PI/2,y:0,z:0,ease:Elastic.easeOut})\n\t\t// \t// TweenMax.to(objs.pig.position,2,{x:0,y:20,z:0,ease:Bounce.easeOut})\n\n\n\t\t// }\n\t\t//world.removeConstraint(body_rootConstraint);\n\t\t//world.gravity.set(0,0,0)\n\n\t\tlastX=_e.touches[0].clientX\n\t\tlastY=_e.touches[0].clientY\n\n\n\t\tconsole.log(\"intersects[0].object.userData.body\",intersects[0].object.userData.body)\n\t\tvar body=intersects[0].object.userData.body\n\t\tif(!body) return;\n\t\tif(intersects[0].object.userData.isGift){\n\t\t\tbody.angularVelocity=new CANNON.Vec3(Math.random()*4-2,Math.random()*4-2,Math.random()*4-2)//随机旋转\n\t\t\tbody.velocity=new CANNON.Vec3(Math.random()*20-10,Math.random()*30,-Math.random()*45)//随机速度\n\n\t\t}else{\n\t\t\tcontrols.enabled=false;\n\t\t\tvar pos = body.position;\n\t\t\tpickingPlane.position.copy(pos)\n\t\t\tpickingPlane.quaternion.copy(camera.quaternion)\n\t\t\taddMouseConstraint(pos.x,pos.y,pos.z,body)\n\t\t\teyeBlink()\n\t\t\tSOUND.runRandomHit()\n\t\t\treturn;\n\t\t}\n\t\t\n\t}\n}\nfunction onDocumentTouchMove(_e){\n\t_e.preventDefault()\n\tmouse.x=(_e.touches[0].clientX/window.innerWidth)*2-1\n\tmouse.y=-(_e.touches[0].clientY/window.innerHeight)*2+1//donElement\n  if (mouseConstraint) {\n\n                var deltaX = _e.touches[0].clientX - lastX;\n                var deltaY = _e.touches[0].clientY - lastY;\n                var dirX = deltaX < 0 ? -1 : 1;\n                var dirY = deltaY < 0 ? -1 : 1;\n\n               \t\n                if (Math.abs(deltaX) >= MIN_DISTANCE_PER_SHAKE && dirX !== 0 && lastDirX !== dirX) {\n                    lastDirX = dirX;\n                    entropy += ENTROPY_PER_SHAKE;\n                    //console.log(entropy)\n                    \n                }\n                if (Math.abs(deltaY) >= MIN_DISTANCE_PER_SHAKE && dirY !== 0 && lastDirY !== dirY) {\n                    lastDirY = dirY;\n                    entropy += ENTROPY_PER_SHAKE;\n                }\n                lastX = _e.touches[0].clientX;\n                lastY = _e.touches[0].clientY;\n                // if (this.entropy > HIDE_HINT_ENTROPY) {\n                //     this.hideHint();\n                // }\n                if(level==8){\n                \taniDone()\n                }else if (entropy > MAX_ENTROPY[level]) {\n                    addGift();\n                    entropy = 0;\n                    level++\n                }\n                raycaster.setFromCamera(mouse, camera);\n                intersects.length = 0;\n                raycaster.intersectObject(pickingPlane, false, intersects);\n                //console.log(pickingPlane)\n\n                if (intersects.length) {\n                    var pos = intersects[0].point;\n\n                    //this.dust.emitter && (this.dust.emitter.position.value = pos);\n                    moveJointToPoint(pos.x, pos.y, pos.z);\n                }\n                return false;\n            }\n}\nfunction onDocumentTouchEnd(_e){\n\tcontrols.enabled = false;\n\tremoveJointConstraint();\n\t//world.addConstraint(body_rootConstraint);\n}\nfunction removeJointConstraint() {\n  world.removeConstraint(mouseConstraint);\n  mouseConstraint = false;\n  \n\n  leftFootBody.linearDamping=rightFootBody.linearDamping=leftFootJointBody.linearDamping=rightFootJointBody.linearDamping=footLinearDamping\n\tleftHandBody.linearDamping=rightHandBody.linearDamping=leftHandJointBody.linearDamping=rightHandJointBody.linearDamping=handLinearDamping\n\tleftFootBody.angularDamping=rightFootBody.angularDamping=leftFootJointBody.angularDamping=rightFootJointBody.angularDamping=footAngularDamping\n\tleftHandBody.angularDamping=rightHandBody.angularDamping=leftHandJointBody.angularDamping=rightHandJointBody.angularDamping=handAngularDamping\n}\nfunction moveJointToPoint(x, y, z) {\n  y = Math.max( - 20, y);\n  jointBody.position.set(x, y, z);\n  mouseConstraint && mouseConstraint.update();\n}\n\nfunction addMouseConstraint(x,y,z,body){\n\tvar constrainedBody = body;\n  var v1 = new CANNON.Vec3(x, y, z).vsub(constrainedBody.position);\n  var antiRot = constrainedBody.quaternion.inverse();\n  var pivot = antiRot.vmult(v1);\n  jointBody.position.set(x, y, z);\n  mouseConstraint = new CANNON.PointToPointConstraint(constrainedBody, pivot, jointBody, new CANNON.Vec3(0, 0, 0), 800);\n\n\n  //mouseConstraint = new CANNON.PointToPointConstraint(constrainedBody, new CANNON.Vec3(0, 0, 0), jointBody, new CANNON.Vec3(0, 0, 0), 800);\n  world.addConstraint(mouseConstraint);\n  \n\n\n\n\tleftFootBody.linearDamping=leftFootBody.angularDamping=0\n  rightFootBody.linearDamping=rightFootBody.angularDamping=0\n  leftHandBody.linearDamping=leftHandBody.angularDamping=0\n  rightHandBody.linearDamping=rightHandBody.angularDamping=0\n\n  leftFootJointBody.linearDamping=leftFootJointBody.angularDamping=0\n  rightFootJointBody.linearDamping=rightFootJointBody.angularDamping=0\n  leftHandJointBody.linearDamping=leftHandJointBody.angularDamping=0\n  rightHandJointBody.linearDamping=rightHandJointBody.angularDamping=0\n\n\t\n}\n\n\n\n//============================模型加载函数 loadingMods('mod/pig2.glb',\"pig\")\n\nfunction loadingMods(_url,_target,_ifAddScene){\n\tmodNum++\n\tvar loader = new THREE.GLTFLoader();\n\n\tloader.load(_url,\n\t\tfunction ( gltf ) {\t\t// called when the resource is loaded\n\t\t\tmodLoadedNum++\n\t\t\tconsole.log(gltf.scene)\n\n\t\t\t// objs[_target]=gltf.scene.children[0]\n\t\t\t// if(_ifAddScene){\n\t\t\t// \tscene.add(objs[_target])\n\t\t\t// }\n\n\t\t\tfor (var i = 0; i < gltf.scene.children.length; i++) {\n\t\t\t\tobjs[_target[i]]=gltf.scene.children[i]\n\t\t\t\tif(_ifAddScene){\n\t\t\t\t\tscene.add(objs[_target[i]])\n\t\t\t\t}\n\t\t\t\tconsole.log(_target[i])\n\t\t\t};\n\n\t\t\t\n\t\t\tloadingCheck()\n\t\t\t//pig.material=new THREE.MeshLambertMaterial({color:0xffff00})\n\t\t\t// gltf.animations; // Array<THREE.AnimationClip>\n\t\t\t// gltf.scene; // THREE.Scene\n\t\t\t// gltf.scenes; // Array<THREE.Scene>\n\t\t\t// gltf.cameras; // Array<THREE.Camera>\n\t\t\t// gltf.asset; // Object\n\t\t},\n\t\t// called while loading is progressing\n\t\tfunction ( xhr ) {\n\t\t\tconsole.log( ( xhr.loaded / xhr.total * 100 ) + '% loaded' );\n\t\t},\n\t\t// called when loading has errors\n\t\tfunction ( error ) {\n\t\t\tconsole.log( 'An error happened', error );\n\t\t}\n\t);\n}\nfunction loadingCheck(){\n\tloading.updateMax(modLoadedNum)\n\tif(modNum==modLoadedNum){\n\t\tconsole.log(\"模型加载完成\",modLoadedNum,\"/\",modNum)\n\t}else{\n\t\tconsole.log(\"模型加载中\",modLoadedNum,\"/\",modNum)\n\t}\n}\nvar ifFirsTime2=true\nfunction ModLoaded(){//加载模型完成\n\tif(ifFirsTime2==true){\n\t\tifFirsTime2=false\n\t\tgetStart()\n\t}\n\t\n}\n\n\n\n//===========================开始\nvar eyeGroup=new THREE.Group()\nvar eye1,eye2,eye3,eye4\nfunction getStart(){\n\t// //====网格\n\t// var grid=new THREE.GridHelper(50,10,0xffff00,0x888888)//网格辅助(格子尺寸，格子细分数，中线颜色，网格线颜色)\n\t// scene.add(grid)\n\n\t// //====坐标轴\n\t// var axes = new THREE.AxesHelper(10);//轴辅助\n\t// scene.add(axes)\n\n\tscene.fog = new THREE.Fog(0xfff5d0, 80, 180);\n\n\t//====立方体\n\tvar cubeGeo=new THREE.BoxGeometry(1,1,1)\n\tvar cubeMaterial=new THREE.MeshBasicMaterial({color:0xffff00})\n\trootPoint=new THREE.Mesh(cubeGeo,cubeMaterial)\n\t//scene.add(rootPoint)\n\n\t// ====环境光\n\tvar ambientLight=new THREE.AmbientLight(0xffffff,.7)\n\tscene.add(ambientLight)\n\n\t//====平行光\n\tvar dLight=new THREE.DirectionalLight(0xffffff,.3)\n\tdLight.position.set(0,30,0)\n\t//dLight.target=scene\n\tdLight.castShadow=true\n\tdLight.shadow.mapSize.width = 2048;  // default\n\tdLight.shadow.mapSize.height = 2048; // default\n\tdLight.shadow.camera.near = 0.5;    // default\n\tdLight.shadow.camera.far = 1000;     // default\n\tdLight.shadow.camera.left = -100;    // default\n\tdLight.shadow.camera.right = 100; \n\tdLight.shadow.camera.bottom = -100;    // default\n\tdLight.shadow.camera.top = 100; \n\n\t// TweenMax.to(dLight.position,2,{x:100,repeat:100000,yoyo:true,ease:Sine.easeInOut,delay:1})//光源旋转\n\t// TweenMax.to(dLight.position,2,{z:100,repeat:100000,yoyo:true,ease:Sine.easeInOut})\n\tscene.add(dLight)\n\n\n\t//====平面\n\tvar planeGeo=new THREE.PlaneGeometry(600,600,60)\n\tvar planeMaterial=new THREE.MeshLambertMaterial({color:0xfff5d0})\n\tvar plane=new THREE.Mesh(planeGeo,planeMaterial)\n\tplane.rotation.x=-Math.PI/2\n\tplane.position.y=-20\n\tplane.receiveShadow=true\n\tscene.add(plane)\n\n\t//====摄像机\n\tcamera.position.set(0,10,60)\n\t//camera.lookAt(scene.position)\n\tcamera.lookAt(new THREE.Vector3(0,5,0))\n\t//====猪位置\n\t\n\t\n\tobjs.pig.position.y=10\n\tobjs.pig.scale.set(.1,.1,.1)\n\tobjs.pig.castShadow=true\n\n\t//====猪眼\n\tscene.add(eyeGroup)\n\tvar eyeGeo=new THREE.SphereGeometry(1.2,12,12)\n\tvar eyeGeo2=new THREE.SphereGeometry(.5,12,12)\n\teye1=new THREE.Mesh(eyeGeo,new THREE.MeshBasicMaterial({color:0xffffff}))\n\teye2=new THREE.Mesh(eyeGeo,new THREE.MeshBasicMaterial({color:0xffffff}))\n\n\teye3=new THREE.Mesh(eyeGeo2,new THREE.MeshBasicMaterial({color:0x000000}))\n\teye4=new THREE.Mesh(eyeGeo2,new THREE.MeshBasicMaterial({color:0x000000}))\n\n\teyeGroup.add(eye1,eye2,eye3,eye4)\n\teye1.scale.y=.7\n\teye2.scale.y=.7\n\teye1.position.set(-3,1.6,6)\n\teye2.position.set(3,1.6,6)\n\n\teye3.scale.y=.7\n\teye4.scale.y=.7\n\teye3.scale.z=.3\n\teye4.scale.z=.3\n\teye3.position.set(-3,1.8,7.1)\n\teye4.position.set(3,1.8,7.1)\n\t\n\n\tvar pigmap=objs.pig.material.map\n\t//console.log(pig.material.map)\n\t//var pigMat=new THREE.MeshToonMaterial({map:pigmap,envMap:environment,reflectivity:0.2})\n\t//var pigMat=new THREE.MeshToonMaterial({map:pigmap,envMap:environment,reflectivity:0,shininess:10,specular:0xff3388})//normalMap:pigmap,normalMapType:THREE.ObjectSpaceNormalMap\n\tvar pigMat=new THREE.MeshBasicMaterial({map:pigmap,reflectivity:0})\n\t//var pigMat=new THREE.MeshStandardMaterial({map:pigmap,emissive:0xffffff,envMap:environment,emissiveIntensity:0.5,roughness:0.4,metalness:.5})\n\tobjs.pig.material=pigMat\n\t//TweenMax.set(pig.scale,{x:.105,y:.105,z:.095})\n\t//TweenMax.to(pig.scale,1.25,{x:.12,y:.12,z:.08,repeat:1000000,yoyo:true,ease:Sine.easeInOut})\n\n\taddPickingPlane()\n\n\tsetPhy()\n\tsetLeftFoot()\n\tsetRightFoot()\n\tsetRightHand()\n\tsetLeftHand()\n\tsetHeadLine()\n\tsetGifts()\n\tanimate()\n\n}\n//======猪眨眼\nfunction eyeBlink(){\n\tconsole.log(\"眨眼\")\n\t// eye1.material.color.set(0x000000)\n\t// eye2.material.color.set(0x000000)\n\t// setTimeout(function(){\n\t// \teye1.material.color.set(0xffffff)\n\t// \teye2.material.color.set(0xffffff)\n\t// },80)\n\tTweenMax.set(eye1.scale,{y:0})\n\tTweenMax.set(eye2.scale,{y:0})\n\tTweenMax.to(eye1.scale,.2,{y:.7})\n\tTweenMax.to(eye2.scale,.2,{y:.7})\n}\n\n\nvar pickingPlane\nfunction addPickingPlane(){\n\tvar planeGeo = new THREE.PlaneGeometry(4000, 2000);\n\tpickingPlane = new THREE.Mesh(planeGeo, new THREE.MeshBasicMaterial({\n    color: 0xff0000,\n    transparent: true,\n    opacity: 0\n  }));\n  scene.add(pickingPlane);\n}\n\n\n\n//============================物理引擎\nvar spring,isRunningSpring=1,jointBody,groundShape,groundBody,leftFootJoint,leftFootShap,leftFootCurve,rightFootJoint,rightFootShap,rightFootCurve,rightHandJoint,rightHandShap,rightHandCurve,leftHandJoint,leftHandShap,leftHandCurve\nfunction setPhy(){\n\t\n\t//====设置世界\n\tworld.gravity.set(0, -10, 0)\n\tworld.broadphase = new CANNON.NaiveBroadphase()//NaiveBroadphase\n\t\n\t//====定义鼠标跟随点\n\tvar shape = new CANNON.Sphere(0.1);\n  jointBody = new CANNON.Body({\n                mass: 0\n            });\n  jointBody.addShape(shape);\n  jointBody.collisionFilterGroup = 0;\n  jointBody.collisionFilterMask = 0;\n  world.add(jointBody)\n\n\t//====总固定点\n\trootPointBody=new CANNON.Body({\n\t\tmass:0,\n\t\tposition:new CANNON.Vec3(0,20,0)\n\t})\n\tworld.add(rootPointBody)\n\tmeshes.push(rootPoint)\n\tbodies.push(rootPointBody)\n\n\t//====猪\n\tvar pigShape=new CANNON.Sphere(8)\n\tpigBody=new CANNON.Body({\n\t\tmass:5,\n\t\tposition:new CANNON.Vec3(0,20,0),\n\t\tshape:pigShape\n\t})\n\t//setMeshPhy(objs.pig,pigBody,0.1)//=====加物理外形\n\tworld.add(pigBody)\n\tmeshes.push(objs.pig)\n\tbodies.push(pigBody)\n\tobjs.pig.userData.body=pigBody\n\t//console.log(\"======\",pigGroup.userData.body)\n\n\t//=====链接猪和起始点(pigBody+rootPointBody)\n\n\t\n\t// body_rootConstraint = new CANNON.PointToPointConstraint(pigBody, new CANNON.Vec3(0,130,0), rootPointBody, new CANNON.Vec3(0,0,0),100000);\n\t// world.addConstraint(body_rootConstraint);\n\n\t//console.log(pigBody,rootPointBody)\n\t\n\tspring = new CANNON.Spring(pigBody,rootPointBody,{\n\t\tlocalAnchorA: new CANNON.Vec3(0, 2, 0),\n    localAnchorB: new CANNON.Vec3(0, 0, 0),\n    restLength: 1,\n    stiffness: 110,\n    damping: 0.1\n\t})\n\n\tspring.applyForce();\n\n\tworld.addEventListener(\"postStep\",\n            function(event) {\n                if (isRunningSpring) {\n                    spring.applyForce();\n                }\n            });\n\t\n\n\n\n\tgroundShape=new CANNON.Plane()//====地面\n\tgroundBody=new CANNON.Body({\n\t\tmass:0,\n\t\tshape:groundShape\n\t})\n\tgroundBody.quaternion.setFromAxisAngle(new CANNON.Vec3(1,0,0),-Math.PI/2)\n\tgroundBody.position.set(0,-20,0)\n\tworld.add(groundBody)\n\t\n}\n\n```\n\n```var _CDN = \"./\";\n// var _CDN = \"//image.giccoo.com/projects/YearOfThePig/\";\nvar imageList = [\n\t_CDN+\"img/endbg.png\",\n\t_CDN+\"img/endpig.png\",\n\t_CDN+\"img/endeyebow.png\",\n\t_CDN+\"img/endtitle.png\",\n\t_CDN+\"img/scorll_l.png\",\n\t_CDN+\"img/scorll.png\",\n\t_CDN+\"img/scorllt1.png\",\n\t_CDN+\"img/scorllt2.png\",\n\t_CDN+\"img/scorllt3.png\",\n\t_CDN+\"img/scorllt4.png\",\n\t_CDN+\"img/scorllt5.png\",\n\t_CDN+\"img/scorllt6.png\",\n\t_CDN+\"img/scorllt7.png\",\n\t_CDN+\"img/scorllt8.png\",\n\n\t_CDN+\"img/ink1.png\",\n\t_CDN+\"img/ink2.png\",\n\t_CDN+\"img/qr.png\",\n\n]\nvar pStage,stageH\nvar buildUGC = function () {\n\tconsole.log(\"app\",this,this.opts.w,this.opts.h)\n\t//this.stage.addChild(new Spr(_CDN+\"img/endbg.png\"))\n\tpStage=this.stage\n\tstageH=this.opts.h\n\t//pixiStart()\n}\nfunction pixiStart(){\n\t\n\tsetBG()\n\tsetPig()\n\tsetScorll()\n\tsetQR()\n\n\tsetTimeout(openScorll,2000)\n\tsetTimeout(showTitle,10)\n\tTweenMax.from(pigC,1.6,{y:stageH/5,ease:Bounce.easeOut,delay:1.5})\n\tTweenMax.from(pigC,.5,{alpha:0,delay:1.5})\n\t\n}\n\nvar bgC=new PIXI.Container()\nvar bgTC=new PIXI.Container()\nvar inkC=new PIXI.Container()\nvar bgTMask\n\nvar ink1,ink2,ink3,ink4,ink5,ink6,endbg\nfunction setBG(){\n\tpStage.addChild(bgC)\n\tendbg=new Spr(_CDN+\"img/endbg.png\")\n\tbgC.addChild(endbg,bgTC)\n\tbgTMask=new Spr(_CDN+\"img/endtitle.png\")\n\tTweenMax.from(endbg,2,{alpha:0})\n\n\n\tbgTC.addChild(inkC,bgTMask)\n\tbgTC.pivot.set(375,166)\n\tbgTC.position.set(375,stageH/2-343)\n\n\tink1=new Spr(_CDN+\"img/ink1.png\")\n\tink2=new Spr(_CDN+\"img/ink2.png\")\n\tink3=new Spr(_CDN+\"img/ink1.png\")\n\tink4=new Spr(_CDN+\"img/ink2.png\")\n\tink5=new Spr(_CDN+\"img/ink1.png\")\n\tink6=new Spr(_CDN+\"img/ink2.png\")\n\n\tinkC.addChild(ink1,ink2,ink3,ink4,ink5,ink6)\n\n\tink1.pivot.x=ink3.pivot.x=ink5.pivot.x=649/2\n\tink1.pivot.y=ink3.pivot.y=ink5.pivot.y=753/2\n\n\tink2.pivot.x=ink4.pivot.x=ink6.pivot.x=400/2\n\tink2.pivot.y=ink4.pivot.y=ink6.pivot.y=411/2\n\n\tink1.scale.x=ink1.scale.y=ink2.scale.x=ink2.scale.y=ink3.scale.x=ink3.scale.y=ink4.scale.x=ink4.scale.y=ink5.scale.x=ink5.scale.y=ink6.scale.x=ink6.scale.y=0\n\n\tink1.position.set(260-300,161-300)\n\tink2.position.set(260,191-300)\n\n\tink3.position.set(388,200+300)\n\tink4.position.set(408,210+300)\n\n\tink5.position.set(536+300,88-300)\n\tink6.position.set(536,120-300)\n\n\t//ink1.blendMode=ink2.blendMode=ink3.blendMode=ink4.blendMode=ink5.blendMode=ink6.blendMode=PIXI.BLEND_MODES.MULTIPLY\n\n\tinkC.mask=bgTMask\n\t//inkC.blendMode=PIXI.BLEND_MODES.MULTIPLY\n\t//showTitle()\n}\n\nfunction showTitle(){\n\tvar inkA=[ink4,ink3,ink2,ink1,ink6,ink5]\n\tfor (var i = 0; i < 6; i++) {\n\t\tTweenMax.from(inkA[i],1.5,{alpha:0,delay:i*.05})\n\t\tTweenMax.to(inkA[i].scale,2,{x:1.9,y:1.9,delay:i*.05})\n\t};\n}\n\n//======猪\nvar pigC=new PIXI.Container()\nvar endPig,endEyebow\nfunction setPig(){\n\tpStage.addChild(pigC)\n\tpigC.position.set(375,stageH/2+45)\n\n\tendPig=new Spr(_CDN+\"img/endpig.png\")\n\tendEyebow=new Spr(_CDN+\"img/endeyebow.png\")\n\n\tendPig.pivot.set(375,270.5)\n\tendEyebow.pivot.set(375,270.5)\n\n\tpigC.addChild(endPig,endEyebow)\n}\nfunction moveEndPig(){\n\tTweenMax.set(endPig, {rotation:-Math.PI/180*12,x:-50})\n\tTweenMax.to(endPig,1,{rotation:Math.PI/180*12,x:50,repeat:100000,yoyo:true,ease:Sine.easeInOut})\n\n\tTweenMax.set(endPig, {y:-20})\n\tTweenMax.to(endPig,0.5,{y:10,repeat:100000,yoyo:true,ease:Sine.easeInOut})\n\n\tTweenMax.set(endEyebow, {rotation:-Math.PI/180*12,x:-50})\n\tTweenMax.to(endEyebow,1,{rotation:Math.PI/180*12,x:50,repeat:100000,yoyo:true,ease:Sine.easeInOut,delay:.02})\n\n\tTweenMax.set(endEyebow, {y:-25})\n\tTweenMax.to(endEyebow,0.5,{y:15,repeat:100000,yoyo:true,ease:Sine.easeInOut,delay:.02})\n\n\tTweenMax.set(scorllC, {rotation:-Math.PI/180*2,x:-20})\n\tTweenMax.to(scorllC,1,{rotation:Math.PI/180*2,x:20,repeat:100000,yoyo:true,ease:Sine.easeInOut,delay:.1})\n\n\tTweenMax.set(scorllC, {y:16})\n\tTweenMax.to(scorllC,0.5,{y:56,repeat:100000,yoyo:true,ease:Sine.easeInOut,delay:.1})\n}\n\n\n//======卷轴\nvar scorllC=new PIXI.Container()\nvar scorllL,scorllR,scorllBG,scorllT,scorllMain,scorllMask\nfunction setScorll(){\n\tpigC.addChild(scorllC)\n\tscorllC.position.set(0,55)\n\n\tscorllMain=new PIXI.Container()\n\tscorllBG=new Spr(_CDN+\"img/scorll.png\")\n\tscorllT=new Spr(_CDN+\"img/scorllt\"+parseInt(Math.random()*8+1)+\".png\")\n\tscorllMain.addChild(scorllBG,scorllT)\n\tscorllMain.pivot.set(235,89)\n\n\tscorllMask=new PIXI.Graphics()\n\tscorllMask.beginFill(0xffffff)\n\tscorllMask.drawRect(0,0,470,178)\n\tscorllMask.pivot.set(235,89)\n\n\tscorllL=new Spr(_CDN+\"img/scorll_l.png\")\n\tscorllR=new Spr(_CDN+\"img/scorll_l.png\")\n\tscorllL.pivot.set(70,122)\n\tscorllR.pivot.set(70,122)\n\tscorllR.scale.x=-1\n\n\tscorllC.addChild(scorllMain,scorllMask,scorllL,scorllR)\n\n\tscorllMain.mask=scorllMask\n\tscorllMask.scale.x=0\n\n\tmoveEndPig()\n\t//openScorll()\n}\n\nfunction openScorll(){\n\tTweenMax.to(scorllMask.scale,1.2,{x:1,ease:Back.easeOut})\n\tTweenMax.to(scorllL,1.2,{x:-215,ease:Back.easeOut})\n\tTweenMax.to(scorllR,1.2,{x:215,ease:Back.easeOut})\n\tmain.gameEndBtns = true\n}\n\n\n//=====完成\nvar QR\nfunction setQR(){\n\tQR=new Spr(_CDN+\"img/qr.png\") \n\tpStage.addChild(QR)\n\tQR.y=stageH-199\n\tQR.visible=false\n}\nfunction showQR(){\n\tQR.visible=true\n}\n\nfunction shareDone(){\n\tQR.visible=false\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n```"
  ]
}