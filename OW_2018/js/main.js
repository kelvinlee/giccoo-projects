"use strict";var ANIMATION_END_NAME,ANIMATION_END_NAMES,TRANSITION_END_NAME,TRANSITION_END_NAMES,VENDORS,css3Prefix,i,init,j,len1,loadWechatConfig,mTestElement,main;for(VENDORS=["Moz","webkit","ms","O"],TRANSITION_END_NAMES={Moz:"transitionend",webkit:"webkitTransitionEnd",ms:"MSTransitionEnd",O:"oTransitionEnd"},ANIMATION_END_NAMES={Moz:"animationend",webkit:"webkitAnimationEnd",ms:"MSAnimationEnd",O:"oAnimationEnd"},mTestElement=document.createElement("div"),j=0,len1=VENDORS.length;j<len1&&(i=VENDORS[j],!((css3Prefix=i)+"Transition"in mTestElement.style));j++)css3Prefix=!1;css3Prefix&&(TRANSITION_END_NAME=TRANSITION_END_NAMES[css3Prefix],ANIMATION_END_NAME=ANIMATION_END_NAMES[css3Prefix]),loadWechatConfig=function t(){var e,i,s;s=encodeURIComponent(window.location.href.split("#")[0]),e=document.createElement("script"),e.src="//api.giccoo.com/api/config?url="+s,i=document.getElementsByTagName("script")[0],i.parentNode.insertBefore(e,i)},Vue.component("slider",{template:'<div @mousedown="start" @mousemove="move" @mouseup="end" @touchstart="start" @touchmove.passive="move" @touchend="end"> <div class="slider-content"> <slot name="outside" :slideNumber="slideNumber"></slot> <div :id="\'slider-\'+id" class="slider" :style="{transitionDuration: duration+\'s\',transform:\'translate3d(\'+x+\'px,0,0)\'}"> <slot v-if="repeat" :slideNumber="slideNumber"></slot> <slot v-if="repeat" :slideNumber="slideNumber"></slot> <slot :slideNumber="slideNumber"></slot> </div> </div> <slot name="points" :slideNumber="slideNumber"></slot> </div>',data:function t(){return{id:Math.ceil(1e5*Math.random()+99999),duration:0,x:0,y:0,moved:!1,startTime:0,offset:{resistance:1,lastSlide:1,scrollableArea:320,isScrolling:!1,lastw:0,w:320,x:0,y:0,deltaX:0,deltaY:0},slider:{},count:0,slideNumber:0,cache:null}},props:{repeat:{default:!1},auto:{default:!1},runtime:{default:3e3},arrow:{default:!1},arrowtop:{default:!1}},methods:{setSlideNumber:function t(e){var i,s,o;if(this.moved&&(i=this.count,this.repeat&&(i=3*this.count),s=e?this.offset.deltaX<0?"ceil":"floor":"round",o=Math[s](this.x/(this.offset.scrollableArea/i)),o+=e,o=Math.min(o,0),this.slideNumber=Math.max(-(i-1),o)%this.count,0!==e))return this.$emit("number",this.slideNumber)},start:function t(e){var i;return clearTimeout(this.cache),i="mousedown"===e.type?e:e.touches[0],this.startTime=+new Date,this.duration=0,this.moved=!0,this.offset.w=this.slider.clientWidth,this.offset.x=i.pageX,this.offset.y=i.pageY,this.repeat&&0===this.x&&(this.x=-this.count*this.offset.w),this.offset.lastw=this.x,this.offset.lastSlide=-(this.count-1),this.offset.scrollableArea=this.offset.w*this.count,this.repeat&&(this.offset.scrollableArea=this.offset.w*this.count*3),this.setSlideNumber(0)},move:function t(e){var i,s;return!!this.moved&&("mousemove"===e.type?(s=e,e.preventDefault()):s=e.touches[0],this.offset.deltaX=s.pageX-this.offset.x,i=s.pageX,this.repeat?this.x=this.offset.deltaX+this.offset.lastw:(this.x=this.offset.deltaX/this.offset.resistance+this.offset.lastw,this.offset.resistance=0===this.slideNumber&&this.offset.deltaX>0?i/this.offset.w+1.25:this.slideNumber===this.offset.lastSlide&&this.offset.deltaX<0?(this.offset.w-Math.abs(i))/this.offset.w+1.25:1),this.moved=!0)},end:function t(e){var i;if(this.moved&&(i=this.slideNumber,this.setSlideNumber(+new Date-this.startTime<1e3&&Math.abs(this.offset.deltaX)>15?this.offset.deltaX<0?-1:1:0),this.x=this.slideNumber*this.offset.w,this.duration=.2,this.moved=!1,0===this.slideNumber&&i===-(this.count-1)&&(this.x=(i-1)*this.offset.w),0===i&&this.slideNumber===-(this.count-1)&&(this.x=1*this.offset.w),this.repeat&&(this.x-=this.count*this.offset.w),this.auto))return this.autoRun()},autoRun:function t(){var e=this;return this.cache=setTimeout(function(){return e.offset.w=e.slider.clientWidth,0===e.x&&(e.x=-e.count*e.offset.w),e.offset.lastw=e.x,e.slideNumber--,Math.abs(e.slideNumber)>=e.count&&(e.slideNumber=0),e.x-=e.offset.w,e.duration=.2,e.$emit("number",e.slideNumber%e.count),e.autoRun()},this.runtime)},transition:function t(){if(this.x<-(2*this.count-1)*this.offset.w&&(this.x=-this.count*this.offset.w,this.duration=0,this.slideNumber=0),this.x>-this.count*this.offset.w)return this.x=-(2*this.count-1)*this.offset.w,this.duration=0,this.slideNumber=-(this.count-1)}},mounted:function t(){var e=this;if(this.slider=document.getElementById("slider-"+this.id),this.count=this.slider.childElementCount,this.repeat&&(this.count=this.count/3,this.slider.addEventListener(TRANSITION_END_NAME,this.transition.bind(this)),setTimeout(function(){return e.offset.w=e.slider.clientWidth,e.offset.scrollableArea=e.count*e.offset.w,e.duration=0,e.x=-e.count*e.offset.w,console.log},1e3)),this.auto)return this.autoRun()}}),main={},window.onload=function(){return loadWechatConfig(),wx.ready(function(){var t;return t={title:"《守望先锋》2018周年庆，守望英雄到来",desc:"这个世界需要更多的英雄，你和我都是平凡的英雄",link:"http://m.giccoo.com/OW_2018/",imgUrl:"http://m.giccoo.com/OW_2018/img/ico.jpg",success:function t(){},cancel:function t(){}},wx.onMenuShareTimeline(t),wx.onMenuShareAppMessage(t),wx.onMenuShareQQ(t),wx.onMenuShareWeibo(t)}),init()},init=function t(){return main=new Vue({el:"#main",data:{playing:!1,index:0,musiclink:""},methods:{end:function t(e){return this.playing=!1},play:function t(e){return this.playing=!0},playMusic:function t(e){var i=this;return this.index===e&&this.playing?this.audio.pause():(this.musiclink="./mp3/"+e+".mp3",this.index=e,setTimeout(function(){return i.audio.play()},100))}},mounted:function t(){return this.audio=document.getElementById("bgm")}})};