"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$_GET,ANIMATION_END_NAME,ANIMATION_END_NAMES,TRANSITION_END_NAME,TRANSITION_END_NAMES,VENDORS,_CDN,_imgurl,changeImage,css3Prefix,getRandom,global,i,imageLink,imageurl,info_link,init,l,len,load,loadEnd,loadWechatConfig,mTestElement,main,name_list,neteaseShare,post_url,pre,review,runAnimate,_runLongTexts,stopWebViewScroll,sys,topic_list,updateShare,waitTime;for(VENDORS=["Moz","webkit","ms","O"],TRANSITION_END_NAMES={Moz:"transitionend",webkit:"webkitTransitionEnd",ms:"MSTransitionEnd",O:"oTransitionEnd"},ANIMATION_END_NAMES={Moz:"animationend",webkit:"webkitAnimationEnd",ms:"MSAnimationEnd",O:"oAnimationEnd"},mTestElement=document.createElement("div"),l=0,len=VENDORS.length;l<len&&(i=VENDORS[l],!((css3Prefix=i)+"Transition"in mTestElement.style));l++)css3Prefix=!1;css3Prefix&&(TRANSITION_END_NAME=TRANSITION_END_NAMES[css3Prefix],ANIMATION_END_NAME=ANIMATION_END_NAMES[css3Prefix]),/* Riot v2.3.15, @license MIT, (c) 2015 Muut Inc. + contributors */
function(e,t){function n(e,t,n){var i={};return i[e.key]=t,e.pos&&(i[e.pos]=n),i}function i(e,t){for(var n=t.length,i=e.length,r;n>i;)r=t[--n],t.splice(n,1),r.unmount()}function r(e,t){Object.keys(e.tags).forEach(function(n){var i=e.tags[n];O(i)?g(i,function(e){b(e,n,t)}):b(i,n,t)})}function o(e,t,n){var i=e._root,r;for(e._virts=[];i;)r=i.nextSibling,n?t.insertBefore(i,n._root):t.appendChild(i),e._virts.push(i),i=r}function a(e,t,n,i){for(var r=e._root,o,a=0;a<i;a++)o=r.nextSibling,t.insertBefore(r,n._root),r=o}function s(e,t,s){$(e,"each");var u=_typeof(v(e,"no-reorder"))!==G||$(e,"no-reorder"),c=I(e),f=K[c]||{tmpl:e.outerHTML},d=J.test(c),m=e.parentNode,g=document.createTextNode(""),p=w(e),h=/^option$/i.test(c),y=[],x=[],b,_="VIRTUAL"==e.tagName;s=ie.loopKeys(s),m.insertBefore(g,e),t.one("before-mount",function(){e.parentNode.removeChild(e),m.stub&&(m=t.root)}).on("update",function(){var v=ie(s.val,t),w=document.createDocumentFragment();O(v)||(b=v||!1,v=b?Object.keys(v).map(function(e){return n(s,e,v[e])}):[]),v.forEach(function(i,g){var h=u&&i instanceof Object,v=x.indexOf(i),N=~v&&h?v:g,I=y[N];i=!b&&s.key?n(s,i,g):i,!h&&!I||h&&!~v||!I?(I=new l(f,{parent:t,isLoop:!0,hasImpl:!!K[c],root:d?m:e.cloneNode(),item:i},e.innerHTML),I.mount(),_&&(I._root=I.root.firstChild),g==y.length?_?o(I,w):w.appendChild(I.root):(_?o(I,m,y[g]):m.insertBefore(I.root,y[g].root),x.splice(g,0,i)),y.splice(g,0,I),N=g):I.update(i),N!==g&&h&&(_?a(I,m,y[g],e.childNodes.length):m.insertBefore(I.root,y[g].root),s.pos&&(I[s.pos]=g),y.splice(g,0,y.splice(N,1)[0]),x.splice(g,0,x.splice(N,1)[0]),!p&&I.tags&&r(I,g)),I._item=i,E(I,"_parent",t)}),i(v,y),h?m.appendChild(w):m.insertBefore(w,g),p&&(t.tags[c]=y),x=v.slice()})}function u(e,t,n,i){M(e,function(e){if(1==e.nodeType){if(e.isLoop=e.isLoop||e.parentNode&&e.parentNode.isLoop||v(e,"each")?1:0,n){var r=w(e);r&&!e.isLoop&&n.push(_(r,{root:e,parent:t},e.innerHTML,t))}e.isLoop&&!i||z(e,t,[])}})}function c(e,t,n){function i(e,t,i){ie.hasExpr(t)&&n.push(T({dom:e,expr:t},i))}M(e,function(e){var n=e.nodeType,r;if(3==n&&"STYLE"!=e.parentNode.tagName&&i(e,e.nodeValue),1==n)return(r=v(e,"each"))?(s(e,t,r),!1):(g(e.attributes,function(t){var n=t.name,r=n.split("__")[1];if(i(e,t.value,{attr:r||n,bool:r}),r)return $(e,n),!1}),!w(e)&&void 0)})}function l(e,n,i){function r(){var e=w&&v?l:d||l;g(I.attributes,function(t){var n=t.value;f[h(t.name)]=ie.hasExpr(n)?ie(n,e):n}),g(Object.keys(D),function(t){f[h(t)]=ie(D[t],e)})}function o(e){for(var t in x)_typeof(l[t])!==Y&&A(l,t)&&(l[t]=e[t])}function a(){l.parent&&v&&g(Object.keys(l.parent),function(e){var t=!S(ee,e)&&S(j,e);(_typeof(l[e])===Y||t)&&(t||j.push(e),l[e]=l.parent[e])})}function s(e){if(g(_,function(t){t[e?"mount":"unmount"]()}),d){var t=e?"on":"off";v?d[t]("unmount",l.unmount):d[t]("update",l.update)[t]("unmount",l.unmount)}}var l=F.observable(this),f=B(n.opts)||{},d=n.parent,v=n.isLoop,w=n.hasImpl,x=L(n.item),b=[],_=[],I=n.root,M=e.fn,k=I.tagName.toLowerCase(),D={},j=[],U;M&&I._tag&&I._tag.unmount(!0),this.isMounted=!1,I.isLoop=v,I._tag=this,E(this,"_riot_id",++V),T(this,{parent:d,root:I,opts:f,tags:{}},x),g(I.attributes,function(e){var t=e.value;ie.hasExpr(t)&&(D[e.name]=t)}),U=re(e.tmpl,i),E(this,"update",function(e){return e=L(e),a(),e&&(void 0===x?"undefined":_typeof(x))===Q&&(o(e),x=e),T(l,e),r(),l.trigger("update",e),m(b,l),ae(function(){l.trigger("updated")}),this}),E(this,"mixin",function(){return g(arguments,function(e){var t;e=(void 0===e?"undefined":_typeof(e))===G?F.mixin(e):e,p(e)?(t=new e,e=e.prototype):t=e,g(Object.getOwnPropertyNames(e),function(e){"init"!=e&&(l[e]=p(t[e])?t[e].bind(l):t[e])}),t.init&&t.init.bind(l)()}),this}),E(this,"mount",function(){if(r(),M&&M.call(l,f),c(U,l,b),s(!0),(e.attrs||w)&&(C(e.attrs,function(e,t){y(I,e,t)}),c(l.root,l,b)),l.parent&&!v||l.update(x),l.trigger("before-mount"),v&&!w)l.root=I=U.firstChild;else{for(;U.firstChild;)I.appendChild(U.firstChild);I.stub&&(l.root=I=d.root)}v&&u(l.root,l.parent,null,!0),!l.parent||l.parent.isMounted?(l.isMounted=!0,l.trigger("mount")):l.parent.one("mount",function(){R(l.root)||(l.parent.isMounted=l.isMounted=!0,l.trigger("mount"))})}),E(this,"unmount",function(e){var n=I,i=n.parentNode,r,o=q.indexOf(l);if(l.trigger("before-unmount"),~o&&q.splice(o,1),this._virts&&g(this._virts,function(e){e.parentNode&&e.parentNode.removeChild(e)}),i){if(d)r=N(d),O(r.tags[k])?g(r.tags[k],function(e,t){e._riot_id==l._riot_id&&r.tags[k].splice(t,1)}):r.tags[k]=t;else for(;n.firstChild;)n.removeChild(n.firstChild);e?$(i,"riot-tag"):i.removeChild(n)}l.trigger("unmount"),s(),l.off("*"),l.isMounted=!1,delete I._tag}),u(U,this,_)}function f(t,n,i,r){i[t]=function(t){var o=r._parent,a=r._item,s;if(!a)for(;o&&!a;)a=o._item,o=o._parent;t=t||e.event,A(t,"currentTarget")&&(t.currentTarget=i),A(t,"target")&&(t.target=t.srcElement),A(t,"which")&&(t.which=t.charCode||t.keyCode),t.item=a,!0===n.call(r,t)||/radio|check/.test(i.type)||(t.preventDefault&&t.preventDefault(),t.returnValue=!1),t.preventUpdate||(s=a?N(o):r,s.update())}}function d(e,t,n){e&&(e.insertBefore(n,t),e.removeChild(t))}function m(e,t){g(e,function(e,n){var i=e.dom,r=e.attr,o=ie(e.expr,t),a=e.dom.parentNode;if(e.bool?o=!!o&&r:null==o&&(o=""),a&&"TEXTAREA"==a.tagName&&(o=(""+o).replace(/riot-/g,""),a.value=o),e.value!==o){if(e.value=o,!r)return void(i.nodeValue=""+o);if($(i,r),p(o))f(r,o,i,t);else if("if"==r){var s=e.stub,u=function e(){d(s.parentNode,s,i)},c=function e(){d(i.parentNode,i,s)};o?s&&(u(),i.inStub=!1,R(i)||M(i,function(e){e._tag&&!e._tag.isMounted&&(e._tag.isMounted=!!e._tag.trigger("mount"))})):(s=e.stub=s||document.createTextNode(""),i.parentNode?c():(t.parent||t).one("updated",c),i.inStub=!0)}else if(/^(show|hide)$/.test(r))"hide"==r&&(o=!o),i.style.display=o?"":"none";else if("value"==r)i.value=o;else if(H(r,X)&&r!=W)o&&y(i,r.slice(X.length),o);else{if(e.bool&&(i[r]=o,!o))return;(0===o||o&&(void 0===o?"undefined":_typeof(o))!==Q)&&y(i,r,o)}}})}function g(e,t){for(var n=e?e.length:0,i=0,r;i<n;i++)null!=(r=e[i])&&!1===t(r,i)&&i--;return e}function p(e){return(void 0===e?"undefined":_typeof(e))===Z||!1}function $(e,t){e.removeAttribute(t)}function h(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function v(e,t){return e.getAttribute(t)}function y(e,t,n){e.setAttribute(t,n)}function w(e){return e.tagName&&K[v(e,W)||e.tagName.toLowerCase()]}function x(e,t,n){var i=n.tags[t];i?(O(i)||i!==e&&(n.tags[t]=[i]),S(n.tags[t],e)||n.tags[t].push(e)):n.tags[t]=e}function b(e,t,n){var i=e.parent,r;i&&(r=i.tags[t],O(r)?r.splice(n,0,r.splice(r.indexOf(e),1)[0]):x(e,t,i))}function _(e,t,n,i){var r=new l(e,t,n),o=I(t.root),a=N(i);return r.parent=a,r._parent=i,x(r,o,a),a!==i&&x(r,o,i),t.root.innerHTML="",r}function N(e){for(var t=e;!w(t.root)&&t.parent;)t=t.parent;return t}function E(e,t,n,i){return Object.defineProperty(e,t,T({value:n,enumerable:!1,writable:!1,configurable:!1},i)),e}function I(e){var t=w(e),n=v(e,"name");return n&&!ie.hasExpr(n)?n:t?t.name:e.tagName.toLowerCase()}function T(e){for(var t,n=arguments,i=1;i<n.length;++i)if(t=n[i])for(var r in t)A(e,r)&&(e[r]=t[r]);return e}function S(e,t){return~e.indexOf(t)}function O(e){return Array.isArray(e)||e instanceof Array}function A(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return _typeof(e[t])===Y||n&&n.writable}function L(e){if(!(e instanceof l||e&&_typeof(e.trigger)==Z))return e;var t={};for(var n in e)S(ee,n)||(t[n]=e[n]);return t}function M(e,t){if(e){if(!1===t(e))return;for(e=e.firstChild;e;)M(e,t),e=e.nextSibling}}function C(e,t){for(var n,i=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=i.exec(e);)t(n[1].toLowerCase(),n[2]||n[3]||n[4])}function R(e){for(;e;){if(e.inStub)return!0;e=e.parentNode}return!1}function k(e){return document.createElement(e)}function D(e,t){return(t||document).querySelectorAll(e)}function j(e,t){return(t||document).querySelector(e)}function B(e){function t(){}return t.prototype=e,new t}function U(e){return v(e,"id")||v(e,"name")}function z(e,t,n){var i=U(e),r,o=function o(a){S(n,i)||(r=O(a),a?(!r||r&&!S(a,e))&&(r?a.push(e):t[i]=[a,e]):t[i]=e)};i&&(ie.hasExpr(i)?t.one("mount",function(){i=U(e),o(t[i])}):o(t[i]))}function H(e,t){return e.slice(0,t.length)===t}function P(e,t,n){var i=K[t],r=e._innerHTML=e._innerHTML||e.innerHTML;return e.innerHTML="",i&&e&&(i=new l(i,{root:e,opts:n},r)),i&&i.mount&&(i.mount(),S(q,i)||q.push(i)),i}var F={version:"v2.3.15",settings:{}},V=0,q=[],K={},X="riot-",W=X+"tag",G="string",Q="object",Y="undefined",Z="function",J=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,ee=["_item","_id","_parent","update","root","mount","unmount","mixin","isMounted","isLoop","tags","parent","opts","trigger","on","off","one"],te=0|(e&&e.document||{}).documentMode;F.observable=function(e){e=e||{};var t={},n=Array.prototype.slice,i=function e(t,n){t.replace(/\S+/g,n)},r=function t(n,i){Object.defineProperty(e,n,{value:i,enumerable:!1,writable:!1,configurable:!1})};return r("on",function(n,r){return"function"!=typeof r?e:(i(n,function(e,n){(t[e]=t[e]||[]).push(r),r.typed=n>0}),e)}),r("off",function(n,r){return"*"!=n||r?i(n,function(e){if(r)for(var n=t[e],i=0,o;o=n&&n[i];++i)o==r&&n.splice(i--,1);else delete t[e]}):t={},e}),r("one",function(t,n){function i(){e.off(t,i),n.apply(e,arguments)}return e.on(t,i)}),r("trigger",function(r){var o=n.call(arguments,1),a;return i(r,function(i){a=n.call(t[i]||[],0);for(var r=0,s;s=a[r];++r){if(s.busy)return;s.busy=1,s.apply(e,s.typed?[i].concat(o):o),a[r]!==s&&r--,s.busy=0}t["*"]&&"*"!=i&&e.trigger.apply(e,["*",i].concat(o))}),e}),e},function(t){function n(e){return e.split(/[\/?#]/)}function i(e,t){var n=new RegExp("^"+t[y](/\*/g,"([^/?#]+?)")[y](/\.\./,".*")+"$"),i=e.match(n);if(i)return i.slice(1)}function r(e,t){var n;return function(){clearTimeout(n),n=setTimeout(e,t)}}function o(e){C=r(l,1),N[h](w,C),N[h](x,C),E[h](O,f),e&&l(!0)}function a(){this.$=[],t.observable(this),L.on("stop",this.s.bind(this)),L.on("emit",this.e.bind(this))}function $(e){return e[y](/^\/|\/$/,"")}function s(e){return"string"==typeof e}function u(e){return(e||T.href||"")[y](m,"")}function c(e){return"#"==R[0]?(e||T.href||"").split(R)[1]||"":u(e)[y](R,"")}function l(e){var t=0==U;if(!(_<=U)&&(U++,B.push(function(){var t=c();(e||t!=k)&&(L[b]("emit",t),k=t)}),t)){for(;B.length;)B[0](),B.shift();U=0}}function f(e){if(!(1!=e.which||e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){for(var t=e.target;t&&"A"!=t.nodeName;)t=t.parentNode;!t||"A"!=t.nodeName||t[v]("download")||!t[v]("href")||t.target&&"_self"!=t.target||-1==t.href.indexOf(T.href.match(m)[0])||(t.href==T.href||t.href.split("#")[0]!=T.href.split("#")[0]&&("#"==R||0===u(t.href).indexOf(R))&&d(c(t.href),t.title||E.title))&&e.preventDefault()}}function d(e,t,n){return I?(e=R+$(e),t=t||E.title,n?I.replaceState(null,t,e):I.pushState(null,t,e),E.title=t,M=!1,l(),M):L[b]("emit",c(e))}var m=/^.+?\/+[^\/]+/,g="EventListener",p="remove"+g,h="add"+g,v="hasAttribute",y="replace",w="popstate",x="hashchange",b="trigger",_=3,N=void 0!==e&&e,E="undefined"!=typeof document&&document,I=N&&history,T=N&&(I.location||N.location),S=a.prototype,O=E&&E.ontouchstart?"touchstart":"click",A=!1,L=t.observable(),M=!1,C,R,k,D,j,B=[],U=0;S.m=function(e,t,n){!s(e)||t&&!s(t)?t?this.r(e,t):this.r("@",e):d(e,t,n||!1)},S.s=function(){this.off("*"),this.$=[]},S.e=function(e){this.$.concat("@").some(function(t){var n=("@"==t?D:j)($(e),$(t));if(void 0!==n)return this[b].apply(null,[t].concat(n)),M=!0},this)},S.r=function(e,t){"@"!=e&&(e="/"+$(e),this.$.push(e)),this.on(e,t)};var z=new a,H=z.m.bind(z);H.create=function(){var e=new a;return e.m.stop=e.s.bind(e),e.m.bind(e)},H.base=function(e){R=e||"#",k=c()},H.exec=function(){l(!0)},H.parser=function(e,t){e||t||(D=n,j=i),e&&(D=e),t&&(j=t)},H.query=function(){var e={};return(T.href||k)[y](/[?&](.+?)=([^&]*)/g,function(t,n,i){e[n]=i}),e},H.stop=function(){A&&(N&&(N[p](w,C),N[p](x,C),E[p](O,f)),L[b]("stop"),A=!1)},H.start=function(e){A||(N&&("complete"==document.readyState?o(e):N[h]("load",function(){setTimeout(function(){o(e)},1)})),A=!0)},H.base(),H.parser(),t.route=H}(F);var ne=function(e){function t(e){return e}function n(e,t){return t||(t=h),new RegExp(e.source.replace(/{/g,t[2]).replace(/}/g,t[3]),e.global?s:"")}function i(e){if(e===d)return m;var t=e.split(" ");if(2!==t.length||/[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(e))throw new Error('Unsupported brackets "'+e+'"');return t=t.concat(e.replace(/(?=[[\]()*+?.^$|])/g,"\\").split(" ")),t[4]=n(t[1].length>1?/{[\S\s]*?}/:m[4],t),t[5]=n(e.length>3?/\\({|})/g:m[5],t),t[6]=n(m[6],t),t[7]=RegExp("\\\\("+t[3]+")|([[({])|("+t[3]+")|"+l,s),t[8]=e,t}function r(e){return e instanceof RegExp?p(e):h[e]}function o(e){(e||(e=d))!==h[8]&&(h=i(e),p=e===d?t:n,h[9]=p(m[9]),h[10]=p(m[10])),g=e}function a(e){var t;e=e||{},t=e.brackets,Object.defineProperty(e,"brackets",{set:o,get:function e(){return g},enumerable:!0}),v=e,o(t)}var s="g",u=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,c=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,l=c.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,f={"(":RegExp("([()])|"+l,s),"[":RegExp("([[\\]])|"+l,s),"{":RegExp("([{}])|"+l,s)},d="{ }",m=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+l,s),d,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],g=e,p,h=[],v;return r.split=function e(t,n,i){function r(e){n||u?a.push(e&&e.replace(i[5],"$1")):a.push(e)}function o(e,t,n){var i,r=f[t];for(r.lastIndex=n,n=1;(i=r.exec(e))&&(!i[1]||(i[1]===t?++n:--n)););return n?e.length:r.lastIndex}i||(i=h);var a=[],s,u,c,l,d=i[6];for(u=c=d.lastIndex=0;s=d.exec(t);){if(l=s.index,u){if(s[2]){d.lastIndex=o(t,s[2],d.lastIndex);continue}if(!s[3])continue}s[1]||(r(t.slice(c,l)),c=d.lastIndex,d=i[6+(u^=1)],d.lastIndex=c)}return t&&c<t.length&&r(t.slice(c)),a},r.hasExpr=function e(t){return h[4].test(t)},r.loopKeys=function e(t){var n=t.match(h[9]);return n?{key:n[1],pos:n[2],val:h[0]+n[3].trim()+h[1]}:{val:t.trim()}},r.hasRaw=function(e){return h[10].test(e)},r.array=function e(t){return t?i(t):h},Object.defineProperty(r,"settings",{set:a,get:function e(){return v}}),r.settings=void 0!==F&&F.settings||{},r.set=o,r.R_STRINGS=c,r.R_MLCOMMS=u,r.S_QBLOCKS=l,r}(),ie=function(){function t(e,t){return e?(s[e]||(s[e]=i(e))).call(t,n):e}function n(e,n){t.errorHandler&&(e.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},t.errorHandler(e))}function i(e){var t=r(e);return"try{return "!==t.slice(0,11)&&(t="return "+t),new Function("E",t+";")}function r(e){var t=[],n,i=ne.split(e.replace(/\u2057/g,'"'),1);if(i.length>2||i[0]){var r,a,s=[];for(r=a=0;r<i.length;++r)(n=i[r])&&(n=1&r?o(n,1,t):'"'+n.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(s[a++]=n);n=a<2?s[0]:"["+s.join(",")+'].join("")'}else n=o(i[1],0,t);return t[0]&&(n=n.replace(c,function(e,n){return t[n].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),n}function o(e,t,n){function i(t,n){var i,r=1,o=l[t];for(o.lastIndex=n.lastIndex;i=o.exec(e);)if(i[0]===t)++r;else if(!--r)break;n.lastIndex=r?e.length:o.lastIndex}if("="===e[0]&&(e=e.slice(1)),e=e.replace(u,function(e,t){return e.length>2&&!t?""+(n.push(e)-1)+"~":e}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var r=[],o=0,s;e&&(s=e.match(f))&&!s.index;){var c,d,m=/,|([[{(])|$/g;for(e=RegExp.rightContext,c=s[2]?n[s[2]].slice(1,-1).trim().replace(/\s+/g," "):s[1];d=(s=m.exec(e))[1];)i(d,m);d=e.slice(0,s.index),e=RegExp.rightContext,r[o++]=a(d,1,c)}e=o?o>1?"["+r.join(",")+'].join(" ").trim()':r[0]:a(e,t)}return e}function a(e,t,n){var i;return e=e.replace(m,function(e,t,n,r,o){return n&&(r=i?0:r+e.length,"this"!==n&&"global"!==n&&"window"!==n?(e=t+'("'+n+d+n,r&&(i="."===(o=o[r])||"("===o||"["===o)):r&&(i=!g.test(o.slice(r)))),e}),i&&(e="try{return "+e+"}catch(e){E(e,this)}"),n?e=(i?"function(){"+e+"}.call(this)":"("+e+")")+'?"'+n+'":""':t&&(e="function(v){"+(i?e.replace("return ","v="):"v=("+e+")")+';return v||v===0?v:""}.call(this)'),e}var s={};t.haveRaw=ne.hasRaw,t.hasExpr=ne.hasExpr,t.loopKeys=ne.loopKeys,t.errorHandler=null;var u=RegExp(ne.S_QBLOCKS,"g"),c=/\x01(\d+)~/g,l={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},f=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\x01(\d+)~):/,d='"in this?this:'+("object"!==(void 0===e?"undefined":_typeof(e))?"global":"window")+").",m=/[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,g=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return t.parse=function(e){return e},t.version=ne.version="v2.3.21",t}(),re=function(e){function t(e,t){var r=e&&e.match(/^\s*<([-\w]+)/),o=r&&r[1].toLowerCase(),u=k(a);return e=i(e,t||""),s.test(o)?u=n(u,e,o):u.innerHTML=e,u.stub=!0,u}function n(e,t,n){var i="o"===n[0],r=i?"select>":"table>";if(e.innerHTML="<"+r+t.trim()+"</"+r,r=e.firstChild,i)r.selectedIndex=-1;else{var a=o[n];a&&1===r.children.length&&(r=j(a,r))}return r}function i(e,t){if(!/<yield\b/i.test(e))return e;var n=0;return e=e.replace(/<yield\s+from=['"]([-\w]+)['"]\s*(?:\/>|>\s*<\/yield\s*>)/gi,function(e,i){var o=t.match(RegExp(r.replace("@",i),"i"));return++n,o&&o[2]||""}),n?e:e.replace(/<yield\s*(?:\/>|>\s*<\/yield\s*>)/gi,t)}var r=/<yield\s+to=(['"])?@\1\s*>([\S\s]+?)<\/yield\s*>/.source,o={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},a="div";e=e&&e<10;var s=e?J:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;return t}(te),oe=function(t){if(!e)return{add:function e(){},inject:function e(){}};var n=function(){var e=k("style");y(e,"type","text/css");var t=j("style[type=riot]");return t?(t.id&&(e.id=t.id),t.parentNode.replaceChild(e,t)):document.getElementsByTagName("head")[0].appendChild(e),e}(),i=n.styleSheet,r="";return Object.defineProperty(t,"styleNode",{value:n,writable:!0}),{add:function e(t){r+=t},inject:function e(){r&&(i?i.cssText+=r:n.innerHTML+=r,r="")}}}(F),ae=function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame;if(!t||/iP(ad|hone|od).*OS 6/.test(e.navigator.userAgent)){var n=0;t=function e(t){var e=Date.now(),i=Math.max(16-(e-n),0);setTimeout(function(){t(n=e+i)},i)}}return t}(e||{});F.util={brackets:ne,tmpl:ie},F.mixin=function(){var e={};return function(t,n){if(!n)return e[t];e[t]=n}}(),F.tag=function(e,t,n,i,r){return p(i)&&(r=i,/^[\w\-]+\s?=/.test(n)?(i=n,n=""):i=""),n&&(p(n)?r=n:oe.add(n)),K[e]={name:e,tmpl:t,attrs:i,fn:r},e},F.tag2=function(e,t,n,i,r,o){return n&&oe.add(n),K[e]={name:e,tmpl:t,attrs:i,fn:r},e},F.mount=function(e,t,n){function i(e){var t="";return g(e,function(e){/[^-\w]/.test(e)||(t+=",*["+W+"="+e.trim()+"]")}),t}function r(){var e=Object.keys(K);return e+i(e)}function o(e){var i;if(e.tagName){!t||(i=v(e,W))&&i==t||y(e,W,t);var r=P(e,t||e.getAttribute(W)||e.tagName.toLowerCase(),n);r&&u.push(r)}else e.length&&g(e,o)}var a,s,u=[];if(oe.inject(),(void 0===t?"undefined":_typeof(t))===Q&&(n=t,t=0),(void 0===e?"undefined":_typeof(e))===G?("*"===e?e=s=r():e+=i(e.split(",")),a=e?D(e):[]):a=e,"*"===t){if(t=s||r(),a.tagName)a=D(t,a);else{var c=[];g(a,function(e){c.push(D(t,e))}),a=c}t=0}return a.tagName?o(a):g(a,o),u},F.update=function(){return g(q,function(e){e.update()})},F.Tag=l,("undefined"==typeof exports?"undefined":_typeof(exports))===Q?module.exports=F:("undefined"==typeof define?"undefined":_typeof(define))===Z&&_typeof(define.amd)!==Y?define(function(){return F}):e.riot=F}("undefined"!=typeof window?window:void 0),riot.tag2("ctrl-image",'<div id="previewImage" class="image-content"> <canvas id="imageCtrl" width="{width}" height="{height}"></canvas> <div onclick="{selectImage}" class="image-input"> <input id="imageInput"  type="file" onchange="{changeImage}"> </div> <div show="{uploaded &amp;&amp; !stop}" onclick="{restart}" class="icon icon-restart"></div> <div show="{uploaded &amp;&amp; !stop}" onclick="{rotation}" class="icon icon-rotation"></div> <div class="mask-note fadeIn animated"></div> </div><yield></yield>',"","",function(opts){var createObjectURLfun,defaultOrin,defaultType,logOrin,logSize,self;self=this,this.width=null!=opts.width?opts.width:640,this.height=null!=opts.height?opts.height:640,this.stop=!1,this._selectImage=!1,this.uploaded=!1,this.noted=!0,this.image=null,this.info=null,this.frame={rotation:0,x:0,y:0,w:640,h:640},defaultOrin=[],defaultType=null,logOrin={x:self.frame.x,y:self.frame.y},logSize={w:self.frame.w,h:self.frame.h},null!=opts.selectimage&&(this._selectImage=opts.selectimage),null==global.canvas&&(global.canvas=self),createObjectURLfun=function e(t){return null!=window.webkitURL||window.navigator.userAgent.indexOf("Chrome")>=1||window.navigator.userAgent.indexOf("Safari")>=1?window.webkitURL.createObjectURL(t):window.URL.createObjectURL(t)},this.setDefault=function(e,t,n,i){return self.frame.x=e,self.frame.y=t,self.frame.w=n,self.frame.h=i,console.log("default:",self.frame),logOrin={x:self.frame.x,y:self.frame.y},logSize={w:self.frame.w,h:self.frame.h},console.log("default:",logSize),self.frame},this.selectImage=function(evt){return!self._selectImage||null==self._selectImage||eval(self._selectImage+".call(self)")},this.changeImage=function(e){var t,n;return n=document.getElementById("imageInput"),t=createObjectURLfun(n.files[0]),self.passImage(t)},this.passImage=function(e){var t,n,i,r;return n=new Image,t=function e(){return console.log("canvas image"),self.image=n,EXIF.getData(n,function(){var e;return e=EXIF.getTag(n,"Orientation"),self.info=e,6===e?r():i()}),!0},r=function e(){var t,i,r,o,a,s;return t=document.getElementById("imageCtrl"),i=t.getContext("2d"),i.save(),o=n.width,r=n.height,o>r?(o*=t.height/r,r*=t.height/r):o/r>t.width/t.height?(r*=t.height/o,o*=t.height/o):o>t.width?(o*=t.width/r,r*=t.width/r):o===r&&(r*=t.height/r,o*=t.width/o),a=-(o-t.height)/2,s=-(r-t.width)/2,i.clearRect(-1e4,-1e4,5e4,5e4),i.translate(t.width/2,t.height/2),i.rotate(90*Math.PI/180),i.translate(-t.width/2,-t.height/2),i.drawImage(self.image,self.frame.x,self.frame.y,o,r),self.setDefault(self.frame.x,self.frame.y,o,r),self.frame.rotation=90,self.frame.rotation=0,i.restore(),self.init()},i=function e(){var t,i,r,o,a,s;return t=document.getElementById("imageCtrl"),i=t.getContext("2d"),i.save(),o=n.width,r=n.height,o>r?(o*=t.height/r,r*=t.height/r):o/r>t.width/t.height?(o*=t.height/r,r*=t.height/r):o>t.width?(r*=t.width/o,o*=t.width/o):o===r&&(r*=t.height/r,o*=t.width/o),a=-(o-t.width)/2,s=-(r-t.height)/2,i.clearRect(-1e4,-1e4,5e4,5e4),i.drawImage(n,a,s,o,r),self.setDefault(a,s,o,r),i.restore(),self.init()},n.onload=t,n.src=e},this.init=function(){return self.uploaded=!0,self.noted=!1,self.update(),self.target=document.getElementById("imageCtrl"),changeImage(),setTimeout(function(){return self.hideNote(),console.log(self.uploaded)},2e3)},this.hideNote=function(){return self.noted=!1,self.update()},this.upload=function(){var e;return e=canvas.toDataURL("image/png")},this.restart=function(){var e,t;return e=document.getElementById("imageCtrl"),t=e.getContext("2d"),t.clearRect(-1e4,-1e4,5e4,5e4),self.uploaded=!1,self.noted=!1},this.rotation=function(){var e,t,n;self.frame.rotation+=90,360===self.frame.rotation&&(self.frame.rotation=0),n=90*Math.PI/180,console.log(self.frame.rotation,n),e=document.getElementById("imageCtrl"),t=e.getContext("2d"),t.clearRect(-1e4,-1e4,5e4,5e4),t.translate(e.width/2,e.height/2),t.rotate(n),t.translate(-e.width/2,-e.height/2),t.drawImage(self.image,self.frame.x,self.frame.y,logSize.w,logSize.h),t.rotate(-n)},this.getContent=function(){var e;return!!self.uploaded&&(e=document.getElementById("imageCtrl"),e.toDataURL("image/png"))},this.stopCtrl=function(){return this.stop=!0,this.noted=!1,this.update()},this.start=function(e){var t,n,i,r;if(this.stop)return!1;for(r=e.touches,defaultType=r.length,t=n=0,i=r.length;0<=i?n<i:n>i;t=0<=i?++n:--n)defaultOrin[t]={x:r[t].clientX,y:r[t].clientY};return console.log("start",defaultType,defaultOrin,self.frame,logSize)},this.move=function(e){var t,n,i,r,o,a,s,u,c,l,f;return!this.stop&&(s=e.touches,t=self.target.getContext("2d"),e.preventDefault(),1===defaultType&&(r=s[0].clientX-defaultOrin[0].x,o=s[0].clientY-defaultOrin[0].y,logOrin.x=self.frame.x+r,logOrin.y=self.frame.y+o,90===self.frame.rotation&&(logOrin.x=self.frame.x+o,logOrin.y=self.frame.y-r),180===self.frame.rotation&&(logOrin.x=self.frame.x-r,logOrin.y=self.frame.y-o),270===self.frame.rotation&&(logOrin.x=self.frame.x-o,logOrin.y=self.frame.y+r),t.clearRect(-1e4,-1e4,5e4,5e4),t.drawImage(self.image,logOrin.x,logOrin.y,self.frame.w,self.frame.h)),2===defaultType?(console.log("scale"),u=defaultOrin[0].x,l=defaultOrin[0].y,c=defaultOrin[1].x,f=defaultOrin[1].y,i=Math.sqrt((u-c)*(u-c)+(l-f)*(l-f)),u=s[0].clientX,l=s[0].clientY,c=s[1].clientX,f=s[1].clientY,n=Math.sqrt((u-c)*(u-c)+(l-f)*(l-f)),a=(n-i)/640,logSize.w=self.frame.w*(1+a),logSize.h=self.frame.h*(1+a),t.clearRect(-1e4,-1e4,5e4,5e4),t.drawImage(self.image,self.frame.x,self.frame.y,logSize.w,logSize.h)):void 0)},this.end=function(e){var t,n,i,r;if(this.stop)return!1;for(r=e.touches,defaultType=r.length,t=n=0,i=r.length;0<=i?n<i:n>i;t=0<=i?++n:--n)defaultOrin[t]={x:r[t].clientX,y:r[t].clientY};return self.frame.x=logOrin.x,self.frame.y=logOrin.y,self.frame.w=logSize.w,self.frame.h=logSize.h,console.log("end",logSize,self.frame)}},"{ }"),_CDN="",_imgurl="",global={},main={},pre={},load={},imageurl="http://api.giccoo.com/sayno/corona/create/",post_url="http://api.giccoo.com/sayno/corona/insert/",info_link="http://api.giccoo.com/sayno/corona/get/",sys="other",name_list=["一个像夏天一个像秋天","十年 (可编辑)","有没有那么一首歌让你想起我","兄弟"],topic_list=["那年握着一个128MB的MP3，\n每天放学路上，是属于我们的单曲循环。","那年夏天，我们在操场唱着《十年》\n十年了，你们都在哪儿 (可编辑)","好久不见，你们现在还好吗？\n老朋友，我突然有点想你们了。","嘿，兄弟，有什么事别一个人扛。\n一句话，兄弟我过来陪你。"],waitTime=1e4,imageLink="",runAnimate=function e(){var t;return t=new TimelineLite,t.add(TweenLite.set("#animate .animte-frame-1",{opacity:0})),t.add(TweenLite.set("#animate .animte-frame-2",{opacity:0})),t.add(TweenLite.set("#animate .animte-frame-3",{opacity:0})),t.add(TweenLite.set("#animate .animte-frame-4",{opacity:0})),t.add(TweenLite.set("#animate .animte-frame-4 .text",{y:0,opacity:1})),t.add(TweenLite.set("#animate .animte-frame-4 .sunlight",{y:800,opacity:0})),t.add(TweenLite.set("#animate .animte-frame-4 .people",{y:400,opacity:0})),t.add(TweenLite.set("#animate .animte-frame-4 .text-1",{y:200,opacity:0})),t.add(TweenLite.set("#animate .animte-frame-4 .text-2",{y:200,opacity:0})),t.add(TweenLite.set("#animate .animte-frame-4 .text-3",{y:200,opacity:0})),t.to("#animate .animte-frame-1",.8,{opacity:1}).to("#animate .animte-frame-2",.8,{opacity:1,delay:3.5}).to("#animate .animte-frame-3",.8,{opacity:1,delay:3.5}).to("#animate .animte-frame-4",.8,{opacity:1,delay:3.5}).to("#animate .animte-frame-4 .text",.8,{y:-800,opacity:0,delay:3.5}).to("#animate .animte-frame-4 .sunlight",.8,{y:0,opacity:1,delay:-1}).to("#animate .animte-frame-4 .people",.8,{y:0,opacity:1,delay:0}).to("#animate .animte-frame-4 .text-3",.6,{y:0,opacity:1,delay:0}).to("#animate .animte-frame-4 .text-2",.6,{y:0,opacity:1,delay:-.3}).to("#animate .animte-frame-4 .text-1",.6,{y:0,opacity:1,delay:-.3,onComplete:function e(){return main.animatend=!1}})},changeImage=function e(){return console.log("image changed"),main.imageselect=!0},getRandom=function e(t){return parseInt(Math.random()*(t+1)-1)},window.onload=function(){return window.navigator.userAgent.indexOf("NeteaseMusic")>-1?sys="NeteaseMusic":(loadWechatConfig(),wx.ready(function(){var e;return e={title:"有没有那么一首歌，让你想起……",desc:"",link:"http://m.giccoo.com/corona/",imgUrl:"http://m.giccoo.com/corona/img/ico.jpg",success:function e(){},cancel:function e(){}},wx.onMenuShareTimeline(e),wx.onMenuShareAppMessage(e),wx.onMenuShareQQ(e),wx.onMenuShareWeibo(e)})),$_GET.id&&$_GET.id>0?(fetch(info_link+"?id="+$_GET.id).then(function(e){return e.json()}).then(function(e){return null!=e.info.image?(imageLink=e.info.image,document.getElementById("page-image").style="display: block",document.getElementById("view-img").src="http://image.giccoo.com/sayno/corona/"+e.info.image+"@!large"):init()}).catch(function(e){return""===imageLink?init():(document.getElementById("page-image").style="display: block",document.getElementById("view-img").src="http://image.giccoo.com/sayno/corona/"+imageLink+"@!large",review())}),!1):init()},loadEnd=function e(){},review=function e(){var t;return t=new Vue({el:"#page-image",data:{show:!0},mounted:function e(){return loadEnd()}})},init=function e(){var t;return t=getRandom(name_list.length),main=new Vue({el:"#main",data:{animatend:!1,loading:!1,mount:!0,animate:!1,buildshow:!1,shareNote:!1,shareNoteSys:!1,pop:!1,buildstep:1,musicname:name_list[1],topic:topic_list[1],image:1,imageselect:!1,buildresult:"",buildover:!1,award:"",creatEnd:!1,lastpage:!1,noaward:!1,haveaward:!1,registertext:!1,register:!1,playing:!1,postfail:!1,ugc:!1,ugcsrc:"",cacheArea:"",cacheName:"",awardText:"",awardlink:"",form:{username:"",mobile:"",address:"",code:"",random:""}},watch:{animate:function e(t){if(t)return runAnimate()},image:function e(t){return console.log(t),document.getElementById("preview-img").src="./img/p-"+t+".jpg"},award:function e(t){return this.form.code=t}},computed:{musicnamefull:function e(){return"《"+this.musicname.replace(" (可编辑)","")+"》"},topichtml:function e(){var t;return t=this.topic.replace(/\n/g,"<br/>"),t=t.replace(" (可编辑)","")}},methods:{playbgm:function e(){return this.playing=!this.playing,this.playing?document.getElementById("bgm").play():document.getElementById("bgm").pause()},focus:function e(t){if(name_list.indexOf(this.musicname)>-1)return this.cacheName=this.musicname+"",this.musicname=""},blur:function e(t){if(""===this.musicname)return this.musicname=this.cacheName},focusArea:function e(t){if(topic_list.indexOf(this.topic)>-1)return this.cacheArea=this.topic+"",this.topic=""},blurArea:function e(t){if(""===this.topic)return this.topic=this.cacheArea},prevImage:function e(){if(--this.image<1)return this.image=3},nextImage:function e(){if(++this.image>3)return this.image=1},reload:function e(){return t=getRandom(name_list.length),this.musicname=name_list[t],this.topic=topic_list[t]},gobuild:function e(){var t,n,r;if(this.musicname.length<=0)return alert("请再想想属于我们的那首歌");if(this.topic.split("\n").length>2)return alert("请控制您丰富的感情在 2 行以内的文字.");if(this.topic.length<=0)return alert("请输入要对老朋友说的话");for(r=this.topic.split("\n"),n=0,t=r.length;n<t;n++)if(i=r[n],console.log(i.replace(/[^\x00-\xff]/g,"01").length),i.replace(/[^\x00-\xff]/g,"01").length>40)return alert("请控制您丰富的感情当行文字不能超过20个中文字符以内");return this.buildstep=2},buildimage:function e(){var t,n,i,r,o,a,s;return a=this,n=document.getElementById("result"),n.width=640,n.height=1138,i=n.getContext("2d"),this.buildover=!0,o=new Image,t=new Image,r=new Image,o.onload=function(e){return i.drawImage(o,180,430,280,280),t.onload=function(e){return i.drawImage(t,0,0,t.width,t.height),s()},t.src="./img/create-bg.png"},this.imageselect?o.src=global.canvas.getContent():o.src="./img/p-"+this.image+".jpg",s=function e(){return i.fillStyle="#fff",i.textAlign="center",i.font="24px '微软雅黑'",i.fillText(a.musicnamefull,320,270),i.fillStyle="#0c2440",i.textAlign="center",i.font="24px '微软雅黑'",_runLongTexts(a.topic,i,320,810),main.creatEnd=!0,a.onUpload(n.toDataURL("image/png")),a.ugc=!0,a.ugcsrc=n.toDataURL("image/png")}},onUpload:function e(t){var n;return n={image:t},axios.post(imageurl,n).then(function(e){return 200===e.data.recode?main.success(e.data):main.faild()}).catch(function(e){return main.faild()})},success:function e(t){return updateShare(t),main.awardText=t.awardname,null!=t.awardlink&&(main.awardlink=t.awardlink),null!=t.award&&(this.award=t.award,this.form.random=t.random),"NeteaseMusic"===sys?setTimeout(function(){return main.shareNoteSys=!0},1e3):main.shareNote=!0},faild:function e(){return main.loading=!1,main.postfail=!0,alert("图片上传失败,请返回重新操作")},
popshow:function e(){return neteaseShare(),main.showaward(waitTime)},showaward:function e(t){return main.shareNoteSys=!1,this.award>0?this.haveaward=!0:this.noaward=!0,setTimeout(function(){return main.lastpage=!0},t)},gotoregister:function e(){return""===this.awardlink?this.register=!0:window.location.href=this.awardlink},onSubmit:function e(t){var n,i,r,o,a,s;if(console.log(this.form),this.form.username.length<1)return alert("姓名不能为空"),!1;if(this.form.mobile.length<1)return alert("电话不能为空"),!1;if(o=/^1\d{10}$/,!o.test(this.form.mobile))return alert("电话格式不正确"),!1;if(this.form.address.length<1)return alert("地址不能为空"),!1;a=post_url,n={},r=this.form;for(i in r)s=r[i],n[i]=s;return axios.post(a,n).then(function(e){return 200===e.data.recode?(main.registertext=!0,main.register=!1):alert(e.data.reason)})}},mounted:function e(){return riot.mount("*"),loadEnd()}})},_runLongTexts=function e(t,n,i,r){var o,a,s;if(o=t.split("\n"),t.length>0)return s=o[0],n.fillText(s.replace(" (可编辑)",""),i,r),a=t.replace(s+"\n",""),a=a.replace(s,""),r+=36.4,_runLongTexts(a,n,i,r)},updateShare=function e(t){var n,i,r;return i="http://image.giccoo.com/sayno/corona/"+t.filename+"@!large",n=null!=t.info.insertId&&t.info.insertId>0?"?id="+t.info.insertId:"","NeteaseMusic"===sys?_imgurl=i:(main.shareNote=!0,r={title:"有没有那么一首歌，让你想起……",desc:"",link:"http://m.giccoo.com/corona/"+n,imgUrl:"http://m.giccoo.com/corona/img/ico.jpg",success:function e(){return main.shareNote=!1,main.showaward(500)},cancel:function e(){}},wx.onMenuShareTimeline(r),wx.onMenuShareAppMessage(r),wx.onMenuShareQQ(r),wx.onMenuShareWeibo(r))},neteaseShare=function e(){var t,n,i,r,o;return r="有没有那么一首歌，让你想起……",t=_imgurl,n="http://m.giccoo.com/corona/",o="有没有那么一首歌，让你想起……",i=" ",window.location.href="orpheus://sharepic?picUrl="+encodeURIComponent(t)+"&shareUrl="+encodeURIComponent(n)+"&wbDesc="+encodeURIComponent(r)+"&qqDesc="+encodeURIComponent(r)},loadWechatConfig=function e(){var t,n,i;i=encodeURIComponent(window.location.href.split("#")[0]),t=document.createElement("script"),t.src="http://api.giccoo.com/api/config?url="+i,n=document.getElementsByTagName("script")[0],n.parentNode.insertBefore(t,n)},$_GET=function(){var e,t,n,r,o,a;if(a=window.document.location.href.toString(),o=a.split("?"),"string"==typeof o[1]){for(o=o[1].split("&"),e={},console.log(o),r=0,n=o.length;r<n;r++)i=o[r],t=i.split("="),e[t[0]]=t[1];return e}return{}}(),stopWebViewScroll=function e(){var t,n,i,r,o,a;for(r=function e(t){return t.addEventListener("touchstart",function(){var e,n,i;return n=t.scrollTop,i=t.scrollHeight,e=n+t.offsetHeight,0===n?t.scrollTop=1:e===i?t.scrollTop=n-1:void 0}),t.addEventListener("touchmove",function(e){if(t.offsetHeight<t.scrollHeight)return e._isScroller=!0})},document.addEventListener("touchmove",function(e){if(!e._isScroller)return e.preventDefault()}),o=document.querySelectorAll(".touch"),a=[],i=0,n=o.length;i<n;i++)t=o[i],a.push(r(t));return a};